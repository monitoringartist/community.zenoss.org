<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:clearspace="http://www.jivesoftware.com/xmlns/clearspace/rss" xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>Configuration : Extending Net-SNMP to Allow ZenOSS to Monitor Postfix : Comments</title>
    <link>http://community.zenoss.org/docs/DOC-2477#comments</link>
    <description>Comments on : Extending Net-SNMP to Allow ZenOSS to Monitor Postfix</description>
    <language>en</language>
    <pubDate>Fri, 11 Jun 2010 17:04:45 GMT</pubDate>
    <generator>Jive SBS 4.5.6.2  (http://jivesoftware.com/products/clearspace/)</generator>
    <dc:date>2010-06-11T17:04:45Z</dc:date>
    <dc:language>en</dc:language>
    <item>
      <title>RE: Extending Net-SNMP to Allow ZenOSS to Monitor Postfix</title>
      <link>http://community.zenoss.org/docs/DOC-2477#comments-2161</link>
      <description>&lt;!-- [DocumentBodyStart:06c7a27d-dc44-4a0a-b51c-f854f1f3e12d] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I think the formating on your perl scripts is a little messed up.&amp;#160; I had to remove the ?'s after the&lt;/p&gt;&lt;pre&gt;$ARGV[0]? to get it to work.&amp;#160; &lt;br/&gt;&lt;br/&gt;I also found this &lt;br/&gt;&lt;a class="jive-link-external-small" href="http://www.pitt-pladdy.com/blog/_20091122-164951%2B0000%20Postfix%20stats%20on%20Cacti%20%28via%20SNMP%29/"&gt;http://www.pitt-pladdy.com/blog/_20091122-164951%2B0000%20Postfix%20stats%20on%20Cacti%20%28via%20SNMP%29/&lt;/a&gt;&lt;br/&gt;which has some more scripts for more stats.&amp;#160; &lt;br/&gt;Though you would have to create the templates.&lt;br/&gt;&lt;/pre&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:06c7a27d-dc44-4a0a-b51c-f854f1f3e12d] --&gt;</description>
      <pubDate>Fri, 11 Jun 2010 14:33:39 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-2477#comments-2161</guid>
      <dc:date>2010-06-11T14:33:39Z</dc:date>
      <clearspace:dateToText>3 years, 9 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: Extending Net-SNMP to Allow ZenOSS to Monitor Postfix</title>
      <link>http://community.zenoss.org/docs/DOC-2477#comments-2186</link>
      <description>&lt;!-- [DocumentBodyStart:5e69a378-457f-4696-a62b-3e139e230e41] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;it looks like there is a bug in the &lt;code&gt;mailstats.pl&lt;/code&gt; when it comes to getting the queue numbers.&amp;#160; Below is the &lt;code&gt;mailstats.pl&lt;/code&gt; script that I used.&lt;/p&gt;&lt;pre&gt;#!/usr/bin/perl&lt;br/&gt;#&lt;br/&gt;&lt;br/&gt;use DB_File;&lt;br/&gt;$LOCAL=0;&lt;br/&gt;$SMTP=0;&lt;br/&gt;$TOTAL=0;&lt;br/&gt;$RECEIVED=0;&lt;br/&gt;$BOUNCED=0;&lt;br/&gt;$REJECTED=0;&lt;br/&gt;$QUEUE=0;&lt;br/&gt;&lt;br/&gt;$|=1;&lt;br/&gt;&lt;br/&gt;$stats_file = '/tmp/stats.db' ;&lt;br/&gt;&lt;br/&gt;tie(%foo, "DB_File", "$stats_file", O_RDONLY, 0666, $DB_HASH) || die ("Cannot open $stats_file");&lt;br/&gt;&lt;br/&gt;if ($ARGV[0] =~ /sent/) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; foreach (sort keys %foo) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if ( $_ =~ /SENT:smtp/ ) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if ( $foo{$_} =~ /^-?\d/ ) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $SMTP = $foo{$_};&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; } else {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $SMTP = 0;&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; } elsif ( $_ =~ /SENT:local/ ) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if ( $foo{$_} =~ /^-?\d/ ) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $LOCAL = $foo{$_};&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; } else {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $LOCAL = 0;&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; $TOTAL = $SMTP + $LOCAL;&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; print $TOTAL;&lt;br/&gt;} elsif ($ARGV[0] =~ /received/) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; foreach (sort keys %foo) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if ( $_ =~ /RECEIVED/ ) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if ( $foo{$_} =~ /^-?\d/ ) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $RECEIVED = $foo{$_};&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; } else {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $RECEIVED = 0;&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; print $RECEIVED;&lt;br/&gt;} elsif ($ARGV[0] =~ /bounced/) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; foreach (sort keys %foo) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if ( $_ =~ /BOUNCED/ ) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if ( $foo{$_} =~ /^-?\d/ ) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $BOUNCED = $foo{$_};&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; } else {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $BOUNCED = 0;&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; print $BOUNCED;&lt;br/&gt;} elsif ($ARGV[0] =~ /rejected/) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; foreach (sort keys %foo) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if ( $_ =~ /REJECTED/ ) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if ( $foo{$_} =~ /^-?\d/ ) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $REJECTED = $foo{$_};&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; } else {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $REJECTED = 0;&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; print $REJECTED;&lt;br/&gt;} elsif ($ARGV[0] =~ /queue/) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; @mailq = split(/\n/,`postqueue -p`);&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; @line = split(' ',$mailq[$#mailq]);&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; if ( $line[4] =~ /^-?\d/) {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $QUEUE = $line[4];&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; } else {&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; $QUEUE = 0;&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; }&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160; print $QUEUE;&lt;br/&gt;}&lt;br/&gt;untie %foo;&lt;/pre&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:5e69a378-457f-4696-a62b-3e139e230e41] --&gt;</description>
      <pubDate>Thu, 17 Jun 2010 19:24:23 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-2477#comments-2186</guid>
      <dc:date>2010-06-17T19:24:23Z</dc:date>
      <clearspace:dateToText>3 years, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
  </channel>
</rss>

