<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:clearspace="http://www.jivesoftware.com/xmlns/clearspace/rss" xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>ZenPacks : VMware ESX Filesystems : Comments</title>
    <link>http://community.zenoss.org/docs/DOC-3481#comments</link>
    <description>Comments on : VMware ESX Filesystems</description>
    <language>en</language>
    <pubDate>Fri, 07 May 2010 19:06:47 GMT</pubDate>
    <generator>Jive SBS 4.5.6.2  (http://jivesoftware.com/products/clearspace/)</generator>
    <dc:date>2010-05-07T19:06:47Z</dc:date>
    <dc:language>en</dc:language>
    <item>
      <title>RE: VMware ESX Filesystems</title>
      <link>http://community.zenoss.org/docs/DOC-3481#comments-2028</link>
      <description>&lt;!-- [DocumentBodyStart:ae712d47-a325-4fd4-9606-74770451930f] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hello,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;May I propose the following modifications to the vmware-esx.sh file ?&lt;/p&gt;&lt;p&gt;line 23 :&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; vdf=`echo "$vdf" | sed 's/"//g;s/SNMPv2-SMI::enterprises.6876.99999.1.101.*.* = STRING: //g'`&lt;/p&gt;&lt;p&gt;line 30-32 :&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; usedBlocks=`echo "$vdf" | awk '{ print $2 }'`&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; totalBlocks=`echo "$vdf" | awk '{ print $3 }'`&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; availBlocks=`echo "$((totalBlocks-usedBlocks))"`&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I noticed parsing issue when the cleaned vdf result is about more than 9 lines&lt;/p&gt;&lt;p&gt;This modified script is currently runnning on my ESX 4.0 u1 an gives perfect values regarding local storage and SAN attached ones &lt;img height="16px" src="http://community.zenoss.org/4.5.6/images/emoticons/grin.gif" width="16px"/&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;cheers,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Thierry.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:ae712d47-a325-4fd4-9606-74770451930f] --&gt;</description>
      <pubDate>Thu, 06 May 2010 19:53:41 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-3481#comments-2028</guid>
      <dc:date>2010-05-06T19:53:41Z</dc:date>
      <clearspace:dateToText>3 years, 10 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
  </channel>
</rss>

