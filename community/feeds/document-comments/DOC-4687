<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:clearspace="http://www.jivesoftware.com/xmlns/clearspace/rss" xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>ZenPacks : libvirt Virtualization : Comments</title>
    <link>http://community.zenoss.org/docs/DOC-4687#comments</link>
    <description>Comments on : libvirt Virtualization</description>
    <language>en</language>
    <pubDate>Wed, 14 Apr 2010 16:41:42 GMT</pubDate>
    <generator>Jive SBS 4.5.6.2  (http://jivesoftware.com/products/clearspace/)</generator>
    <dc:date>2010-04-14T16:41:42Z</dc:date>
    <dc:language>en</dc:language>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-1932</link>
      <description>&lt;!-- [DocumentBodyStart:c54c23b3-0e71-4bfd-b3f3-6dae5621a1bc] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;This is looking like a really good package. I'm monitoring ESX (vSphere 4) servers and have it working (after updating to libvirt 0.8.0 under Fedora core 12). But I guess because the libvirt libraries doen't return all the values for the domain of each guest, the performance graphs per guest are not populated. As such, I'm getting back some "general errors" when queries for the guest stats take place.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Is there an easy way to remove the performance tests from the ESX devices, or is adding the -p password parameter okay for the domainstats checks?&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:c54c23b3-0e71-4bfd-b3f3-6dae5621a1bc] --&gt;</description>
      <pubDate>Wed, 14 Apr 2010 16:41:42 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-1932</guid>
      <dc:date>2010-04-14T16:41:42Z</dc:date>
      <clearspace:dateToText>3 years, 11 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-1960</link>
      <description>&lt;!-- [DocumentBodyStart:1f0b8b4d-3b06-4529-b20b-f22f7df9ea68] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I finally got libvirt 0.8.0 installed and working from source under Unbuntu 8.04 LTS.&amp;#160; I am getting the following error when I run from the command line to test.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;div id="_mcePaste"&gt;libvir: Domain error : this function is not supported by the hypervisor: virDomainBlockStats&lt;/div&gt;&lt;div id="_mcePaste"&gt;Traceback (most recent call last):&lt;/div&gt;&lt;div id="_mcePaste"&gt;&amp;#160; File "./check_libvirt.py", line 458, in &amp;lt;module&amp;gt;&lt;/div&gt;&lt;div id="_mcePaste"&gt;&amp;#160;&amp;#160;&amp;#160; get_data_all(conn)&lt;/div&gt;&lt;div id="_mcePaste"&gt;&amp;#160; File "./check_libvirt.py", line 358, in get_data_all&lt;/div&gt;&lt;div id="_mcePaste"&gt;&amp;#160;&amp;#160;&amp;#160; disk_stats=dom.blockStats(dev)&lt;/div&gt;&lt;div id="_mcePaste"&gt;&amp;#160; File "/usr/local/lib/python2.5/site-packages/libvirt.py", line 600, in blockStats&lt;/div&gt;&lt;div id="_mcePaste"&gt;&amp;#160;&amp;#160;&amp;#160; if ret is None: raise libvirtError ('virDomainBlockStats() failed', dom=self)&lt;/div&gt;&lt;div id="_mcePaste"&gt;libvirt.libvirtError: this function is not supported by the hypervisor: virDomainBlockStats&lt;/div&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:1f0b8b4d-3b06-4529-b20b-f22f7df9ea68] --&gt;</description>
      <pubDate>Wed, 28 Apr 2010 20:17:35 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-1960</guid>
      <dc:date>2010-04-28T20:17:35Z</dc:date>
      <clearspace:dateToText>3 years, 10 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-2200</link>
      <description>&lt;!-- [DocumentBodyStart:176c1907-6c33-4417-982f-37b8e60771d7] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Is there a way to have this apply in a different device class? For instance, I have /Devices/Server/Linux/MySQL , etc and would like /Device/Server/Linux/KVM Host.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:176c1907-6c33-4417-982f-37b8e60771d7] --&gt;</description>
      <pubDate>Fri, 02 Jul 2010 15:27:48 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-2200</guid>
      <dc:date>2010-07-02T15:27:48Z</dc:date>
      <clearspace:dateToText>3 years, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-2893</link>
      <description>&lt;!-- [DocumentBodyStart:353d5659-1994-4a19-b028-c25a943583fe] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I have gotten my KVM/QEMU machines to work with this zenpack. However in getting my esx hosts to show I had to go thru the task of installing libvirt on my zenoss collector. Once that is done running a model on my esxi machine returns &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;div&gt;File "/opt/zenoss/ZenPacks/ZenPacks.community.libvirt-1.71.egg/ZenPacks/community/libvirt/libexec/check_libvirt.py", line 14, in ?&lt;/div&gt;&lt;div&gt;import libvirt&lt;/div&gt;&lt;div&gt;ImportError: No module named libvirt&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;Libvirt is running and was compiled at the path /usr/local/src/libvirt-0.8.4&lt;/div&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Any assistance here would be great, as I feel I am very close to being able to monitor my whole virtualized environments.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=";" title="Project homepage"&gt;&lt;a class="jive-link-external-small" href="http://www.zenoss.com/" target="_blank"&gt;Zenoss&lt;/a&gt;&lt;/td&gt;&lt;td style=";"&gt;Zenoss 3.0.2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";" title="Project homepage"&gt;&lt;a class="jive-link-external-small" href="http://www.tldp.org/" target="_blank"&gt;OS&lt;/a&gt;&lt;/td&gt;&lt;td style=";"&gt;Linux (x86_64) 2.6.18 (Linux (hostname) 2.6.18-164.15.1.el5 #1 SMP Wed Mar 17 11:30:06 EDT 2010 x86_64)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";" title="Project homepage"&gt;&lt;a class="jive-link-external-small" href="http://www.zope.org/" target="_blank"&gt;Zope&lt;/a&gt;&lt;/td&gt;&lt;td style=";"&gt;Zope 2.12.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";" title="Project homepage"&gt;&lt;a class="jive-link-external-small" href="http://www.python.org/" target="_blank"&gt;Python&lt;/a&gt;&lt;/td&gt;&lt;td style=";"&gt;Python 2.6.2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";" title="Project homepage"&gt;&lt;a class="jive-link-external-small" href="http://www.mysql.com/" target="_blank"&gt;Database&lt;/a&gt;&lt;/td&gt;&lt;td style=";"&gt;MySQL 5.0.77 (Ver 5.0.77)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";" title="Project homepage"&gt;&lt;a class="jive-link-external-small" href="http://oss.oetiker.ch/rrdtool" target="_blank"&gt;RRD&lt;/a&gt;&lt;/td&gt;&lt;td style=";"&gt;RRDtool 1.3.9&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";" title="Project homepage"&gt;&lt;a class="jive-link-external-small" href="http://twistedmatrix.com/trac" target="_blank"&gt;Twisted&lt;/a&gt;&lt;/td&gt;&lt;td style=";"&gt;Twisted 8.1.0&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";" title="Project homepage"&gt;&lt;a class="jive-link-external-small" href="http://net-snmp.sourceforge.net/" target="_blank"&gt;NetSnmp&lt;/a&gt;&lt;/td&gt;&lt;td style=";"&gt;NetSnmp 5.3.2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";" title="Project homepage"&gt;&lt;a class="jive-link-external-small" href="http://www.zenoss.com/" target="_blank"&gt;PyNetSnmp&lt;/a&gt;&lt;/td&gt;&lt;td style=";"&gt;PyNetSnmp 0.28.14&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";" title="Project homepage"&gt;&lt;a class="jive-link-external-small" href="http://www.zenoss.com/" target="_blank"&gt;WMI&lt;/a&gt;&lt;/td&gt;&lt;td style=";"&gt;Wmi 1.3.13&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:353d5659-1994-4a19-b028-c25a943583fe] --&gt;</description>
      <pubDate>Tue, 26 Oct 2010 20:22:23 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-2893</guid>
      <dc:date>2010-10-26T20:22:23Z</dc:date>
      <clearspace:dateToText>3 years, 4 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-4101</link>
      <description>&lt;!-- [DocumentBodyStart:544aebc1-6d97-4074-9651-8ea6a3a02161] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;According to this post:&lt;/p&gt;&lt;p&gt;&lt;a class="jive-link-external-small" href="http://community.zenoss.org/message/54940"&gt;http://community.zenoss.org/message/54940&lt;/a&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;This zenpack doesn't run on Zenoss 3x&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Any chance of an updated zenpack?&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:544aebc1-6d97-4074-9651-8ea6a3a02161] --&gt;</description>
      <pubDate>Wed, 29 Jun 2011 13:46:40 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-4101</guid>
      <dc:date>2011-06-29T13:46:40Z</dc:date>
      <clearspace:dateToText>2 years, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-4136</link>
      <description>&lt;!-- [DocumentBodyStart:b5d4e836-d5c1-47d3-80b7-097be6aa8235] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;After rename to zenpack --install ZenPacks.community.libvirt-1.71.egg can be installed without problem.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:b5d4e836-d5c1-47d3-80b7-097be6aa8235] --&gt;</description>
      <pubDate>Fri, 01 Jul 2011 20:23:43 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-4136</guid>
      <dc:date>2011-07-01T20:23:43Z</dc:date>
      <clearspace:dateToText>2 years, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-5773</link>
      <description>&lt;!-- [DocumentBodyStart:e9c4226c-11b7-4da5-abde-6b4567147d2b] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;&lt;span style="text-decoration: line-through;"&gt;Same issue here . &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style="text-decoration: line-through;"&gt;did you managed to solve it ?&lt;/span&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Solved by :&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;aptitude install python-libvirt&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;But it's still not working ...&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I 've set up a keyless connexion to the host.&lt;/p&gt;&lt;p&gt;I can do a virsh -c qemu+ssh:/IP/system sysinfo .&lt;/p&gt;&lt;p&gt;But I get the same result than you once I model it.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I can run the script with the arguments and get a return but once I model it, I get :&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p class="streaming-line odd"&gt; 2012-06-20 10:18:58,303 INFO zen.PythonClient: libvirt: username=root connecttype=qemu+ssh://&amp;#160; &lt;/p&gt;&lt;p class="streaming-line even"&gt; libvir: RPC error : Cannot recv data: Host key verification failed. : Connection reset by peer&amp;#160; &lt;/p&gt;&lt;p class="streaming-line odd"&gt; Traceback (most recent call last):&amp;#160; &lt;/p&gt;&lt;p class="streaming-line even"&gt; File "/usr/local/zenoss/zenoss/ZenPacks/ZenPacks.community.libvirt-1.71.egg/ZenPacks/community/libvirt/libexec/check_libvirt.py", line 422, in&amp;#160; &lt;/p&gt;&lt;p class="streaming-line odd"&gt; conn=libvirt.openReadOnly(connecttype+username+'@'+hostname+'/system'+'?socket='+socket)&amp;#160; &lt;/p&gt;&lt;p class="streaming-line even"&gt; File "/usr/lib/python2.7/dist-packages/libvirt.py", line 247, in openReadOnly&amp;#160; &lt;/p&gt;&lt;p class="streaming-line odd"&gt; if ret is None:raise libvirtError('virConnectOpenReadOnly() failed')&amp;#160; &lt;/p&gt;&lt;p class="streaming-line even"&gt; libvirt.libvirtError: Cannot recv data: Host key verification failed. : Connection reset by peer&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;any idea ???&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:e9c4226c-11b7-4da5-abde-6b4567147d2b] --&gt;</description>
      <pubDate>Tue, 19 Jun 2012 12:13:12 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-5773</guid>
      <dc:date>2012-06-19T12:13:12Z</dc:date>
      <clearspace:dateToText>1 year, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-5753</link>
      <description>&lt;!-- [DocumentBodyStart:9f689223-b9be-4115-b0a2-3f444ffce2d2] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p style="background-color: #eef4f9; font-size: 12px; color: #2b2b2b; font-family: Arial;"&gt;Solved :&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="background-color: #eef4f9; font-size: 12px; color: #2b2b2b; font-family: Arial;"&gt;I set up the passworless ssh for the ZENOSS user.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="background-color: #eef4f9; font-size: 12px; color: #2b2b2b; font-family: Arial;"&gt;For information :&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="background-color: #eef4f9; font-size: 12px; color: #2b2b2b; font-family: Arial;"&gt;you need to set up this connexion . If you do it for another user, even if you specify this other user in the zLibvirtUsername. It won't works.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="background-color: #eef4f9; font-size: 12px; color: #2b2b2b; font-family: Arial;"&gt;But all the guest are down is taht normal ?&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:9f689223-b9be-4115-b0a2-3f444ffce2d2] --&gt;</description>
      <pubDate>Wed, 20 Jun 2012 15:53:15 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-5753</guid>
      <dc:date>2012-06-20T15:53:15Z</dc:date>
      <clearspace:dateToText>1 year, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-5873</link>
      <description>&lt;!-- [DocumentBodyStart:d56ef0e1-afa2-48a9-9de2-fc85a8e900d8] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I am using Zenoss libvirt pack, it works fine, only the concern for me is i am getting guest as a one-1, one-2 etc, how can i get actual server name ? Also all the guests shows down, but i can see the graphs. Is there any way when we spin VM on XEN actual server name appears in LibvirtGuest ?&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Zenoss Version: Zenoss Core 3.2.1.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:d56ef0e1-afa2-48a9-9de2-fc85a8e900d8] --&gt;</description>
      <pubDate>Tue, 17 Jul 2012 14:00:20 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-5873</guid>
      <dc:date>2012-07-17T14:00:20Z</dc:date>
      <clearspace:dateToText>1 year, 7 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-6193</link>
      <description>&lt;!-- [DocumentBodyStart:eaca1179-a2d4-45cd-838a-cae3a06cb0d9] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Short Howto for getting this plugin running with Zenoss Core 4.2&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;em&gt;cd /var/tmp/&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&lt;span&gt;git clone &lt;/span&gt;&lt;a class="jive-link-external-small" href="https://github.com/zenoss/ZenPacks.community.libvirt.git"&gt;https://github.com/zenoss/ZenPacks.community.libvirt.git&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;cd ZenPacks.community.libvirt/&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;python setup.py bdist_egg&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;zenpack --install dist/ZenPacks.community.libvirt-1.96-py2.7.egg&lt;/em&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Thats it.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I had some exceptions because of problems with unknown values returned from libvirt/kvm.&lt;/p&gt;&lt;p&gt;This patch might help in case of problems (just ignores those values I've seen so far).&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;em&gt;diff --git a/ZenPacks/community/libvirt/libexec/check_libvirt.py b/ZenPacks/community/libvirt/libexec/check_libvirt.py&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;index 93013b7..ac94044 100755&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;--- a/ZenPacks/community/libvirt/libexec/check_libvirt.py&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;+++ b/ZenPacks/community/libvirt/libexec/check_libvirt.py&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;@@ -364,6 +364,8 @@ def get_data_modeler(conn):&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; volume = pool.storageVolLookupByName(volumepath)&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; volinfo = volume.info()&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; [type,capacity,allocation] = volinfo&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;+&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if type &amp;gt;= len(volumetypes):&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;+&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; continue&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if verbose:&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; print "Volume: ",volumetypes[type],capacity,allocation,volume.name(),volume.key(),volume.path()&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; voldata['type'] = volumetypes[type]&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;diff --git a/ZenPacks/community/libvirt/libvirtGuest.py b/ZenPacks/community/libvirt/libvirtGuest.py&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;index 9318fc3..bd1c915 100644&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;--- a/ZenPacks/community/libvirt/libvirtGuest.py&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;+++ b/ZenPacks/community/libvirt/libvirtGuest.py&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;@@ -84,7 +84,10 @@ class libvirtGuest(DeviceComponent, ManagedEntity):&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; state = self.lvState&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if state == None or state == '' or state == -1:&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; return "Unknown"&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;-&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; return statestrmap[int(state)]&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;+&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; try:&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;+&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; return statestrmap[int(state)]&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;+&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; except ValueError:&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;+&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; return "Unknown"&lt;/em&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; def dolibvirtSave(self):&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; self.dolibvirtCommand('save')&lt;/em&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:eaca1179-a2d4-45cd-838a-cae3a06cb0d9] --&gt;</description>
      <pubDate>Tue, 30 Oct 2012 12:48:32 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-6193</guid>
      <dc:date>2012-10-30T12:48:32Z</dc:date>
      <clearspace:dateToText>1 year, 4 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-6354</link>
      <description>&lt;!-- [DocumentBodyStart:6d2cc4bf-d666-4723-812d-228552579f37] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi, I'm having trouble understanding if this plugin is working properly under Zenoss 4.2.3.&amp;#160; I am able to install, and get basic host summary, but virtual guest graphs are not populating at all.&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I've tested remote passwordless access via virsh, it is working as expected for user zenoss.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Could someone confirm if this plugin is broken in 4.2.3?&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:6d2cc4bf-d666-4723-812d-228552579f37] --&gt;</description>
      <pubDate>Thu, 24 Jan 2013 07:32:52 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-6354</guid>
      <dc:date>2013-01-24T07:32:52Z</dc:date>
      <clearspace:dateToText>1 year, 1 month ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-6510</link>
      <description>&lt;!-- [DocumentBodyStart:55083d84-15bb-43f2-8eed-a11d9aabf196] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I've got this working in 4.2.3. Which version of the ZenPack are you using?&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I have had success with 1.97, giving my user passwordless root access on the KVM hosts.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:55083d84-15bb-43f2-8eed-a11d9aabf196] --&gt;</description>
      <pubDate>Tue, 26 Mar 2013 16:39:21 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-6510</guid>
      <dc:date>2013-03-26T16:39:21Z</dc:date>
      <clearspace:dateToText>11 months, 3 weeks ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-6493</link>
      <description>&lt;!-- [DocumentBodyStart:cf8ca96c-889e-492d-8c8e-e8931229ffa3] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I'm using 4.2.3 and 1.97 of this zenpack.&amp;#160; I cant seem to get any volume, guest, or pool stats in Zenoss...however When i run the data source command on my zenoss server directly, it works:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;check_libvirt.py -H kvm1.us1.foo.com -u zenoss -l pool -n default -c qemu+ssh://&lt;/p&gt;&lt;p&gt;|allocation=4918219964416&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I'm sure my ssh user has no issues connecting, and has libvirt access.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:cf8ca96c-889e-492d-8c8e-e8931229ffa3] --&gt;</description>
      <pubDate>Tue, 26 Mar 2013 20:06:31 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-6493</guid>
      <dc:date>2013-03-26T20:06:31Z</dc:date>
      <clearspace:dateToText>11 months, 3 weeks ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-6599</link>
      <description>&lt;!-- [DocumentBodyStart:64e0a3a1-8ba3-4982-840f-88c3e9e2e2fd] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;libvir: XML-RPC error : Cannot recv data: Permission denied, please try again. libvir: XML-RPC error : Cannot recv data: Permission denied, please try again.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I have added zenpack and now trying to model a Xen server.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;can anyone help? Please ????&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:64e0a3a1-8ba3-4982-840f-88c3e9e2e2fd] --&gt;</description>
      <pubDate>Thu, 23 May 2013 18:48:26 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-6599</guid>
      <dc:date>2013-05-23T18:48:26Z</dc:date>
      <clearspace:dateToText>9 months, 3 weeks ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-6611</link>
      <description>&lt;!-- [DocumentBodyStart:740d509b-01b7-4bbf-abd8-87c2db5c8291] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Has anyone got this working with public keys rather than username / password for ssh?&amp;#160; Any clues?&lt;/p&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;p&gt;Jane&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:740d509b-01b7-4bbf-abd8-87c2db5c8291] --&gt;</description>
      <pubDate>Tue, 28 May 2013 17:30:37 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-6611</guid>
      <dc:date>2013-05-28T17:30:37Z</dc:date>
      <clearspace:dateToText>9 months, 2 weeks ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-6613</link>
      <description>&lt;!-- [DocumentBodyStart:0b782b8a-eb85-4b7d-a160-09d475d1e1a1] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I am current using this ZenPack with public keys, but only as the root user. It doesn't appear to work if you are not the root user.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:0b782b8a-eb85-4b7d-a160-09d475d1e1a1] --&gt;</description>
      <pubDate>Tue, 28 May 2013 18:38:53 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-6613</guid>
      <dc:date>2013-05-28T18:38:53Z</dc:date>
      <clearspace:dateToText>9 months, 2 weeks ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-6602</link>
      <description>&lt;!-- [DocumentBodyStart:811996d3-7278-4156-81d2-d333461febf2] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;You have to set up permissions inside libvirt to allow non-root users.&lt;/p&gt;&lt;p&gt; basically i had to change this in /etc/libvirt/libvirtd.conf:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;unix_sock_group = "libvirt"&lt;/p&gt;&lt;p&gt;unix_sock_ro_perms = "0770"&lt;/p&gt;&lt;p&gt;unix_sock_rw_perms = "0770"&lt;/p&gt;&lt;p&gt;unix_sock_dir = "/var/run/libvirt"&lt;/p&gt;&lt;p&gt;auth_unix_ro = "none"&lt;/p&gt;&lt;p&gt;auth_unix_rw = "none"&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Then add a local user to your kvm machine "zenoss", add the user to the&lt;/p&gt;&lt;p&gt;libvirt group.&amp;#160; Configure Zenoss to use user zenoss with SSH keys.&lt;/p&gt;&lt;p&gt;Works.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:811996d3-7278-4156-81d2-d333461febf2] --&gt;</description>
      <pubDate>Tue, 28 May 2013 18:42:35 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-6602</guid>
      <dc:date>2013-05-28T18:42:35Z</dc:date>
      <clearspace:dateToText>9 months, 2 weeks ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-6635</link>
      <description>&lt;!-- [DocumentBodyStart:322da7d8-bbe7-48ae-a2b2-9d7342f64074] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;2013-06-10 12:13:06,190 INFO zen.PythonClient: libvirt: username=root connecttype=xen+ssh://&lt;/p&gt;&lt;p&gt;libvir: XML-RPC error : Cannot recv data: Permission denied, please try again&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:322da7d8-bbe7-48ae-a2b2-9d7342f64074] --&gt;</description>
      <pubDate>Mon, 10 Jun 2013 11:24:58 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-6635</guid>
      <dc:date>2013-06-10T11:24:58Z</dc:date>
      <clearspace:dateToText>9 months, 6 days ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: libvirt Virtualization</title>
      <link>http://community.zenoss.org/docs/DOC-4687#comments-6668</link>
      <description>&lt;!-- [DocumentBodyStart:7a6c1143-93a8-403a-9a15-6cb43dfcb459] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Jcurry, Kris K:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Solved the problem by generating the public key for zenoss user on monitoring machine. Then added the public key to authorized keys on libvirt-host.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Then *this was important* established the ssh-connection once from the zenoss machine to libvirt-host machine. And had to use both FQDN and short host name.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:7a6c1143-93a8-403a-9a15-6cb43dfcb459] --&gt;</description>
      <pubDate>Thu, 18 Jul 2013 12:51:33 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-4687#comments-6668</guid>
      <dc:date>2013-07-18T12:51:33Z</dc:date>
      <clearspace:dateToText>7 months, 4 weeks ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
  </channel>
</rss>

