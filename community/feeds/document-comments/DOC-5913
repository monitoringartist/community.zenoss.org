<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:clearspace="http://www.jivesoftware.com/xmlns/clearspace/rss" xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>ZenPacks : SQL Data Source : Comments</title>
    <link>http://community.zenoss.org/docs/DOC-5913#comments</link>
    <description>Comments on : SQL Data Source</description>
    <language>en</language>
    <pubDate>Thu, 16 Sep 2010 14:23:43 GMT</pubDate>
    <generator>Jive SBS 4.5.6.2  (http://jivesoftware.com/products/clearspace/)</generator>
    <dc:date>2010-09-16T14:23:43Z</dc:date>
    <dc:language>en</dc:language>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-2659</link>
      <description>&lt;!-- [DocumentBodyStart:9018a64e-75c0-440e-b9c9-bae73425d1ab] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I am starting to play with this so may be way off course...&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I have added a data source with the SQL query:&lt;/p&gt;&lt;p&gt;select device, firstTime, lastTime from status where device='zen3.class.example.org'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I then set up a datapoint called device - not a clever idea, in retrospect - so I tried to delete it and get:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Error parsing json response: null&lt;/p&gt;&lt;p&gt;The system has encountered an error. Please reload the page.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;The only way I can get rid of the datapoint is to delete the entire datasource.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Cheers,&lt;/p&gt;&lt;p&gt;Jane&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:9018a64e-75c0-440e-b9c9-bae73425d1ab] --&gt;</description>
      <pubDate>Thu, 16 Sep 2010 14:23:43 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-2659</guid>
      <dc:date>2010-09-16T14:23:43Z</dc:date>
      <clearspace:dateToText>3 years, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-2672</link>
      <description>&lt;!-- [DocumentBodyStart:d4bce64c-8301-42de-960c-f70dfaf2771f] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hello Jane,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;i have a feeling, this problem related to new Zenoss 3.X zencatalog feature. UI trying to access objects deleted from Zope database.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Egor&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:d4bce64c-8301-42de-960c-f70dfaf2771f] --&gt;</description>
      <pubDate>Thu, 16 Sep 2010 14:53:38 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-2672</guid>
      <dc:date>2010-09-16T14:53:38Z</dc:date>
      <clearspace:dateToText>3 years, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-2660</link>
      <description>&lt;!-- [DocumentBodyStart:db07d4c6-8cd1-4634-bbef-d2c3898646bf] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Just upped logseverity to debug on zenperfsql and bounced the daemon but nothing else ever appears in zenperfsql.log!!&amp;#160; Waited 30 mins and bounced all the zenoss daemons.&amp;#160; Set parameter back to info. Bounced zenpersql.&amp;#160; Still nothing in logfile.&amp;#160; Process IS running.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Ideas?&lt;/p&gt;&lt;p&gt;Cheers,&lt;/p&gt;&lt;p&gt;Jane&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:db07d4c6-8cd1-4634-bbef-d2c3898646bf] --&gt;</description>
      <pubDate>Thu, 16 Sep 2010 15:21:30 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-2660</guid>
      <dc:date>2010-09-16T15:21:30Z</dc:date>
      <clearspace:dateToText>3 years, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-3078</link>
      <description>&lt;!-- [DocumentBodyStart:5a591864-d039-49a0-9183-6d1204f356cb] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;&lt;span id="result_box" lang="en"&gt;&lt;span&gt;what does this mean?&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=";"&gt;eventClass&lt;/td&gt;&lt;td style=";"&gt;/Status/PyDBAPI&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;message&lt;/td&gt;&lt;td style=";"&gt;Could not fetch data from source (Empty module name)&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:5a591864-d039-49a0-9183-6d1204f356cb] --&gt;</description>
      <pubDate>Tue, 30 Nov 2010 08:26:02 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-3078</guid>
      <dc:date>2010-11-30T08:26:02Z</dc:date>
      <clearspace:dateToText>3 years, 3 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-3099</link>
      <description>&lt;!-- [DocumentBodyStart:52429bee-9614-46c8-b674-a7aab0229a82] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;&lt;span style="color: #333333; font-family: arial,helvetica,sans-serif;"&gt;Is there a way to have this query an Oracle DB.&amp;#160; In the drop down I see three DB types is there a way to add Oracle?&lt;/span&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Great tool.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:52429bee-9614-46c8-b674-a7aab0229a82] --&gt;</description>
      <pubDate>Thu, 09 Dec 2010 04:32:26 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-3099</guid>
      <dc:date>2010-12-09T04:32:26Z</dc:date>
      <clearspace:dateToText>3 years, 3 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-3100</link>
      <description>&lt;!-- [DocumentBodyStart:3fee6fc5-410f-4b17-8dff-b66013c498e0] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Yes, you can add the cx_Oracle module to Zenoss, I've done it and it works perfectly.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Download the cx_Oracle Python extension module source.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;a class="jive-link-external-small" href="http://cx-oracle.sourceforge.net/"&gt;http://cx-oracle.sourceforge.net/&lt;/a&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Extract it to a directory and using the zenoss user run:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; /opt/zenoss/bin/python setup.py install --home /opt/zenoss&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Then you can use this for the connection string:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; cx_Oracle, user='user', password='pw', dsn='connString'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;BR, Pedro.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:3fee6fc5-410f-4b17-8dff-b66013c498e0] --&gt;</description>
      <pubDate>Thu, 09 Dec 2010 11:47:30 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-3100</guid>
      <dc:date>2010-12-09T11:47:30Z</dc:date>
      <clearspace:dateToText>3 years, 3 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-3116</link>
      <description>&lt;!-- [DocumentBodyStart:de81c267-1d72-48e2-a4ee-7fa169d03479] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;ok I have done all Pedro thank you. it is installed.&amp;#160; Do you know how to get how to get Oracle as selectable in the database type under data source for this zenpack.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:de81c267-1d72-48e2-a4ee-7fa169d03479] --&gt;</description>
      <pubDate>Thu, 09 Dec 2010 18:39:46 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-3116</guid>
      <dc:date>2010-12-09T18:39:46Z</dc:date>
      <clearspace:dateToText>3 years, 3 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-3181</link>
      <description>&lt;!-- [DocumentBodyStart:d5d65d35-4f45-4448-8d7e-83460b96d400] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Thans for last fix, it looks better than my variant.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Hovewer, it seems to me that not all still good.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;First of all, numeric values that affected by last fix looks like database sizes from sizeUsed datapoint of &lt;span class="active_link"&gt;PgSQLMon_ODBC&lt;/span&gt; zenpack (I was printed them in exception). At same time these values are not collected and showed in graphs. Maybe queries returning just one row|value are still unparsable.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Second and more important: datasource works good while there are few hosts. But winth 8-10 hosts zenperfsql crashes in few seconds-minutes after start with no messages in log. Manual running of daemon shows that daemon crashes with error:&lt;/p&gt;&lt;p&gt;.python.bin: pthread_mutex_lock.c:62: __pthread_mutex_lock: Assertion `mutex-&amp;gt;__data.__owner == 0' failed.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;All that I noticed with crashes is that it happens when two hosts are being queried at same time. When hosts are queried one-by-one all good:&lt;/p&gt;&lt;p&gt;&lt;em&gt;zen.collector.scheduler: Task forest.vlg changing state from IDLE to RUNNING&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;zen.collector.scheduler: Task forest.vlg changing state from RUNNING to SQLC_QUERY&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;zen.collector.scheduler: Task forest.vlg changing state from SQLC_QUERY to SQLC_PROCESS&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;zen.collector.scheduler: Task forest.vlg changing state from SQLC_PROCESS to IDLE&lt;/em&gt;&lt;/p&gt;&lt;p&gt;and so on. This time 3 hosts at row.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;But soon 2 hosts started at same time and it crashes soon:&lt;/p&gt;&lt;p&gt;&lt;em&gt;zen.collector.scheduler: Task forest.brn changing state from IDLE to RUNNING&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;zen.collector.scheduler: Task forest.brn changing state from RUNNING to SQLC_QUERY&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;zen.collector.scheduler: Task fdb.rzn changing state from IDLE to RUNNING&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;zen.collector.scheduler: Task fdb.rzn changing state from RUNNING to SQLC_QUERY&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;.python.bin: pthread_mutex_lock.c:62: __pthread_mutex_lock: Assertion `mutex-&amp;gt;__data.__owner == 0' failed&lt;/em&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;(SQL queries themselves are not shown)&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;This may crash on Mysql or PostgreSQL bases.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Here's my setup:&lt;/p&gt;&lt;p&gt;Zenoss 3.0.3 (stack installer on Debian 6).&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;table style="width: 293px; height: 150px;"&gt;&lt;tbody id="LoadedZenPacks"&gt;&lt;tr&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th style=";" width="1"&gt; &lt;/th&gt; &lt;th style=";"&gt;&lt;/th&gt; &lt;th style=";"&gt;&lt;/th&gt; &lt;th style=";"&gt;&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;span class="active_link"&gt;ZenPacks.SCC.ShowGraphPortlet&lt;/span&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;0.2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;span class="active_link"&gt;ZenPacks.community.MySQLMon_ODBC&lt;/span&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;3.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;span class="active_link"&gt;ZenPacks.community.PgSQLMon_ODBC&lt;/span&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;2.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;span class="active_link"&gt;ZenPacks.community.RDBMS&lt;/span&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;2.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;span class="active_link"&gt;ZenPacks.community.SQLDataSource&lt;/span&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;1.6&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;span class="active_link"&gt;ZenPacks.community.ZenODBC&lt;/span&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;3.2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;span class="active_link"&gt;ZenPacks.community.deviceAdvDetail&lt;/span&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;&lt;/td&gt;&lt;td style=";"&gt;2.5&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I can say more, just ask.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:d5d65d35-4f45-4448-8d7e-83460b96d400] --&gt;</description>
      <pubDate>Tue, 28 Dec 2010 16:35:48 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-3181</guid>
      <dc:date>2010-12-28T16:35:48Z</dc:date>
      <clearspace:dateToText>3 years, 2 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-3398</link>
      <description>&lt;!-- [DocumentBodyStart:70123c1f-d488-4a15-afb9-47b900b95528] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;If I understand your question correctly, just select SQL as the datasource type and add&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;span id="comment-body-3100"&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; cx_Oracle, user='user', password='pw', dsn='connString'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;on the Connection String.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;BR, Pedro.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;PS - Sorry for the wait, wasn't monitoring for replies.&lt;/p&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:70123c1f-d488-4a15-afb9-47b900b95528] --&gt;</description>
      <pubDate>Mon, 31 Jan 2011 15:50:34 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-3398</guid>
      <dc:date>2011-01-31T15:50:34Z</dc:date>
      <clearspace:dateToText>3 years, 1 month ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-3544</link>
      <description>&lt;!-- [DocumentBodyStart:b0f8a201-0e02-419e-9042-661ceb1eb899] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Posted to wrong spot&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:b0f8a201-0e02-419e-9042-661ceb1eb899] --&gt;</description>
      <pubDate>Wed, 23 Feb 2011 21:36:38 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-3544</guid>
      <dc:date>2011-02-23T21:36:38Z</dc:date>
      <clearspace:dateToText>3 years, 2 weeks ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-3718</link>
      <description>&lt;!-- [DocumentBodyStart:b7a94c29-81c4-451e-8c87-627570dfa9e1] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hmmh, I'm probably blind for my own stupidity... Tell me what i'm doing wrong? pymmsql works ok from intepreter and freetds has been checked, but i'm still getting unknown error from zenoss sql datasource tests...&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;My versions are:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;- freetds-0.82-0.el5.centos&lt;/p&gt;&lt;p&gt;- pymssql-1.0.2-2.el5&lt;/p&gt;&lt;p&gt;- zenoss-2.5.2-590.el5&lt;/p&gt;&lt;p&gt;- zenoss-core-zenpacks-2.5.2-590&lt;/p&gt;&lt;p&gt;- SQL Datasource ZenPack 1.6&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;a href="http://exodus.kickban.org/~mf2hd/stuff/Zenoss.png"&gt;&lt;img src="http://exodus.kickban.org/~mf2hd/stuff/Zenoss.png"/&gt;&lt;/a&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;a href="http://exodus.kickban.org/~mf2hd/stuff/zenoutput.png"&gt;&lt;img src="http://exodus.kickban.org/~mf2hd/stuff/zenoutput.png"/&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:b7a94c29-81c4-451e-8c87-627570dfa9e1] --&gt;</description>
      <pubDate>Thu, 24 Mar 2011 07:55:19 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-3718</guid>
      <dc:date>2011-03-24T07:55:19Z</dc:date>
      <clearspace:dateToText>2 years, 11 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-3722</link>
      <description>&lt;!-- [DocumentBodyStart:d84cff89-e9d6-40f6-b360-ffaf6cf36a72] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi mf2ng,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;1. check if pymssql module available for Zenoss (Zenoss used its own python stack). As zenoss user run zendmd command and try import pymssql module.&lt;/p&gt;&lt;p&gt;2. you connection string is wrong (pymssql doesn't accept ODBC connections strings), so rhight one is:&lt;/p&gt;&lt;blockquote class="jive-quote"&gt;'pymssql',host='${here/manageIp}',user='${here/zWinUser}',password='${here/zWinPassword}',database='db' &lt;/blockquote&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Egor&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:d84cff89-e9d6-40f6-b360-ffaf6cf36a72] --&gt;</description>
      <pubDate>Thu, 24 Mar 2011 16:13:44 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-3722</guid>
      <dc:date>2011-03-24T16:13:44Z</dc:date>
      <clearspace:dateToText>2 years, 11 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-3894</link>
      <description>&lt;!-- [DocumentBodyStart:c8f01fce-06d2-4335-91c3-bac9fbea08b1] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Is this known to conflict with the enterprise zenpack for SQL Server?&amp;#160; After adding it, I now have two data sources named SQL but they have the exact same options when editing.&amp;#160; I do not have the 'new' datasource options.&amp;#160; I'd like to be able to use query output other than numeric data&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:c8f01fce-06d2-4335-91c3-bac9fbea08b1] --&gt;</description>
      <pubDate>Tue, 17 May 2011 02:57:17 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-3894</guid>
      <dc:date>2011-05-17T02:57:17Z</dc:date>
      <clearspace:dateToText>2 years, 10 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-4583</link>
      <description>&lt;!-- [DocumentBodyStart:3f88f6c7-a5b2-4c6f-b704-fd4bd73412c0] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I uninstalled this and now I am getting lots of messages saying: localhost zenperfsql heartbeat failure&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I tried installing it, restarting zenoss, uninstalling it, restarting zenoss but the error persists. How can I stop this?&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:3f88f6c7-a5b2-4c6f-b704-fd4bd73412c0] --&gt;</description>
      <pubDate>Mon, 19 Sep 2011 22:23:51 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-4583</guid>
      <dc:date>2011-09-19T22:23:51Z</dc:date>
      <clearspace:dateToText>2 years, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-4584</link>
      <description>&lt;!-- [DocumentBodyStart:cce2ab42-2b8f-4561-b2f6-ef64262135cf] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Fixed. Zenoss 3.2.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Events tab, Event Management, click on the little gear icon in the bottom left and say Clear All Heartbeats.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;a class="jive-link-external-small" href="http://community.zenoss.org/thread/15352"&gt;http://community.zenoss.org/thread/15352&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:cce2ab42-2b8f-4561-b2f6-ef64262135cf] --&gt;</description>
      <pubDate>Tue, 20 Sep 2011 13:11:08 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-4584</guid>
      <dc:date>2011-09-20T13:11:08Z</dc:date>
      <clearspace:dateToText>2 years, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-4665</link>
      <description>&lt;!-- [DocumentBodyStart:ec234bd8-ad06-410a-852a-6bd3f0065d54] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;FYI,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Just tried to install this on my development server (Zenoss 3.1.0).&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Install and restart went fine, but now when I go to add a data point and select the drop down list of sources I get &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt; 'AttributeError getDataSourceClasses'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Uninstalled and the error persists.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:ec234bd8-ad06-410a-852a-6bd3f0065d54] --&gt;</description>
      <pubDate>Fri, 14 Oct 2011 04:31:38 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-4665</guid>
      <dc:date>2011-10-14T04:31:38Z</dc:date>
      <clearspace:dateToText>2 years, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5101</link>
      <description>&lt;!-- [DocumentBodyStart:df0f69f7-26e0-4070-b7a0-3627a7d3c806] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Running on 3.2.1, I ran into an odd error.&amp;#160; We have a flaky LAN, and while monitoring our postgresql server, we were getting many 'Could not fetch data...' errors in the events list, leaving processes idling on the postgres host, and piling up connections in CLOSE_WAIT state on the zenoss host.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;This appears to be caused by the twisted library, and is patched in twisted.&amp;#160; However, the zenoss version of twisted is patched as well, and you cannot just upgrade twisted.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I created a couple of &lt;a class="" href="http://community.zenoss.org/servlet/JiveServlet/download/5913-13-6575/twisted_patches_for_adbapi.zip"&gt;patchfiles&lt;/a&gt; that can be applied to a 3.2.1 installation, using something like:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;lt;download files somewhere&amp;gt;&lt;/p&gt;&lt;p&gt;su - zenoss&lt;/p&gt;&lt;p&gt;cd /opt/zenoss/lib/python&lt;/p&gt;&lt;p&gt;patch -p 1 &amp;lt; iocpreactor_abstract.py.patch &lt;/p&gt;&lt;p&gt;patch -p 1 &amp;lt; abstract.py.patch&lt;/p&gt;&lt;p&gt;rm twisted/internet/iocpreactor/abstract.pyc &lt;/p&gt;&lt;p&gt;rm twisted/internet/abstract.pyc&lt;/p&gt;&lt;p&gt;zenoss restart&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:df0f69f7-26e0-4070-b7a0-3627a7d3c806] --&gt;</description>
      <pubDate>Wed, 08 Feb 2012 21:29:16 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5101</guid>
      <dc:date>2012-02-08T21:29:16Z</dc:date>
      <clearspace:dateToText>2 years, 1 month ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5103</link>
      <description>&lt;!-- [DocumentBodyStart:6168b7ca-f142-4802-bd4e-5b66b600bbe5] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;&lt;span&gt;wizard113, thanks for patch. Have you tryed SQLDataSource from my github repository ( &lt;/span&gt;&lt;a class="jive-link-external-small" href="https://github.com/epuzanov/ZenPacks.community.SQLDataSource"&gt;https://github.com/epuzanov/ZenPacks.community.SQLDataSource&lt;/a&gt;&lt;span&gt; ) ?&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:6168b7ca-f142-4802-bd4e-5b66b600bbe5] --&gt;</description>
      <pubDate>Thu, 09 Feb 2012 19:52:16 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5103</guid>
      <dc:date>2012-02-09T19:52:16Z</dc:date>
      <clearspace:dateToText>2 years, 1 month ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5123</link>
      <description>&lt;!-- [DocumentBodyStart:f725ba4e-63c8-4bc6-9dfa-234d39b44b26] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Egor,&amp;#160; you are most welcome.&amp;#160; That was a challenging problem to figure out.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I am no longer with the company I did the installation for, so I cannot check for sure, but I do think I installed the latest version from github, back in December.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I really appreciate this Zenpack, so thank you - I ported almost all the Nagios Postgresql plugin queries into a zenperfsql template, and it really made a difference in how loaded the zenhub process was.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:f725ba4e-63c8-4bc6-9dfa-234d39b44b26] --&gt;</description>
      <pubDate>Thu, 09 Feb 2012 22:10:57 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5123</guid>
      <dc:date>2012-02-09T22:10:57Z</dc:date>
      <clearspace:dateToText>2 years, 1 month ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5153</link>
      <description>&lt;!-- [DocumentBodyStart:fe744c1b-6bfc-481f-bd42-d26ec452e984] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Dear all&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;We recently built a new Zenoss 3.2.1 system based upon Debian Linux and we have experinced a very odd issue with Oraclemon which appears to be something to so with SQLdatasource. The system logs all the data from the SQL comtart mands for 30 - 40 minutes and then just stops and never logs agian until you restart the zenperfsql daemon.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Error&lt;/p&gt;&lt;p&gt;&lt;a class="jive-link-external-small" href="http://nlc30125.northlincs.gov.uk:8080/zport/dmd/Events/Status/PyDBAPI"&gt;/Status/PyDBAPI&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Could not fetch data (Unable to acquire Oracle environment handle)&lt;/p&gt;&lt;p&gt;NL4556|zenperfsql|/Status/PyDBAPI||4|Could not fetch data&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I have tried evrything I can think off including the GIT repo versions of&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Oraclemon 1.0.2&lt;/p&gt;&lt;p&gt;SQL Datasource 1.99&lt;/p&gt;&lt;p&gt;RDBMS 2.2&lt;/p&gt;&lt;p&gt;deviceAdvDetail 2.7&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;zenperfsql log shows&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-03-02 09:41:59,056 ERROR zen.SQLClient: Error received from NL4556, error: Unable to acquire Oracle environment handle, query: SELECT cast(metric_id AS char(4)) PARAMETER,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; VALUE from V$SYSMETRIC&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;WHERE group_id=2 AND metric_id in (2003,2004,2006,2016,2018,2057,2067,2071,2098,2101,2102,2103,2107,2114)&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;ORDER BY metric_name&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-03-02 09:41:59,058 ERROR zen.SQLClient: Error received from NL4556, error: Unable to acquire Oracle environment handle, query: SELECT sum(abp) ActiveBackgroundProcesses,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; sum(asp) ActiveSystemProcesses,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; sum(aup) ActiveUserProcesses,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; sum(tbp) TotalBackgroundProcesses,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; sum(tsp) TotalSystemProcesses,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; sum(tup) TotalUserProcesses&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;FROM (&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; SELECT decode(st, 'bp', sum(status), 0) abp,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; decode(st, 'bp', count(*), 0) tbp,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; decode(st, 'sp', sum(status), 0) asp,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; decode(st, 'sp', count(*), 0) tsp,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; decode(st, 'up', sum(status), 0) aup,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; decode(st, 'up', count(*), 0) tup&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; FROM (&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; SELECT&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; CASE&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; WHEN username IS null&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; THEN 'bp'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; WHEN username IN ('SYSTEM', 'SYSMAN', 'SYS', 'DBSNMP')&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; THEN 'sp'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; ELSE 'up'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; END AS st,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; decode(status, 'ACTIVE', 1, 0) status&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; FROM v$session)&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&amp;#160; GROUP BY st)&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-03-02 09:41:59,060 ERROR zen.SQLClient: Error received from NL4556, error: Unable to acquire Oracle environment handle, query: SELECT count(*) DbaInvalidObjects&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;FROM dba_objects&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;WHERE status &amp;lt;&amp;gt; 'VALID'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-03-02 09:41:59,060 ERROR zen.zenperfsql: Device NL4556: Unable to acquire Oracle environment handle&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-03-02 09:41:59,061 DEBUG zen.zenperfsql: Queueing event {'manager': 'nlc30125.northlincs.gov.uk', 'monitor': 'localhost', 'severity': 4, 'device': 'NL4556', 'eventClass': '/Status/PyDBAPI', 'component': 'zenperfsql', 'message': 'Could not fetch data (Unable to acquire Oracle environment handle)', 'agent': 'zenperfsql', 'summary': 'Could not fetch data'}&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-03-02 09:41:59,061 DEBUG zen.zenperfsql: Total of 1 queued events&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-03-02 09:41:59,061 DEBUG zen.collector.scheduler: Task NL4556 300 0b7a213935af9a466d72f878f47d6b80 finished, result: &amp;lt;twisted.python.failure.Failure &amp;lt;class 'twisted.python.failure.DefaultException'&amp;gt;&amp;gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-03-02 09:41:59,061 DEBUG zen.collector.scheduler: Task NL4556 300 0b7a213935af9a466d72f878f47d6b80 changing state from SQLC_QUERY to IDLE&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-03-02 09:41:59,061 DEBUG zen.collector.scheduler: Traceback (most recent call last):&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Failure: twisted.python.failure.DefaultException: Unable to acquire Oracle environment handle&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;NL4556&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I'd really appreciatte some help on this one I am well and truly stuck!&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I even tried the twisted patch but that made no difference &lt;img height="16px" src="http://community.zenoss.org/4.5.6/images/emoticons/cry.gif" width="16px"/&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:fe744c1b-6bfc-481f-bd42-d26ec452e984] --&gt;</description>
      <pubDate>Fri, 02 Mar 2012 09:47:14 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5153</guid>
      <dc:date>2012-03-02T09:47:14Z</dc:date>
      <clearspace:dateToText>2 years, 1 week ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5465</link>
      <description>&lt;!-- [DocumentBodyStart:0ad499e0-6a4d-4abb-b275-26f33ad2227e] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Dear Egor&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;We are having an issue when we shutdown our oracle database down for a cold backup that an event is error logged in&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;/status/pydbapi&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;the issue appears to be that when the database is started that no events are logged and thus the event never clears itself. I have looked at the cource code in python in Zenperfsql.py but cannot work out how to change this. I notice it uses the twisted module but can't really work out whats going on.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Would you be able to give me some direction? I think others who do not use RMAN for backups would appreciatte the change.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;img height="16px" src="http://community.zenoss.org/4.5.6/images/emoticons/happy.gif" width="16px"/&gt;&lt;/p&gt;&lt;p&gt;forum started here...&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;a class="jive-link-external-small" href="http://community.zenoss.org/message/65384#65384#65384"&gt;http://community.zenoss.org/message/65384#65384&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:0ad499e0-6a4d-4abb-b275-26f33ad2227e] --&gt;</description>
      <pubDate>Tue, 27 Mar 2012 14:18:57 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5465</guid>
      <dc:date>2012-03-27T14:18:57Z</dc:date>
      <clearspace:dateToText>1 year, 11 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5751</link>
      <description>&lt;!-- [DocumentBodyStart:ee1a256d-07f4-4a66-9818-163a9d7fc9eb] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Since few days, with version 2.2, we get tons of missed runs with error: "skipped because it was not idle" followed by some "zen.collector.scheduler: tasks to clean set([&amp;lt;__main__.SqlPerformanceCollectionTask object at 0x48a2450&amp;gt;])"&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Is there any ways to fix this?&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Thanks&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:ee1a256d-07f4-4a66-9818-163a9d7fc9eb] --&gt;</description>
      <pubDate>Mon, 18 Jun 2012 06:37:07 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5751</guid>
      <dc:date>2012-06-18T06:37:07Z</dc:date>
      <clearspace:dateToText>1 year, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5822</link>
      <description>&lt;!-- [DocumentBodyStart:1756680d-5cac-4886-99a4-8f5e504da84a] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I'm running on Zenoss v3.2.1 with the latest (v2.2) version of this plug-in.&amp;#160; I'd like to really congratulate Egor on this plugin, which I have looking at an Oracle DB.&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;However, I also have an issue, when I test my query, what is returned is:&lt;/p&gt;&lt;div class="streaming-line even" style="widows: 2; text-transform: none; text-indent: 0px; font: 12px Monaco, monospace; white-space: normal; orphans: 2; letter-spacing: normal; color: #eeeeee; word-spacing: 0px;"&gt;Preparing Command...&lt;/div&gt;&lt;div class="streaming-line odd" style="padding-bottom: 3px; widows: 2; text-transform: none; text-indent: 0px; padding-left: 0px; padding-right: 0px; font: 12px Monaco, monospace; white-space: normal; orphans: 2; letter-spacing: normal; color: #aacccc; word-spacing: 0px; padding-top: 3px;"&gt;Executing query: "SELECT COUNT(*) FROM table1"&lt;/div&gt;&lt;div class="streaming-line even" style="widows: 2; text-transform: none; text-indent: 0px; font: 12px Monaco, monospace; white-space: normal; orphans: 2; letter-spacing: normal; color: #eeeeee; word-spacing: 0px;"&gt; &lt;/div&gt;&lt;div class="streaming-line odd" style="padding-bottom: 3px; widows: 2; text-transform: none; text-indent: 0px; padding-left: 0px; padding-right: 0px; font: 12px Monaco, monospace; white-space: normal; orphans: 2; letter-spacing: normal; color: #aacccc; word-spacing: 0px; padding-top: 3px;"&gt; &lt;/div&gt;&lt;div class="streaming-line even" style="widows: 2; text-transform: none; text-indent: 0px; font: 12px Monaco, monospace; white-space: normal; orphans: 2; letter-spacing: normal; color: #eeeeee; word-spacing: 0px;"&gt;Results:&lt;/div&gt;&lt;div class="streaming-line odd" style="padding-bottom: 3px; widows: 2; text-transform: none; text-indent: 0px; padding-left: 0px; padding-right: 0px; font: 12px Monaco, monospace; white-space: normal; orphans: 2; letter-spacing: normal; color: #aacccc; word-spacing: 0px; padding-top: 3px;"&gt;Count&lt;/div&gt;&lt;div class="streaming-line even" style="widows: 2; text-transform: none; text-indent: 0px; font: 12px Monaco, monospace; white-space: normal; orphans: 2; letter-spacing: normal; color: #eeeeee; word-spacing: 0px;"&gt; &lt;/div&gt;&lt;div class="streaming-line odd" style="padding-bottom: 3px; widows: 2; text-transform: none; text-indent: 0px; padding-left: 0px; padding-right: 0px; font: 12px Monaco, monospace; white-space: normal; orphans: 2; letter-spacing: normal; color: #aacccc; word-spacing: 0px; padding-top: 3px;"&gt; &lt;/div&gt;&lt;div class="streaming-line even" style="widows: 2; text-transform: none; text-indent: 0px; font: 12px Monaco, monospace; white-space: normal; orphans: 2; letter-spacing: normal; color: #eeeeee; word-spacing: 0px;"&gt; &lt;/div&gt;&lt;div class="streaming-line odd" style="padding-bottom: 3px; widows: 2; text-transform: none; text-indent: 0px; padding-left: 0px; padding-right: 0px; font: 12px Monaco, monospace; white-space: normal; orphans: 2; letter-spacing: normal; color: #aacccc; word-spacing: 0px; padding-top: 3px;"&gt;DONE in 0 seconds&lt;/div&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;div class="mcePaste" id="_mcePaste" style="position: absolute; top: 0px; left: 0px;"&gt;﻿&lt;/div&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I was expecting to see a number instead of count.&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I've created a datapoint and a graph to which the datapoint has been added, but nothing ever gets added to the graph.&amp;#160;&amp;#160; As the SQL command is really simply, definitely connects (if you change the tablename to something that doesn't exist it generates the appropriate ORA error) I presume that there must be some misunderstanding of how it is intended to work.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Thanks&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:1756680d-5cac-4886-99a4-8f5e504da84a] --&gt;</description>
      <pubDate>Thu, 05 Jul 2012 14:52:42 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5822</guid>
      <dc:date>2012-07-05T14:52:42Z</dc:date>
      <clearspace:dateToText>1 year, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5837</link>
      <description>&lt;!-- [DocumentBodyStart:03e94c21-8a67-4e55-920f-efe9a3839177] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Rory,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;your sql query must look like this:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;blockquote class="jive-quote"&gt;&lt;p&gt;SELECT COUNT(*) yourDataPointName FROM tablel&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:03e94c21-8a67-4e55-920f-efe9a3839177] --&gt;</description>
      <pubDate>Sat, 07 Jul 2012 19:25:11 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5837</guid>
      <dc:date>2012-07-07T19:25:11Z</dc:date>
      <clearspace:dateToText>1 year, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5849</link>
      <description>&lt;!-- [DocumentBodyStart:53a102e9-1ab9-4dbf-b7ac-1ec0c1d53b8d] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Egor,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt; &amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Thanks for your reply.&amp;#160; That did the trick.&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt; &amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Once again, excellent plugin.&amp;#160; It is really useful.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt; &amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;/Rory&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:53a102e9-1ab9-4dbf-b7ac-1ec0c1d53b8d] --&gt;</description>
      <pubDate>Mon, 09 Jul 2012 11:16:44 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5849</guid>
      <dc:date>2012-07-09T11:16:44Z</dc:date>
      <clearspace:dateToText>1 year, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5867</link>
      <description>&lt;!-- [DocumentBodyStart:178a5bce-4745-4d59-aca3-e9e6c0576d74] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Egor,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;We are using CIMMon and SQLDataSource which have been working great.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;One of the CIM servers went down and it has been returing 'global name 'TimeoutError' is not defined'&lt;/p&gt;&lt;p&gt;Adding &lt;/p&gt;&lt;p&gt;from Products.ZenRRD.zencommand import TimeoutError&lt;/p&gt;&lt;p&gt;to SQLDataSource/SQLClient.py has fixed this issue for us&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Cheers&lt;/p&gt;&lt;p&gt;Michael&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:178a5bce-4745-4d59-aca3-e9e6c0576d74] --&gt;</description>
      <pubDate>Thu, 12 Jul 2012 23:55:09 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5867</guid>
      <dc:date>2012-07-12T23:55:09Z</dc:date>
      <clearspace:dateToText>1 year, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5855</link>
      <description>&lt;!-- [DocumentBodyStart:9f570f53-f14f-41da-adab-6856541e7453] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Thanks Michael, i've fixed it in my github repository.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:9f570f53-f14f-41da-adab-6856541e7453] --&gt;</description>
      <pubDate>Fri, 13 Jul 2012 14:41:09 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5855</guid>
      <dc:date>2012-07-13T14:41:09Z</dc:date>
      <clearspace:dateToText>1 year, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5857</link>
      <description>&lt;!-- [DocumentBodyStart:9d50f4f4-39f9-40a4-8dbc-258f1b6cfc75] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Egor, &lt;/p&gt;&lt;p&gt;do you have a tutorial for the Configuration of your pack?&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Best regards,&lt;/p&gt;&lt;p&gt;Toni&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:9d50f4f4-39f9-40a4-8dbc-258f1b6cfc75] --&gt;</description>
      <pubDate>Mon, 16 Jul 2012 09:43:42 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5857</guid>
      <dc:date>2012-07-16T09:43:42Z</dc:date>
      <clearspace:dateToText>1 year, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5858</link>
      <description>&lt;!-- [DocumentBodyStart:012931a9-3555-46a8-b604-b59f6ff58301] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Toni,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;look at here:&lt;/p&gt;&lt;p&gt;&lt;a class="jive-link-external-small" href="https://github.com/epuzanov/ZenPacks.community.SQLDataSource/blob/master/README.rst"&gt;https://github.com/epuzanov/ZenPacks.community.SQLDataSource/blob/master/README.rst&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:012931a9-3555-46a8-b604-b59f6ff58301] --&gt;</description>
      <pubDate>Mon, 16 Jul 2012 18:45:42 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5858</guid>
      <dc:date>2012-07-16T18:45:42Z</dc:date>
      <clearspace:dateToText>1 year, 8 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5860</link>
      <description>&lt;!-- [DocumentBodyStart:96aa8442-fee2-4c9c-a0af-bff327c41d4c] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Rory Brown 05.07.2012 10:54&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I'm running on Zenoss v3.2.1 with the latest (v2.2) version of this plug-in.&amp;#160; I'd like to really congratulate Egor on this plugin, which I have looking at an Oracle DB.&amp;#160;&amp;#160;&amp;#160; However, I also have an issue, when I test my query, what is returned is: Preparing Command... Executing query: "SELECT COUNT(*) FROM table1" Results: Count DONE in 0 seconds&amp;#160;&amp;#160; ﻿&amp;#160;&amp;#160; I was expecting to see a number instead of count.&amp;#160;&amp;#160;&amp;#160; I've created a datapoint and a graph to which the datapoint has been added, but nothing ever gets added to the graph.&amp;#160;&amp;#160; As the SQL command is really simply, definitely connects (if you change the tablename to something that doesn't exist it generates the appropriate ORA error) I presume that there must be some misunderstanding of how it is intended to work.&amp;#160;&amp;#160; &lt;/p&gt;&lt;p&gt;Thanks &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;blockquote class="jive-quote"&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;bigegor schrieb:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Rory,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;your sql query must look like this:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;blockquote class="jive-quote"&gt;&lt;p&gt;SELECT COUNT(*) yourDataPointName FROM tablel&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;Can you briefly explain, how zenoss interacts between the DataPointName and SQL. I can see that it works out, but I can't figure out why. &lt;img height="16px" src="http://community.zenoss.org/4.5.6/images/emoticons/happy.gif" width="16px"/&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;p&gt;Toni &lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:96aa8442-fee2-4c9c-a0af-bff327c41d4c] --&gt;</description>
      <pubDate>Tue, 17 Jul 2012 06:12:57 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5860</guid>
      <dc:date>2012-07-17T06:12:57Z</dc:date>
      <clearspace:dateToText>1 year, 7 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5876</link>
      <description>&lt;!-- [DocumentBodyStart:bf5a5b7f-a37a-40e8-8148-f6b5b8b1bd50] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Toni,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;it's very simple:&lt;/p&gt;&lt;p&gt;Data Point Name = Column Name&lt;/p&gt;&lt;p&gt;so some time you must use column name aliases in your sql query.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:bf5a5b7f-a37a-40e8-8148-f6b5b8b1bd50] --&gt;</description>
      <pubDate>Tue, 17 Jul 2012 10:04:15 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5876</guid>
      <dc:date>2012-07-17T10:04:15Z</dc:date>
      <clearspace:dateToText>1 year, 7 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-5980</link>
      <description>&lt;!-- [DocumentBodyStart:d45c06e3-a5d2-4f7b-88d1-4518c64bda06] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;So, how is the support for Zenoss Core v.4 on this package? how to install?&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:d45c06e3-a5d2-4f7b-88d1-4518c64bda06] --&gt;</description>
      <pubDate>Tue, 21 Aug 2012 18:24:47 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-5980</guid>
      <dc:date>2012-08-21T18:24:47Z</dc:date>
      <clearspace:dateToText>1 year, 6 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6045</link>
      <description>&lt;!-- [DocumentBodyStart:b0d94898-054b-43a5-b250-055a808001b6] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Egor&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Our Production network has been logging our Oracle and Ms SQL Datbases&amp;#160; happily&lt;/p&gt;&lt;p&gt;for some time. At some point though we started having issues with the ZenperfSQL &lt;/p&gt;&lt;p&gt;daemon last time we had this issue we ended up installing the system from scratch.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;The Daemon just seems to crash with no apprent reason, the log for zenperfsql dosn't really show anything. Some times it runs for 5 minutes sometime an hour or two even and then just crashes.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;any pointers on how to find whats going on would be appreciatted?&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;These are the related&amp;#160; versions we currently run, my thoughts are too upgrade all the zenpacks to the latest version?&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;we are on&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Zenoss 3.2.1&lt;/p&gt;&lt;p&gt;twisted 8.1.0&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;SQL Datasource 2.4&lt;/p&gt;&lt;p&gt;devAdvdetail 2.8.0&lt;/p&gt;&lt;p&gt;RDBMS 2.2&lt;/p&gt;&lt;p&gt;OracleMon 1.0.2&lt;/p&gt;&lt;p&gt;MsSQLMON_odbc 3.1.1&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:b0d94898-054b-43a5-b250-055a808001b6] --&gt;</description>
      <pubDate>Fri, 21 Sep 2012 09:14:02 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6045</guid>
      <dc:date>2012-09-21T09:14:02Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6046</link>
      <description>&lt;!-- [DocumentBodyStart:c5c6f938-6feb-4a18-9a88-91fa82eb5521] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Seriously, no one has this answer?&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:c5c6f938-6feb-4a18-9a88-91fa82eb5521] --&gt;</description>
      <pubDate>Fri, 21 Sep 2012 09:43:14 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6046</guid>
      <dc:date>2012-09-21T09:43:14Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6047</link>
      <description>&lt;!-- [DocumentBodyStart:8e36e45d-3683-45cc-9256-89e50b1f8c6f] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Kenkis, &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I am pretty sure you can just add it the same way you would on the older versions...just follow the instructions on the zenpack page &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;ie &lt;/p&gt;&lt;p class="MsoNormal" style="margin: 0cm 0cm 0pt;"&gt;&lt;span style="color: #000000; font-size: 12pt; font-family: Arial;"&gt;&amp;gt; zenpack &amp;ndash;install Zenpack.x.xxx&lt;/span&gt;&lt;/p&gt;&lt;p class="MsoNormal" style="margin: 0cm 0cm 0pt;"&gt;&lt;span style="color: #000000; font-size: 12pt; font-family: Arial;"&gt;&amp;gt; zenoss restart&lt;/span&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;div class="mcePaste" id="_mcePaste" style="position: absolute; top: 0px; left: 0px;"&gt;﻿&lt;/div&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:8e36e45d-3683-45cc-9256-89e50b1f8c6f] --&gt;</description>
      <pubDate>Fri, 21 Sep 2012 10:01:06 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6047</guid>
      <dc:date>2012-09-21T10:01:06Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6054</link>
      <description>&lt;!-- [DocumentBodyStart:d9ca4c87-8649-45e5-bb03-922916941520] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;There seems to be a problem with updating perf data if any device is down.&amp;#160; On this one collector I have ~45 DB instances of which one device is physically down.&amp;#160; The data for all the others is sporadically updated.&amp;#160; I have increased maxparallel and I have left it as the default, neither works.&amp;#160; I even tried forcing the timeout in SQLClient to 15 rather then the default 180.&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;If I decommission the downed device the problem goes away.&amp;#160; Changing that device to anything other then decomissioned causes problems updating perf data for all the other instances that are ok.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;--Dennis&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:d9ca4c87-8649-45e5-bb03-922916941520] --&gt;</description>
      <pubDate>Tue, 25 Sep 2012 02:37:08 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6054</guid>
      <dc:date>2012-09-25T02:37:08Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6071</link>
      <description>&lt;!-- [DocumentBodyStart:edc440c4-87fd-4236-a6c0-6d29c990e646] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I haven't been able to track down the problem but it seems that all Devices that are using the same zMsSqlConnectionString were affected.&amp;#160; I have a few MySQL databases as well on the saem collector and it's data is fine.&amp;#160; I changed the zMsSqlConnectionString on the one device that is down and all the other devices started working properly again.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I wonder if the task splitter is not properly creating separate tasks?&amp;#160; I'm still digging...&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:edc440c4-87fd-4236-a6c0-6d29c990e646] --&gt;</description>
      <pubDate>Tue, 25 Sep 2012 14:55:42 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6071</guid>
      <dc:date>2012-09-25T14:55:42Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6068</link>
      <description>&lt;!-- [DocumentBodyStart:a403ce2a-5660-4ea6-88dd-636752791719] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Dennis,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;1. use zProdStateThreshold zProperty to define maximal Device state wich will be monitored by daemons. Default value is 300 (Maintenance). Possible values are:&lt;/p&gt;&lt;p&gt;'Production:1000'&lt;/p&gt;&lt;p&gt;'Pre-Production:500'&lt;/p&gt;&lt;p&gt;'Test:400'&lt;/p&gt;&lt;p&gt;'Maintenance:300'&lt;/p&gt;&lt;p&gt;'Decommissioned:-1'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2. zenperfsql daemon used the same database connection for all requests with the same &lt;span style="color: #2b2b2b; font-family: Arial; font-size: 12px; background-color: #ffffff;"&gt;zMsSqlConnectionString, so if you want separate some tasks simply change &lt;span style="color: #2b2b2b; font-family: Arial; font-size: 12px; background-color: #ffffff;"&gt;zMsSqlConnectionString&lt;/span&gt; for one of devices (you can change parameter sequence in parameter &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style="color: #2b2b2b; font-family: Arial; font-size: 12px; background-color: #ffffff;"&gt; &lt;/span&gt;&lt;span style="color: #2b2b2b; font-family: Arial; font-size: 12px; background-color: #ffffff;"&gt;zMsSqlConnectionString&lt;/span&gt;&lt;span style="background-color: #ffffff; color: #2b2b2b; font-family: Arial; font-size: 12px;"&gt;)&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:a403ce2a-5660-4ea6-88dd-636752791719] --&gt;</description>
      <pubDate>Tue, 25 Sep 2012 17:19:26 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6068</guid>
      <dc:date>2012-09-25T17:19:26Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6086</link>
      <description>&lt;!-- [DocumentBodyStart:b0a42c65-7b05-47b9-bdb5-1cf7a7cc7734] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;I can't use zProdStateThreshold because I want to monitor this down device, once it comes backup.&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;The zMsSQLConnectionString I'm using is:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;'pyodbc',DRIVER='{FreeTDS}',ansi=True,TDS_Version='8.0',SERVER='${dev/manageIp}',PORT='1433',DATABASE='master',UID='${here/zWinUser}',PWD='${here/zWinPassword}'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Once manageIp gets substituted wouldn't the connection string be different for every device?&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;--Dennis&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:b0a42c65-7b05-47b9-bdb5-1cf7a7cc7734] --&gt;</description>
      <pubDate>Tue, 25 Sep 2012 19:47:36 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6086</guid>
      <dc:date>2012-09-25T19:47:36Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6087</link>
      <description>&lt;!-- [DocumentBodyStart:51e4b2d4-3c14-4b45-ba55-88d2e34e23ec] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Dennis,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;yes.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;You can also add 'timeout' parameter to connection string. 'pyodbc' supported this.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:51e4b2d4-3c14-4b45-ba55-88d2e34e23ec] --&gt;</description>
      <pubDate>Tue, 25 Sep 2012 20:54:09 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6087</guid>
      <dc:date>2012-09-25T20:54:09Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6072</link>
      <description>&lt;!-- [DocumentBodyStart:c2ce939b-3f5a-411b-aadd-665fb0168d4e] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;This is what stats looked like with the down device decommissioned:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-09-25 16:59:32,630 INFO zen.collector.scheduler: Tasks: 60 Successful_Runs: 172 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 1 &lt;/p&gt;&lt;p&gt;2012-09-25 17:04:32,639 INFO zen.collector.scheduler: Tasks: 60 Successful_Runs: 231 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 1 &lt;/p&gt;&lt;p&gt;2012-09-25 17:09:32,650 INFO zen.collector.scheduler: Tasks: 60 Successful_Runs: 55 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 1 &lt;/p&gt;&lt;p&gt;2012-09-25 17:14:32,662 INFO zen.collector.scheduler: Tasks: 60 Successful_Runs: 114 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 1 &lt;/p&gt;&lt;p&gt;2012-09-25 17:19:32,671 INFO zen.collector.scheduler: Tasks: 60 Successful_Runs: 173 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 1 &lt;/p&gt;&lt;p&gt;2012-09-25 17:24:32,681 INFO zen.collector.scheduler: Tasks: 60 Successful_Runs: 232 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 1 &lt;/p&gt;&lt;p&gt;2012-09-25 17:29:32,690 INFO zen.collector.scheduler: Tasks: 60 Successful_Runs: 57 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 1 &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I tried setting zMsSqlConnectionString to:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;'pyodbc',DRIVER='{FreeTDS}',ansi=True,TDS_Version='8.0',SERVER='${dev/manageIp}',PORT='1433',DATABASE='master',UID='${here/zWinUser}',PWD='${here/zWinPassword}',timeout=15&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I then restarted zenperfsql and set the decommissioned to maintenance.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-09-25 17:34:51,676 INFO zen.collector.scheduler: Tasks: 1 Successful_Runs: 0 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 0 &lt;/p&gt;&lt;p&gt;2012-09-25 17:39:51,685 INFO zen.collector.scheduler: Tasks: 61 Successful_Runs: 61 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 1 &lt;/p&gt;&lt;p&gt;2012-09-25 17:44:51,694 INFO zen.collector.scheduler: Tasks: 61 Successful_Runs: 120 Failed_Runs: 0 Missed_Runs: 1 Queued_Tasks: 0 Running_Tasks: 60 &lt;/p&gt;&lt;p&gt;2012-09-25 17:49:51,703 INFO zen.collector.scheduler: Tasks: 61 Successful_Runs: 120 Failed_Runs: 0 Missed_Runs: 61 Queued_Tasks: 0 Running_Tasks: 60 &lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:c2ce939b-3f5a-411b-aadd-665fb0168d4e] --&gt;</description>
      <pubDate>Tue, 25 Sep 2012 21:51:34 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6072</guid>
      <dc:date>2012-09-25T21:51:34Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6073</link>
      <description>&lt;!-- [DocumentBodyStart:2d54aaaf-42ae-4f3f-b4b2-1949b74096ec] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Letting it run a little bit longer it seems to get worse:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-09-25 17:59:51,722 INFO zen.collector.scheduler: Tasks: 61 Successful_Runs: 41 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 21 Running_Tasks: 100 &lt;/p&gt;&lt;p&gt;2012-09-25 18:04:51,730 INFO zen.collector.scheduler: Tasks: 61 Successful_Runs: 41 Failed_Runs: 0 Missed_Runs: 60 Queued_Tasks: 21 Running_Tasks: 100 &lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:2d54aaaf-42ae-4f3f-b4b2-1949b74096ec] --&gt;</description>
      <pubDate>Tue, 25 Sep 2012 22:07:46 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6073</guid>
      <dc:date>2012-09-25T22:07:46Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6107</link>
      <description>&lt;!-- [DocumentBodyStart:19fea8c9-7dbf-45d4-984d-904029ae5bcf] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Can you explain what is the magic with aliases for RRD? &lt;/p&gt;&lt;p&gt;Can I work without them?&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:19fea8c9-7dbf-45d4-984d-904029ae5bcf] --&gt;</description>
      <pubDate>Wed, 03 Oct 2012 12:53:29 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6107</guid>
      <dc:date>2012-10-03T12:53:29Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6108</link>
      <description>&lt;!-- [DocumentBodyStart:f9eca3f8-b80d-4c24-bfda-f1b301ed2881] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Dennis&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;We are experiencing a similar problem I am pretty sure, without any real errors or fault the daemon just fails. No body appears to be able to help and it does indeed seem if one database is having an issue the entire system fails. The whole point of course is to highlighting any issues while continuing to monitoring the other 99% of your estate.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I am not even sure who the system works so I am really struggling to find a solution.&lt;/p&gt;&lt;p&gt;Is it possible to set up a new collector and add the databases in smaller groups.In this way I can at least isolate how many systems are effected when this sort of issue occurs.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;any ideas appreciated&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;cheers&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Nathan&lt;/p&gt;&lt;p&gt;2012-10-03 11:41:25,197 INFO zen.zenperfsql: 27 devices processed (5920 datapoints)&lt;br/&gt;2012-10-03 11:41:25,198 INFO zen.collector.scheduler: Tasks: 44 Successful_Runs: 45 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 0&lt;br/&gt;2012-10-03 11:46:25,212 INFO zen.zenperfsql: 27 devices processed (11460 datapoints)&lt;br/&gt;2012-10-03 11:46:25,214 INFO zen.collector.scheduler: Tasks: 44 Successful_Runs: 88 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 0 Running_Tasks: 0&lt;/p&gt;&lt;div class="mcePaste" id="_mcePaste" style="position: absolute; top: 0px; left: 0px;"&gt;﻿&lt;/div&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:f9eca3f8-b80d-4c24-bfda-f1b301ed2881] --&gt;</description>
      <pubDate>Wed, 03 Oct 2012 13:12:55 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6108</guid>
      <dc:date>2012-10-03T13:12:55Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6112</link>
      <description>&lt;!-- [DocumentBodyStart:32e65b92-0d74-47d1-a530-281bd2cc276e] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Nathan -&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;For the daemon randomnly crashing that I believe is actually a problem with some of the libraries that the daemon relies on (Egor could comment more).&amp;#160; You can add the following to the zenperfsql.conf:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;watchdog=true&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;That will start the daemon in a watchdog wrapper.&amp;#160; If the watchdog detects that the daemon has failed it will restart it.&amp;#160; It's not elegant and it does mean that any events queued up are lost but it does work to keep the daemon going.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I have been (admittedly very sparadically) debugging the code to see if I can find why the daemon seems to have problem when a device is down.&amp;#160; If I can track it down I will definitely submit a fix back to Egor to be included in this ZenPack.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;--Dennis&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:32e65b92-0d74-47d1-a530-281bd2cc276e] --&gt;</description>
      <pubDate>Sun, 07 Oct 2012 19:44:51 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6112</guid>
      <dc:date>2012-10-07T19:44:51Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6132</link>
      <description>&lt;!-- [DocumentBodyStart:2fe1dd98-935a-4fb1-a801-d01cadb225b4] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;&lt;span style="color: #2b2b2b; font-family: Arial; font-size: 12px; background-color: #ffffff;"&gt;Hi Dennis,&lt;/span&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;span style="color: #2b2b2b; font-family: Arial; font-size: 12px; background-color: #ffffff;"&gt;i can't reproduce error you reported. Can you describe you environment? (SQL Server version, clustered or not, connection strings, is every database instance added as separate Device in Zenoss or single server with multiple instances?)&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:2fe1dd98-935a-4fb1-a801-d01cadb225b4] --&gt;</description>
      <pubDate>Thu, 11 Oct 2012 18:24:36 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6132</guid>
      <dc:date>2012-10-11T18:24:36Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6133</link>
      <description>&lt;!-- [DocumentBodyStart:d7c72778-30d7-4bae-9561-7bd11162b952] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Egor -&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;We have different versions of sql (about 200 instances of sql being monitored).&amp;#160; The versions are 2005, 2008 or 2008R2.&amp;#160; The DB Instances are separate devices and most of them are a cluster configuration (which is why we added them separately so if one physical server is down the DB instance will failover and we can still monitor it).&amp;#160; We have a few MySQL instances on the same collectors and those were not impacted (but those use a different connection string obviously)&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;However, I recently had a situation where a development database server was down and that server hosted 6 or 8 SQL instances.&amp;#160; Since this was a development server it was not a cluster and so the instances were down.&amp;#160; They were down even to ping but the zenperfsql daemon still monitored them and other instances on the same collector had broken graphs (sparodically the rrd files would be updated).&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;The connection string that the majority of my SQL instances are using is:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;'pyodbc',DRIVER='{FreeTDS}',ansi=True,TDS_Version='8.0',SERVER='${dev/manageIp}',PORT='1433',DATABASE='master',UID='${here/zWinUser}',PWD='${here/zWinPassword}'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I also tried adding timeout=15 as well but that didn't seem to have any impact.&amp;#160; I'm still using Zenoss 3.2 (with patches applied that were included in 3.2.1).&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;--Dennis&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:d7c72778-30d7-4bae-9561-7bd11162b952] --&gt;</description>
      <pubDate>Thu, 11 Oct 2012 18:49:47 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6133</guid>
      <dc:date>2012-10-11T18:49:47Z</dc:date>
      <clearspace:dateToText>1 year, 5 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6148</link>
      <description>&lt;!-- [DocumentBodyStart:3f0b4c7c-992a-432c-9c67-0833722031c8] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Dennis,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;check the latest version (2.4.4) of SQL Data Source ZenPack from my github repository&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:3f0b4c7c-992a-432c-9c67-0833722031c8] --&gt;</description>
      <pubDate>Tue, 16 Oct 2012 18:12:01 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6148</guid>
      <dc:date>2012-10-16T18:12:01Z</dc:date>
      <clearspace:dateToText>1 year, 4 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6170</link>
      <description>&lt;!-- [DocumentBodyStart:c815807e-40d9-442e-9b3f-a572ac154059] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Egor -&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I tried 2.4.5 (appears you updated it again the next day).&amp;#160; Same issue seems to be there.&amp;#160; &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;--Dennis&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:c815807e-40d9-442e-9b3f-a572ac154059] --&gt;</description>
      <pubDate>Fri, 26 Oct 2012 19:15:47 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6170</guid>
      <dc:date>2012-10-26T19:15:47Z</dc:date>
      <clearspace:dateToText>1 year, 4 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6171</link>
      <description>&lt;!-- [DocumentBodyStart:da3dd13f-a39c-42ed-b24a-cdbc407b0d9f] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Egor -&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Here is some debug output (I removed the lines about updating thresholds) for a device that is currently completely down (no ping).&amp;#160; As you can see it says "Pausing tasks" however it moves the task to "FETCHING_DATA" and then it never moves out of that state and will continue to do "skipped because it was not idle".&amp;#160; This seems to cause issues getting other tasks that should be able to run to run.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-10-26 15:54:24,662 DEBUG zen.zenperfsql: deviceIssues=[('DB_device-dbc-sql', 5, '176')]&lt;/p&gt;&lt;p&gt;2012-10-26 15:54:24,662 DEBUG zen.zenperfsql: Pausing tasks for device DB_device-dbc-sql&lt;/p&gt;&lt;p&gt;2012-10-26 15:55:12,735 DEBUG zen.zenperfsql: Processing configuration for DB_device-dbc-sql&lt;/p&gt;&lt;p&gt;2012-10-26 15:55:12,735 DEBUG zen.daemon: DummyListener: configuration DB_device-dbc-sql added&lt;/p&gt;&lt;p&gt;2012-10-26 15:55:12,736 DEBUG zen.zenperfsql: Splitting config DB_device-dbc-sql&lt;/p&gt;&lt;p&gt;2012-10-26 15:55:12,736 DEBUG zen.zenperfsql: Tasks for config DB_device-dbc-sql: {'DB_device-dbc-sql 300 3237929694254545468': &amp;lt;__main__.SqlPerformanceCollectionTask object at 0x95c9710&amp;gt;}&lt;/p&gt;&lt;p&gt;2012-10-26 15:55:12,736 DEBUG zen.collector.scheduler: add task DB_device-dbc-sql 300 3237929694254545468, SQL schedule Name: DB_device-dbc-sql 300 3237929694254545468 configId: DB_device-dbc-sql Datasources: 16 &lt;/p&gt;&lt;p&gt;2012-10-26 15:56:01,737 DEBUG zen.collector.scheduler: Task DB_device-dbc-sql 300 3237929694254545468 starting on 300 second intervals&lt;/p&gt;&lt;p&gt;2012-10-26 15:56:01,737 DEBUG zen.collector.scheduler: Task DB_device-dbc-sql 300 3237929694254545468 changing state from IDLE to QUEUED&lt;/p&gt;&lt;p&gt;2012-10-26 15:56:37,609 DEBUG zen.collector.scheduler: Task DB_device-dbc-sql 300 3237929694254545468 changing state from QUEUED to RUNNING&lt;/p&gt;&lt;p&gt;2012-10-26 15:56:37,609 DEBUG zen.collector.scheduler: Task DB_device-dbc-sql 300 3237929694254545468 changing state from RUNNING to CONNECTING&lt;/p&gt;&lt;p&gt;2012-10-26 15:56:37,609 DEBUG zen.zenperfsql: Connected to DB_device-dbc-sql [10.76.120.21]&lt;/p&gt;&lt;p&gt;2012-10-26 15:56:37,610 DEBUG zen.collector.scheduler: Task DB_device-dbc-sql 300 3237929694254545468 changing state from CONNECTING to FETCH_DATA&lt;/p&gt;&lt;p&gt;2012-10-26 15:59:24,672 DEBUG zen.zenperfsql: deviceIssues=[('DB_device-dbc-sql', 5, '181')]&lt;/p&gt;&lt;p&gt;2012-10-26 15:59:24,673 DEBUG zen.zenperfsql: Pausing tasks for device DB_device-dbc-sql&lt;/p&gt;&lt;p&gt;2012-10-26 15:59:24,673 DEBUG zen.collector.scheduler: Pausing task DB_device-dbc-sql 300 3237929694254545468&lt;/p&gt;&lt;p&gt;2012-10-26 16:01:01,738 DEBUG zen.collector.scheduler: Task DB_device-dbc-sql 300 3237929694254545468 skipped because it was not idle&lt;/p&gt;&lt;p&gt;2012-10-26 16:04:24,684 DEBUG zen.zenperfsql: deviceIssues=[('DB_device-dbc-sql', 5, '186')]&lt;/p&gt;&lt;p&gt;2012-10-26 16:04:24,684 DEBUG zen.zenperfsql: Pausing tasks for device DB_device-dbc-sql&lt;/p&gt;&lt;p&gt;2012-10-26 16:04:24,684 DEBUG zen.collector.scheduler: Pausing task DB_device-dbc-sql 300 3237929694254545468&lt;/p&gt;&lt;p&gt;2012-10-26 16:06:01,738 DEBUG zen.collector.scheduler: Task DB_device-dbc-sql 300 3237929694254545468 skipped because it was not idle&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;And then eventually I see the following.&amp;#160; The first device listed is the device that is down but then all of the other devices that should be fine are "skipped because it was not idle":&lt;/strong&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;2012-10-26 16:11:01,737 DEBUG zen.collector.scheduler: Task DB_device-dbc-sql 300 3237929694254545468 skipped because it was not idle&lt;/p&gt;&lt;p&gt;2012-10-26 16:11:01,839 DEBUG zen.collector.scheduler: Task DB_updevice1-db 300 3205486366482347908 skipped because it was not idle&lt;/p&gt;&lt;p&gt;2012-10-26 16:11:02,826 DEBUG zen.collector.scheduler: Task DB-updevice2 300 1634055680198302324 skipped because it was not idle&lt;/p&gt;&lt;p&gt;2012-10-26 16:11:05,747 DEBUG zen.collector.scheduler: Task DB_updevice3 300 -1177419023201675954 skipped because it was not idle&lt;/p&gt;&lt;p&gt;2012-10-26 16:11:06,780 DEBUG zen.collector.scheduler: Task DB-updevice4 300 6297468427097362981 skipped because it was not idle&lt;/p&gt;&lt;p&gt;2012-10-26 16:11:07,825 DEBUG zen.collector.scheduler: Task DB-updevice5 300 -3022324758487324137 skipped because it was not idle&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:da3dd13f-a39c-42ed-b24a-cdbc407b0d9f] --&gt;</description>
      <pubDate>Fri, 26 Oct 2012 20:10:14 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6171</guid>
      <dc:date>2012-10-26T20:10:14Z</dc:date>
      <clearspace:dateToText>1 year, 4 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6179</link>
      <description>&lt;!-- [DocumentBodyStart:f4037732-1bb0-4bdb-b428-1d7ab19ba599] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Dennis,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;can it be that you have problem with single IP address sharing between multiple devices (cluster nodes or virtual resource) in Zenoss? If so, than check this ZenPack &lt;a class="jive-link-wiki-small" href="http://community.zenoss.org/docs/DOC-5800"&gt;http://community.zenoss.org/docs/DOC-5800&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:f4037732-1bb0-4bdb-b428-1d7ab19ba599] --&gt;</description>
      <pubDate>Mon, 29 Oct 2012 17:28:44 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6179</guid>
      <dc:date>2012-10-29T17:28:44Z</dc:date>
      <clearspace:dateToText>1 year, 4 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6180</link>
      <description>&lt;!-- [DocumentBodyStart:079d71d8-75d6-4bd9-9d50-7344174f5468] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Egor -&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I don't think so.&amp;#160; Every one of those devices I had in my output have a different manage IP.&amp;#160; The SQL Instances are in their own device class and they don't model IP Interfaces.&amp;#160; From what I can see if I change zMsSqlConnectionString so it is not identical then it doesn't seem to be a problem (although I have only tested that scenario very briefly).&amp;#160; I have 2 MySQL instances that are on the same collector that are not affected when a MsSQL instance is down.&amp;#160; The only thing that is different is the connection string property is different (zMySqlConnectionString vs zMsSqlConnectionString)&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;While that's a possibility it adds quite a bit of management overhead so I'm trying to avoid that if possible.&amp;#160; It really seems like the task gets paused by then starts anyway and never moves from FETCH_DATA which means the scheduler thinks it is not idle.&amp;#160; And then for some reason it lumps all devices on the same collector with the same connection string into the same task.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;--Dennis&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:079d71d8-75d6-4bd9-9d50-7344174f5468] --&gt;</description>
      <pubDate>Mon, 29 Oct 2012 17:59:11 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6180</guid>
      <dc:date>2012-10-29T17:59:11Z</dc:date>
      <clearspace:dateToText>1 year, 4 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6195</link>
      <description>&lt;!-- [DocumentBodyStart:7d99ee48-133c-486b-8436-6f301b68cf29] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Egor,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I hope you can help.&amp;#160; Our instance of Zenoss had a monitoring template set up to query a MS SQL server and graph certain items of interest.&amp;#160; This worked until someone decided to restart the Zenoss VM without gracefully shutting down Zenoss.&amp;#160; Of course there was a lot of corruption that had to be resolved first, but since then we have been unable to connect via Zenoss to our SQL instance.&amp;#160; I can isql using FreeTDS (and without) and retrieve data, but whenever I test inside of Zenoss I get the following error:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Exception while performing command: &lt;/p&gt;&lt;p&gt;Traceback (most recent call last):&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/Products/ZenUI3/browser/command.py", line 108, in stream&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; data = unjson(request.form['data'])&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/Products/ZenUtils/jsonutils.py", line 175, in unjson&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; return _json.loads(value, **kw)&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/lib/python2.6/json/__init__.py", line 318, in loads&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; return cls(encoding=encoding, **kw).decode(s)&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/Products/ZenUtils/jsonutils.py", line 37, in decode&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; result = super(StringifyingDecoder, self).decode(s)&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/lib/python2.6/json/decoder.py", line 319, in decode&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; obj, end = self.raw_decode(s, idx=_w(s, 0).end())&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/lib/python2.6/json/decoder.py", line 336, in raw_decode&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; obj, end = self._scanner.iterscan(s, **kw).next()&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/lib/python2.6/json/scanner.py", line 55, in iterscan&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; rval, next_pos = action(m, context)&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/lib/python2.6/json/decoder.py", line 183, in JSONObject&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; value, end = iterscan(s, idx=end, context=context).next()&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/lib/python2.6/json/scanner.py", line 55, in iterscan&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; rval, next_pos = action(m, context)&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/lib/python2.6/json/decoder.py", line 155, in JSONString&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; return scanstring(match.string, match.end(), encoding, strict)&lt;/p&gt;&lt;p&gt;ValueError: Unterminated string starting at: line 1 column 89 (char 89)&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;In the events I receive these errors:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=";"&gt;Event Class:&lt;/td&gt;&lt;td style=";"&gt;/Status/PyDBAPI&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;Status:&lt;/td&gt;&lt;td style=";"&gt;0&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;Start Time:&lt;/td&gt;&lt;td style=";"&gt;2012/10/30 09:02:03.000&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;Stop Time:&lt;/td&gt;&lt;td style=";"&gt;2012/10/31 09:41:08.000&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;Count:&lt;/td&gt;&lt;td style=";"&gt;299&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;Hide details&lt;/p&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=";"&gt;prodState&lt;/td&gt;&lt;td style=";"&gt;1000&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;stateChange&lt;/td&gt;&lt;td style=";"&gt;2012/10/31 09:41:08.000&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;facility&lt;/td&gt;&lt;td style=";"&gt;unknown&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;eventClassKey&lt;/td&gt;&lt;td style=";"&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;agent&lt;/td&gt;&lt;td style=";"&gt;zenperfsql&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;dedupid&lt;/td&gt;&lt;td style=";"&gt;mdm-p3-s1|mdm-p3-s1|/Status/PyDBAPI|AddressUUIDOverlayController|3&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;manager&lt;/td&gt;&lt;td style=";"&gt;zenossp1s1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;Location&lt;/td&gt;&lt;td style=";"&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;ownerid&lt;/td&gt;&lt;td style=";"&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;firstTime&lt;/td&gt;&lt;td style=";"&gt;2012/10/30 09:02:03.000&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;eventClass&lt;/td&gt;&lt;td style=";"&gt;/Status/PyDBAPI&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;message&lt;/td&gt;&lt;td style=";"&gt;[ISQL]ERROR: Could not SQLConnect&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;DevicePriority&lt;/td&gt;&lt;td style=";"&gt;3&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;suppid&lt;/td&gt;&lt;td style=";"&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;monitor&lt;/td&gt;&lt;td style=";"&gt;localhost&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;priority&lt;/td&gt;&lt;td style=";"&gt;-1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;DeviceClass&lt;/td&gt;&lt;td style=";"&gt;/Server/Linux&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;eventState&lt;/td&gt;&lt;td style=";"&gt;0&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;evid&lt;/td&gt;&lt;td style=";"&gt;85f0a8ea-d00d-4eb6-aaa4-f9ce9aa5a4f3&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;eventClassMapping&lt;/td&gt;&lt;td style=";"&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;component&lt;/td&gt;&lt;td style=";"&gt;mdm-p3-s1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;clearid&lt;/td&gt;&lt;td style=";"&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;DeviceGroups&lt;/td&gt;&lt;td style=";"&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;eventGroup&lt;/td&gt;&lt;td style=";"&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;device&lt;/td&gt;&lt;td style=";"&gt;mdm-p3-s1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;severity&lt;/td&gt;&lt;td style=";"&gt;3&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;count&lt;/td&gt;&lt;td style=";"&gt;299&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;ntevid&lt;/td&gt;&lt;td style=";"&gt;0&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;summary&lt;/td&gt;&lt;td style=";"&gt;[ISQL]ERROR: Could not SQLConnect&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;eventKey&lt;/td&gt;&lt;td style=";"&gt;AddressUUIDOverlayController&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;lastTime&lt;/td&gt;&lt;td style=";"&gt;2012/10/31 09:41:08.000&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;ipAddress&lt;/td&gt;&lt;td style=";"&gt;172.21.1.22&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;Systems&lt;/td&gt;&lt;td style=";"&gt;|&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=";"&gt;stderr&lt;/td&gt;&lt;td style=";"&gt;[Errno 32] Broken pipe&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I have removed the zenpack and reinstalled it, removed the device and readded it, but still get the same error.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Any thoughts?&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Sincerely,&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Mike&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:7d99ee48-133c-486b-8436-6f301b68cf29] --&gt;</description>
      <pubDate>Wed, 31 Oct 2012 15:12:25 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6195</guid>
      <dc:date>2012-10-31T15:12:25Z</dc:date>
      <clearspace:dateToText>1 year, 4 months ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6309</link>
      <description>&lt;!-- [DocumentBodyStart:9a65c9fb-7f24-4f1a-9803-a1b86b2f9f77] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;When I run zenperfsnmp on Zenoss 4.2.x it seems to run fine for a bit but then eventually segfaults.&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;For instance...&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:34:51,611 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:34:51,613 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:34:51,613 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:35:21,613 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:35:21,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:35:21,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:35:32,716 DEBUG zen.collector.scheduler: Task *sensored* 300 7245788630442028509 changing state from IDLE to QUEUED&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:35:37,760 DEBUG zen.collector.scheduler: Task *sensored* 300 -3721721250088439563 changing state from IDLE to QUEUED&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:35:51,614 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:35:51,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:35:51,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;ORA-24550: signal received: [si_signo=11] [si_errno=0] [si_code=1] [si_int=-335260304] [si_ptr=0x7f3fec045570] [si_addr=0x8c0]&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:35:59,640 DEBUG zen.collector.scheduler: Task *sensored* 300 5614340773592242759 changing state from IDLE to QUEUED&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:36:21,614 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:36:21,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:36:21,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:36:51,613 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:36:51,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:36:51,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,129 INFO zen.maintenance: Performing periodic maintenance&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,129 DEBUG zen.maintenance: calling hearbeat sender&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,130 INFO zen.zenperfsql: Counter eventCount, value 66855&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,130 DEBUG zen.maintenance: calling additional maintenance&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,131 DEBUG zen.zenperfsql: Performing periodic maintenance&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,131 INFO zen.zenperfsql: 3 devices processed (18162 datapoints)&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,131 INFO zen.collector.scheduler: Tasks: 7 Successful_Runs: 172 Failed_Runs: 0 Missed_Runs: 0 Queued_Tasks: 3 Running_Tasks: 1 &lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,151 DEBUG zen.zenperfsql: deviceIssues=[('*sensored*', 1, 13132), ('*sensored*', 1, 13178), ('*sensored*', 1, 13178), ('*sensored*', 1, 13178), ('*sensored*', 1, 446), ('*sensored*', 1, 13178), ('*sensored*', 1, 6032), ('*sensored*', 1, 6034), ('*sensored*', 1, 13178), ('*sensored*', 1, 13178), ('*sensored*', 1, 446), ('*sensored*', 1, 445), ('*sensored*', 1, 13178), ('*sensored*', 1, 446)]&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,151 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,151 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,151 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,151 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,151 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,152 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,152 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,152 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,152 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,152 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,152 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,152 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,152 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,152 DEBUG zen.zenperfsql: Pausing tasks for device *sensored*&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,153 DEBUG zen.maintenance: Rescheduling maintenance in 300s&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:12,322 DEBUG zen.zenperfsql: Sending 0 events, 0 perf events, 1 heartbeats&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:21,611 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:21,612 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:21,612 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:51,613 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:51,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:37:51,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;ORA-24550: signal received: [si_signo=11] [si_errno=0] [si_code=1] [si_int=-207858400] [si_ptr=0x7f3ff39c5520] [si_addr=0x2868]&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:38:21,613 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:38:21,614 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:38:21,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:38:51,614 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:38:51,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:38:51,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:38:53,656 DEBUG zen.collector.scheduler: Task *sensored* 300 -933446352478825958 changing state from IDLE to QUEUED&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:39:07,665 DEBUG zen.collector.scheduler: Task *sensored* 300 5550683769588479613 changing state from IDLE to QUEUED&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:39:21,613 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:39:21,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:39:21,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:39:49,979 DEBUG zen.collector.scheduler: Task *sensored* 300 150412069858796483 skipped because it was not idle&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:39:51,611 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:39:51,613 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:39:51,613 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;ORA-24550: signal received: [si_signo=11] [si_errno=0] [si_code=1] [si_int=-207887712] [si_ptr=0x7f3ff39be2a0] [si_addr=0x2868]&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:40:21,614 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:40:21,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:40:21,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:40:32,716 DEBUG zen.collector.scheduler: Task *sensored* 300 7245788630442028509 skipped because it was not idle&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:40:37,760 DEBUG zen.collector.scheduler: Task *sensored* 300 -3721721250088439563 skipped because it was not idle&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:40:51,614 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:40:51,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:40:51,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:40:59,641 DEBUG zen.collector.scheduler: Task *sensored* 300 5614340773592242759 skipped because it was not idle&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:41:21,613 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:41:21,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:41:21,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:41:51,613 DEBUG zen.pbclientfactory: pinging perspective&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:41:51,615 DEBUG zen.pbclientfactory: perspective ponged&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;2013-01-11 21:41:51,615 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;Segmentation fault&lt;/code&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:9a65c9fb-7f24-4f1a-9803-a1b86b2f9f77] --&gt;</description>
      <pubDate>Mon, 14 Jan 2013 15:20:06 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6309</guid>
      <dc:date>2013-01-14T15:20:06Z</dc:date>
      <clearspace:dateToText>1 year, 1 month ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6320</link>
      <description>&lt;!-- [DocumentBodyStart:6847532c-c5a5-4040-bfa3-a6ce8ae56514] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Output of the crash/segault from gdb:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;p&gt;[New Thread 0x7fffda06f700 (LWP 18768)]&lt;/p&gt;&lt;p&gt;[New Thread 0x7fffdaa70700 (LWP 18771)]&lt;/p&gt;&lt;p&gt;[New Thread 0x7fffdb471700 (LWP 18773)]&lt;/p&gt;&lt;p&gt;[New Thread 0x7fffd966e700 (LWP 18785)]&lt;/p&gt;&lt;p&gt;[Thread 0x7fffd966e700 (LWP 18785) exited]&lt;/p&gt;&lt;p&gt;2013-01-17 14:42:39,857 DEBUG zen.collector.scheduler: Task *sensored* 300 5550683769588479613 changing state from IDLE to QUEUED&lt;/p&gt;&lt;p&gt;2013-01-17 14:42:54,365 DEBUG zen.pbclientfactory: pinging perspective&lt;/p&gt;&lt;p&gt;2013-01-17 14:42:54,367 DEBUG zen.pbclientfactory: perspective ponged&lt;/p&gt;&lt;p&gt;2013-01-17 14:42:54,367 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/p&gt;&lt;p&gt;2013-01-17 14:42:54,848 DEBUG zen.collector.scheduler: Task *sensored* 300 -933446352478825958 changing state from IDLE to QUEUED&lt;/p&gt;&lt;p&gt;2013-01-17 14:43:13,020 DEBUG zen.collector.scheduler: Task *sensored* 300 7245788630442028509 changing state from IDLE to QUEUED&lt;/p&gt;&lt;p&gt;2013-01-17 14:43:24,366 DEBUG zen.pbclientfactory: pinging perspective&lt;/p&gt;&lt;p&gt;2013-01-17 14:43:24,381 DEBUG zen.pbclientfactory: perspective ponged&lt;/p&gt;&lt;p&gt;2013-01-17 14:43:24,381 DEBUG zen.pbclientfactory: Cancelling ping timeout&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Program received signal SIGSEGV, Segmentation fault.&lt;/p&gt;&lt;p&gt;[Switching to Thread 0x7fffdaa70700 (LWP 18771)]&lt;/p&gt;&lt;p&gt;0x00007fffdc5abaa5 in dbgrlWriteAlertDetail () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;(gdb) where&lt;/p&gt;&lt;p&gt;#0&amp;#160; 0x00007fffdc5abaa5 in dbgrlWriteAlertDetail () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#1&amp;#160; 0x00007fffdc5aba2f in dbgrlWriteAlertText () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#2&amp;#160; 0x00007fffdc13aa9d in nlddwrtlog () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#3&amp;#160; 0x00007fffdc139bc7 in nldsadrvfp () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#4&amp;#160; 0x00007fffdc13a179 in nldsfprintf () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#5&amp;#160; 0x00007fffdcec8c23 in niqlce1 () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#6&amp;#160; 0x00007fffdc035a60 in nioqer () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#7&amp;#160; 0x00007fffdc0496e6 in niotns () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#8&amp;#160; 0x00007fffdc0d600d in nigcall () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#9&amp;#160; 0x00007fffdc051ba0 in osncon () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#10 0x00007fffdbee636f in kpuadef () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#11 0x00007fffdbec203f in upiini () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#12 0x00007fffdbeb9dee in upiah0 () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#13 0x00007fffdbedf883 in kpuatch () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#14 0x00007fffdbec61d3 in OCIServerAttach () from /usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/p&gt;&lt;p&gt;#15 0x00007fffde2e84fc in Connection_Connect (self=0x5dc4300, args=&amp;lt;value optimized out&amp;gt;, keywordArgs=&amp;lt;value optimized out&amp;gt;) at Connection.c:615&lt;/p&gt;&lt;p&gt;#16 Connection_Init (self=0x5dc4300, args=&amp;lt;value optimized out&amp;gt;, keywordArgs=&amp;lt;value optimized out&amp;gt;) at Connection.c:929&lt;/p&gt;&lt;p&gt;#17 0x00007ffff7aa9278 in type_call (type=&amp;lt;value optimized out&amp;gt;, args=0x59851e0, kwds=0x7fffd0032d10) at Objects/typeobject.c:737&lt;/p&gt;&lt;p&gt;#18 0x00007ffff7a46bd3 in PyObject_Call (func=0x7fffde4f3820, arg=&amp;lt;value optimized out&amp;gt;, kw=&amp;lt;value optimized out&amp;gt;) at Objects/abstract.c:2529&lt;/p&gt;&lt;p&gt;#19 0x00007ffff7af37ea in ext_do_call (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4326&lt;/p&gt;&lt;p&gt;#20 PyEval_EvalFrameEx (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:2705&lt;/p&gt;&lt;p&gt;#21 0x00007ffff7af579d in fast_function (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4099&lt;/p&gt;&lt;p&gt;#22 call_function (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4034&lt;/p&gt;&lt;p&gt;#23 PyEval_EvalFrameEx (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:2666&lt;/p&gt;&lt;p&gt;#24 0x00007ffff7af579d in fast_function (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4099&lt;/p&gt;&lt;p&gt;#25 call_function (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4034&lt;/p&gt;&lt;p&gt;#26 PyEval_EvalFrameEx (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:2666&lt;/p&gt;&lt;p&gt;#27 0x00007ffff7af6b0b in PyEval_EvalCodeEx (co=0x34fc830, globals=&amp;lt;value optimized out&amp;gt;, locals=&amp;lt;value optimized out&amp;gt;, args=&amp;lt;value optimized out&amp;gt;, argcount=2, kws=0x0, &lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253&lt;/p&gt;&lt;p&gt;#28 0x00007ffff7a75a91 in function_call (func=0x34f3ed8, arg=0x5a4af38, kw=0x0) at Objects/funcobject.c:526&lt;/p&gt;&lt;p&gt;#29 0x00007ffff7a46bd3 in PyObject_Call (func=0x34f3ed8, arg=&amp;lt;value optimized out&amp;gt;, kw=&amp;lt;value optimized out&amp;gt;) at Objects/abstract.c:2529&lt;/p&gt;&lt;p&gt;#30 0x00007ffff7a5922f in instancemethod_call (func=0x34f3ed8, arg=0x5a4af38, kw=0x0) at Objects/classobject.c:2578&lt;/p&gt;&lt;p&gt;#31 0x00007ffff7a46bd3 in PyObject_Call (func=0x43a87d0, arg=&amp;lt;value optimized out&amp;gt;, kw=&amp;lt;value optimized out&amp;gt;) at Objects/abstract.c:2529&lt;/p&gt;&lt;p&gt;#32 0x00007ffff7ab2f70 in slot_tp_init (self=0x5f50d90, args=0x4c954d0, kwds=0x0) at Objects/typeobject.c:5657&lt;/p&gt;&lt;p&gt;#33 0x00007ffff7aa9278 in type_call (type=&amp;lt;value optimized out&amp;gt;, args=0x4c954d0, kwds=0x0) at Objects/typeobject.c:737&lt;/p&gt;&lt;p&gt;#34 0x00007ffff7a46bd3 in PyObject_Call (func=0x353bfa0, arg=&amp;lt;value optimized out&amp;gt;, kw=&amp;lt;value optimized out&amp;gt;) at Objects/abstract.c:2529&lt;/p&gt;&lt;p&gt;#35 0x00007ffff7af44aa in do_call (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4231&lt;/p&gt;&lt;p&gt;#36 call_function (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4036&lt;/p&gt;&lt;p&gt;#37 PyEval_EvalFrameEx (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:2666&lt;/p&gt;&lt;p&gt;#38 0x00007ffff7af6b0b in PyEval_EvalCodeEx (co=0x3501730, globals=&amp;lt;value optimized out&amp;gt;, locals=&amp;lt;value optimized out&amp;gt;, args=&amp;lt;value optimized out&amp;gt;, argcount=5, &lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; kws=0x7ffff7fad068, kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253&lt;/p&gt;&lt;p&gt;#39 0x00007ffff7a75b98 in function_call (func=0x3502a28, arg=0x422d350, kw=0x7fffd0026990) at Objects/funcobject.c:526&lt;/p&gt;&lt;p&gt;#40 0x00007ffff7a46bd3 in PyObject_Call (func=0x3502a28, arg=&amp;lt;value optimized out&amp;gt;, kw=&amp;lt;value optimized out&amp;gt;) at Objects/abstract.c:2529&lt;/p&gt;&lt;p&gt;#41 0x00007ffff7af37ea in ext_do_call (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4326&lt;/p&gt;&lt;p&gt;#42 PyEval_EvalFrameEx (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:2705&lt;/p&gt;&lt;p&gt;#43 0x00007ffff7af6b0b in PyEval_EvalCodeEx (co=0xa5c730, globals=&amp;lt;value optimized out&amp;gt;, locals=&amp;lt;value optimized out&amp;gt;, args=&amp;lt;value optimized out&amp;gt;, argcount=7, kws=0x7ffff7fad068, &lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253&lt;/p&gt;&lt;p&gt;#44 0x00007ffff7a75b98 in function_call (func=0xa31938, arg=0x5db59f0, kw=0x51b7bb0) at Objects/funcobject.c:526&lt;/p&gt;&lt;p&gt;#45 0x00007ffff7a46bd3 in PyObject_Call (func=0xa31938, arg=&amp;lt;value optimized out&amp;gt;, kw=&amp;lt;value optimized out&amp;gt;) at Objects/abstract.c:2529&lt;/p&gt;&lt;p&gt;---Type &amp;lt;return&amp;gt; to continue, or q &amp;lt;return&amp;gt; to quit---&lt;/p&gt;&lt;p&gt;#46 0x00007ffff7af37ea in ext_do_call (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4326&lt;/p&gt;&lt;p&gt;#47 PyEval_EvalFrameEx (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:2705&lt;/p&gt;&lt;p&gt;#48 0x00007ffff7af6b0b in PyEval_EvalCodeEx (co=0xa5c9b0, globals=&amp;lt;value optimized out&amp;gt;, locals=&amp;lt;value optimized out&amp;gt;, args=&amp;lt;value optimized out&amp;gt;, argcount=7, kws=0x7ffff7fad068, &lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253&lt;/p&gt;&lt;p&gt;#49 0x00007ffff7a75b98 in function_call (func=0xa31b18, arg=0x5db5a60, kw=0x7fffd40e3ca0) at Objects/funcobject.c:526&lt;/p&gt;&lt;p&gt;#50 0x00007ffff7a46bd3 in PyObject_Call (func=0xa31b18, arg=&amp;lt;value optimized out&amp;gt;, kw=&amp;lt;value optimized out&amp;gt;) at Objects/abstract.c:2529&lt;/p&gt;&lt;p&gt;#51 0x00007ffff7af37ea in ext_do_call (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4326&lt;/p&gt;&lt;p&gt;#52 PyEval_EvalFrameEx (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:2705&lt;/p&gt;&lt;p&gt;#53 0x00007ffff7af6b0b in PyEval_EvalCodeEx (co=0x5db9ab0, globals=&amp;lt;value optimized out&amp;gt;, locals=&amp;lt;value optimized out&amp;gt;, args=&amp;lt;value optimized out&amp;gt;, argcount=1, &lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; kws=0x7ffff7fad068, kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253&lt;/p&gt;&lt;p&gt;#54 0x00007ffff7a75b98 in function_call (func=0x5dacc08, arg=0x4a50f50, kw=0x7fffcc130230) at Objects/funcobject.c:526&lt;/p&gt;&lt;p&gt;#55 0x00007ffff7a46bd3 in PyObject_Call (func=0x5dacc08, arg=&amp;lt;value optimized out&amp;gt;, kw=&amp;lt;value optimized out&amp;gt;) at Objects/abstract.c:2529&lt;/p&gt;&lt;p&gt;#56 0x00007ffff7af37ea in ext_do_call (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4326&lt;/p&gt;&lt;p&gt;#57 PyEval_EvalFrameEx (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:2705&lt;/p&gt;&lt;p&gt;#58 0x00007ffff7af579d in fast_function (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4099&lt;/p&gt;&lt;p&gt;#59 call_function (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4034&lt;/p&gt;&lt;p&gt;#60 PyEval_EvalFrameEx (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:2666&lt;/p&gt;&lt;p&gt;#61 0x00007ffff7af579d in fast_function (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4099&lt;/p&gt;&lt;p&gt;#62 call_function (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:4034&lt;/p&gt;&lt;p&gt;#63 PyEval_EvalFrameEx (f=&amp;lt;value optimized out&amp;gt;, throwflag=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:2666&lt;/p&gt;&lt;p&gt;#64 0x00007ffff7af6b0b in PyEval_EvalCodeEx (co=0x79b430, globals=&amp;lt;value optimized out&amp;gt;, locals=&amp;lt;value optimized out&amp;gt;, args=&amp;lt;value optimized out&amp;gt;, argcount=1, kws=0x0, kwcount=0, &lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253&lt;/p&gt;&lt;p&gt;#65 0x00007ffff7a75a91 in function_call (func=0x7139b0, arg=0x53d4c50, kw=0x0) at Objects/funcobject.c:526&lt;/p&gt;&lt;p&gt;#66 0x00007ffff7a46bd3 in PyObject_Call (func=0x7139b0, arg=&amp;lt;value optimized out&amp;gt;, kw=&amp;lt;value optimized out&amp;gt;) at Objects/abstract.c:2529&lt;/p&gt;&lt;p&gt;#67 0x00007ffff7a5922f in instancemethod_call (func=0x7139b0, arg=0x53d4c50, kw=0x0) at Objects/classobject.c:2578&lt;/p&gt;&lt;p&gt;#68 0x00007ffff7a46bd3 in PyObject_Call (func=0x42c9910, arg=&amp;lt;value optimized out&amp;gt;, kw=&amp;lt;value optimized out&amp;gt;) at Objects/abstract.c:2529&lt;/p&gt;&lt;p&gt;#69 0x00007ffff7aee7c3 in PyEval_CallObjectWithKeywords (func=0x42c9910, arg=0x7ffff7fad050, kw=&amp;lt;value optimized out&amp;gt;) at Python/ceval.c:3882&lt;/p&gt;&lt;p&gt;#70 0x00007ffff7b2dfb2 in t_bootstrap (boot_raw=0x4a6ddc0) at ./Modules/threadmodule.c:614&lt;/p&gt;&lt;p&gt;#71 0x00007ffff77ea851 in start_thread () from /lib64/libpthread.so.0&lt;/p&gt;&lt;p&gt;#72 0x00007ffff6ead11d in clone () from /lib64/libc.so.6&lt;/p&gt;&lt;/code&gt;&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:6847532c-c5a5-4040-bfa3-a6ce8ae56514] --&gt;</description>
      <pubDate>Thu, 17 Jan 2013 22:51:11 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6320</guid>
      <dc:date>2013-01-17T22:51:11Z</dc:date>
      <clearspace:dateToText>1 year, 1 month ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6323</link>
      <description>&lt;!-- [DocumentBodyStart:25cc4e19-5322-4c40-9444-2e14d922dfea] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;It looks like the segfault is a problem with the oracle-instant client package since the segfault is happening in &lt;span style="color: #2b2b2b; font-family: monospace; font-size: 14px; background-color: #ffffff;"&gt;/usr/lib/oracle/11.2/client64/lib/libclntsh.so.11.1&lt;/span&gt;.&amp;#160; I'm investigating to see if there's a way to fix it.&amp;#160; This particular issue seems to be prominent on 64bit systems (which is just about every server these days).&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:25cc4e19-5322-4c40-9444-2e14d922dfea] --&gt;</description>
      <pubDate>Fri, 18 Jan 2013 20:33:42 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6323</guid>
      <dc:date>2013-01-18T20:33:42Z</dc:date>
      <clearspace:dateToText>1 year, 1 month ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6431</link>
      <description>&lt;!-- [DocumentBodyStart:79f2d306-9ec2-4a29-a0e2-49daddf3f8bb] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi Egor,&lt;/p&gt;&lt;p&gt;I'm trying to use the SQL Datasource with Zenoss 4.2.3 but I am hitting what I'm sure must be a user-error and am a little stumped (I also have the ZenPacks.community.MySQLMon ZenPack installed, so I'm comfortable that the zenperfsql daemon is working, just not with my own defined SQL datasources).&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Here is how I've defined a test datasource in a template:&lt;/p&gt;&lt;p&gt;ConnectionString: 'MySQLdb';host=${here/manageIp};user=${here/zMySqlUsername};passwd=${here/zMySqlPassword'};db=MyDatabase&lt;/p&gt;&lt;p&gt;SQL Query: select "1" as messages&lt;/p&gt;&lt;p class="streaming-container" style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p class="streaming-container"&gt;When I try testing it against a device I get the following error - &lt;/p&gt;&lt;p class="streaming-container" style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;div class="streaming-line even"&gt; Preparing Command... &lt;/div&gt;&lt;div class="streaming-line even"&gt; &lt;/div&gt;&lt;div class="streaming-line even"&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p class="streaming-line odd"&gt; exception while executing command &lt;/p&gt;&lt;p class="streaming-line even"&gt; type: &amp;lt;type 'exceptions.StandardError'&amp;gt;&amp;#160; value: query is empty &lt;/p&gt;&lt;p class="streaming-line odd"&gt;&amp;#160; &lt;/p&gt;&lt;p class="streaming-line even"&gt;&amp;#160; &lt;/p&gt;&lt;p class="streaming-line odd"&gt; DONE in 0 seconds &lt;/p&gt;&lt;p class="streaming-line odd" style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p class="streaming-line odd"&gt;I know its not a connection or permissions problem as I can connect and run the same sql from the mysql cli without any problems.&lt;/p&gt;&lt;p class="streaming-line odd" style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p class="streaming-line odd"&gt;Can anyone give me any pointers what I'm doing wrong please ?&lt;/p&gt;&lt;p class="streaming-line odd"&gt;Thanks&lt;/p&gt;&lt;p class="streaming-line odd"&gt;Rob&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:79f2d306-9ec2-4a29-a0e2-49daddf3f8bb] --&gt;</description>
      <pubDate>Fri, 01 Mar 2013 13:08:26 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6431</guid>
      <dc:date>2013-03-01T13:08:26Z</dc:date>
      <clearspace:dateToText>1 year, 1 week ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6432</link>
      <description>&lt;!-- [DocumentBodyStart:08d24730-5f58-450f-8319-07710bcb6078] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;OK, so after a lot more trial and error, I eventually found the following connection string works, which is different again to all the examples given in the documentation. Hope this helps someone else at their wits end like I was:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;'MySQLdb',${here/manageIp},${here/zMySqlUsername},${here/zMySqlPassword},db='MyDatabase'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;(Note the complete lack of host= user= or passwd= which all the examples use.)&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:08d24730-5f58-450f-8319-07710bcb6078] --&gt;</description>
      <pubDate>Fri, 01 Mar 2013 16:32:52 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6432</guid>
      <dc:date>2013-03-01T16:32:52Z</dc:date>
      <clearspace:dateToText>1 year, 1 week ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6506</link>
      <description>&lt;!-- [DocumentBodyStart:67eb3810-7b47-4ced-ac19-04d178ed3496] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Hi James, I have exactly same problem, did you solve it?&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;For others:&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;I tried to install SQL Data Source to zenoss 4.2.3 on centos 6.3. Install and restart went fine, but now when I go to add a data point and select the drop down list of sources I get &lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt; 'AttributeError getDataSourceClasses'&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;EDIT: I tried to use both packs, from zenoss.org and from gituhub...&lt;/p&gt;&lt;p style="min-height: 8pt; height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Uninstalling zenpack resolves the error, but I need SQL Data Source so...&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:67eb3810-7b47-4ced-ac19-04d178ed3496] --&gt;</description>
      <pubDate>Mon, 25 Mar 2013 09:52:51 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6506</guid>
      <dc:date>2013-03-25T09:52:51Z</dc:date>
      <clearspace:dateToText>11 months, 3 weeks ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
    <item>
      <title>RE: SQL Data Source</title>
      <link>http://community.zenoss.org/docs/DOC-5913#comments-6507</link>
      <description>&lt;!-- [DocumentBodyStart:06fa64c6-9af0-46c7-b292-7ff85633628e] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Found an error from event.log:&lt;/p&gt;&lt;p&gt;------&lt;/p&gt;&lt;p&gt;2013-03-25T13:36:44 INFO extdirect Direct request failed: getDataSourceClasses: TemplateRouter.getDataSourceTypes [{'query': ''}]&lt;/p&gt;&lt;p&gt;------&lt;/p&gt;&lt;p&gt;2013-03-25T13:36:44 INFO extdirect DirectRouter suppressed the following exception (Response e3cfc368-d77a-4ac9-9b73-77047564c480):&lt;/p&gt;&lt;p&gt;Traceback (most recent call last):&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/Products/ZenUtils/extdirect/router.py", line 179, in _processDirectRequest&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; response.result = _targetfn(**data)&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/Products/Zuul/routers/template.py", line 399, in getDataSourceTypes&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; data = facade.getDataSourceTypes()&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/Products/Zuul/facades/templatefacade.py", line 319, in getDataSourceTypes&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; for name, dsOption in template.getDataSourceOptions():&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/Products/ZenModel/RRDTemplate.py", line 462, in getDataSourceOptions&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; for dsClass in self.getDataSourceClasses():&lt;/p&gt;&lt;p&gt;&amp;#160; File "/opt/zenoss/Products/ZenModel/RRDTemplate.py", line 453, in getDataSourceClasses&lt;/p&gt;&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; dsClasses += zp.getDataSourceClasses()&lt;/p&gt;&lt;p&gt;AttributeError: getDataSourceClasses&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:06fa64c6-9af0-46c7-b292-7ff85633628e] --&gt;</description>
      <pubDate>Mon, 25 Mar 2013 11:37:45 GMT</pubDate>
      <author>community@zenoss.org</author>
      <guid>http://community.zenoss.org/docs/DOC-5913#comments-6507</guid>
      <dc:date>2013-03-25T11:37:45Z</dc:date>
      <clearspace:dateToText>11 months, 3 weeks ago</clearspace:dateToText>
      <clearspace:objectType>0</clearspace:objectType>
    </item>
  </channel>
</rss>

