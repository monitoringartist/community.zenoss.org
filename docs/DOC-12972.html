<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>
        Developing a Command Parser Based ZenPack - Open Source Network Monitoring and Systems Management
        
        
    </title>

    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" /> 


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="en-US" />
<meta name="keywords" content=""/>
<!-- Developing a Command Parser Based ZenPack -->
<meta property="og:image" content="servlet/JiveServlet/downloadImage/73-2574-13230/share-zenoss-logo.jpg" />

<link rel="search"
    href="../opensearch.xml"
    title="Zenoss Community"
    type="application/opensearchdescription+xml"/>


<link rel="shortcut icon" href="../themes/userbar-disabled/images/favicon.ico" />

    





    
      
      
     




    



    
    





    <link rel="stylesheet" href="../styles/jive-global.css" type="text/css" media="all" />
    <!-- <link rel="stylesheet" href="/styles/jive-icons-legacy.css" type="text/css" media="all" /> -->
    <link rel="stylesheet" href="../styles/jive-icons.css" type="text/css" media="all" />

    <link rel="stylesheet" href="../themes/userbar-disabled/styles/theme.css" type="text/css" media="all" />
    <link rel="stylesheet" href="../themes/userbar-disabled/styles/community.css" type="text/css" media="all" />
    <link rel="stylesheet" href="../themes/userbar-disabled/styles/sifr.css" type="text/css" media="all" />


    <!--[if IE 6]>
    <style type="text/css">
    /* hack for IE6's lack of alpha PNG support */
    * html #jive-wrapper .ie6png,
    * html #jive-wrapper #jive-global-header *.ie6png,
    * html #jive-wrapper #user-bar-wrapper *.ie6png,
    * html #jive-wrapper #jive-body *.ie6png,
    * html #jive-wrapper #jive-footer *.ie6png {
        background-image: expression(
        this.runtimeStyle.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src=" +
        (this.tagName=='IMG' ? this.src : this.currentStyle.backgroundImage.split('\"')[1]) + ")",
        this.runtimeStyle.backgroundImage = "none",
        this.src = "/images/transparent.png"
        );
        }
    </style>

    <link rel="stylesheet" href="/styles/jive-icons-ie.css" type="text/css" media="all" />
    <![endif]-->





    
    

	<link rel="stylesheet" href="../4.5.6/styles/jive-content.css" type="text/css" media="all" />

        <link rel="alternate" type="application/rss+xml"
            title="Developing a Command Parser Based ZenPack Version History Feed"
            href="../community/feeds/document-history/DOC-12972" />

        <link rel="alternate" type="application/rss+xml"
            title="Developing a Command Parser Based ZenPack Comments Feed"
            href="../community/feeds/document-comments/DOC-12972" />

    
        




    <!-- BEGIN action bar, only for non-binary documents -->

    

    <!-- END action bar -->




    <style type="text/css">/* Rating bar on documents */
.jive-content .jive-content-header .jive-content-rating {margin-bottom: 3px;}
.j-rating { padding: 0 10px; }
.jive-content-avgrating {height: 53px;}
/* END Rating bar on documents */

/* Userbar */
#jive-userbar-right {right: 50px;}
/* END Userbar */

/* Download links page */
table.download-links-table {background-color: #ffffff; width: 100%;}
table.download-links-table tbody td { text-align: center; vertical-align: middle;}
table.download-links-table thead th {text-align: center;}
table.download-links-table td, table.download-links-table th {border: 1px solid #EEEEEE !important;}

/* Provides indentation for official doc ToC items */
div.toc dl dt {margin-left: 20px;}
div.toc dl dd dl dt {margin-left: 40px;}
div.toc dl dd dl dd dl dt {margin-left: 60px;}
div.toc dl dd dl dd dl dd dl dt {margin-left: 80px;}
div.toc dl dd dl dd dl dd dl dd dl dt {margin-left: 100px;}
/* END docs items */


/* Blog posts */
div.social-button-spacer {height: 10px;}

div#social-button-cont {
margin-right:10px; 
padding:5px; 
text-align: center; 
float: right;
}

div#comment-indicator {
    float: left;
    left: 12px;
    right: inherit;
    top: 55px;
}

div#comment-indicator div.jive-reply {margin-left: 0px;}

.jive-blog-post-subject {padding-bottom: 0px;}
/* END Blog posts */


/* Community download survey */
form#core-usage-survey label.aligned {float: left; width: 120px;}
form#core-usage-survey span.required_field {color: red;}
form#core-usage-survey label.survey-small-label {display:inline;}
form#core-usage-survey div.survey-checkbox-set {width:82%;}
form#core-usage-survey div.border {border:1px solid #ACACAC; padding:5px;}

form#core-usage-survey label.survey-resource_type {font-style:italic;}
form#core-usage-survey label {
color:#333333;
display:block;
font-size:12px;
font-weight:bold;
}
/* END Community download survey */

</style>
    <style type="text/css">/* custom-css-container */</style>


</head>
<body class="jive-body-content jive-body-content-document" >


<a href="DOC-12972.html#jive-body" class="jive-skip-nav">Skip navigation</a>

    <div id="jive-compliance" class=""style="display:none">
        <span class="jive-icon-med "></span>
        
    </div>

    <div id="jive-wrapper" class="clearfix">

    <!-- Load search for guests -->

    <div id="jive-userbar-search">
    <form action="search.jspa" method="get" id="jive-userbar-search-form">
        <input type="hidden" name="peopleEnabled" value="true"/>

        <input type="hidden" name="userID"/>
        <input type="hidden" name="containerType"/>
        <input type="hidden" name="container"/>
        <input type="hidden" name="spotlight" value="false"/>
        <label for="jive-query"
               class="j-508-label">Search for:</label>
        <input type="text" id="jive-query" name="q" value="" accesskey="4" class="searchbar jive-userbar-search-field"
               autocomplete="off"/>
    </form>

    <div id="jive-spotlight-search-container"></div>
</div>

    <!-- END anon search -->

<!-- SKIP NAV FOR ACCESSIBILITY -->
<a href="DOC-12972.html#skipnav"></a>
<!-- END -->

<div id="header">

    <!-- START TOP NAVIGATION -->
    <div id="navcontainer">
        <table cellpadding="0" cellspacing="0" width="100%" border="0">
          <tr valign="bottom">
            <td rowspan="2">
                <a href="../index.html" title="Zenoss Open Source IT Management"><img src="../themes/userbar-disabled/images/zenoss-logo-reversed-web.png" style="width:254px; margin: 0 0px 25px;" alt="Zenoss Open Enterprise Management" /></a>
            </td>
            <td height="45" colspan="2">
                <div id="zenoss-panel">
                    <div style="width: 200px;" id="cpanel-lt"></div>
                    <ul id="subnav-rt" class="png_fix">
                        <li><a href="http://www.zenoss.com/" title="Zenoss.Inc Home" class="none">Zenoss, Inc.</a></li>
                        <!--<li><a href="/community/feedback" title="Feedback" class="none">Feedback</a></li>-->
                        <!--<li><a href="http://www.zenoss.com/support" title="Support" class="none">Support</a></li>-->
                    </ul>
                </div>
            </td>
          </tr>
          <tr valign="middle">
            <td colspan="2" height="80">
                <ul id="navlist">
                    <li><a href="community/documentation" title="DOCS" class="nav1"><span>DOCS</span></a></li>
                    <li><a href="community/forums" title="FORUMS" class="nav2"><span>FORUMS</span></a></li>        
                    <!--<li><a href="/community/zenpacks" title="ZENPACKS" class="nav3"><span>ZENPACKS</span></a></li>-->
                    <li><a href="http://wiki.zenoss.org/Category:ZenPacks" title="ZENPACKS" class="nav3"><span>ZENPACKS</span></a></li>        
                    <li><a href="community/partners" title="PARTNERS" class="nav4"><span>PARTNERS</span></a></li>      
                    <li><a href="community/about" title="ABOUT" class="nav4"><span>ABOUT</span></a></li>   
                    <li><a href="../blogs/zenossblog.html" title="BLOG" class="nav5"><span>BLOG</span></a></li>
                    <li><a href="community/testing" title="TESTING" class="nav5"><span>TESTING</span></a></li> 
                    <li><a href="community/developers" title="DEVELOPERS" class="nav6"><span>DEVELOPMENT</span></a></li>
                    <li><a href="../community/download.html" title="DOWNLOADS" class="nav7 png_fix"><span>DOWNLOAD</span></a></li>
                </ul>
            </td>
          </tr>
        </table>
    </div>
    <!-- END TOP NAV -->

</div>

<!-- START MID COL -->
<div id="middle">

    <!-- SKIPNAV ADDED FOR ACCESSIBILITY -->
    <a name="skipnav"></a>
    <!-- SKIPNAV END -->
        
      <!-- START CONTENT -->
      
        <!-- MAIN CONTENT START -->
        <!-- CHANGE CLASS ACCORDING TO SUB SECTION FOR PROPER TOP BANNER -->


        <div id="subcontent">




<!-- BEGIN user bar -->
<div id="user-bar-wrapper">
    <div id="jive-userbar">
<div id="jive-userbar-login">
    <form action="https://community.zenoss.org/cs_login"
          method="post" name="loginform" autocomplete="off">
        
        

        <span class="jive-userbar-login-welcome" id="jiveLoginWelcome">
            <span class="jive-userbar-login-guest">
            Welcome, Guest
            </span>

            <span class="jive-userbar-login-loginlink">
                <a href="DOC-12972.html#" onClick="jivetoggleLogin(); return false;">Login</a>
            </span>

            <span class="jive-userbar-login-new">
                <a href="../login!input.jspa%3FregisterOnly=true.html">Register</a>
            </span>
        </span>

        <span class="jive-userbar-login-form" id="jiveLoginForm" style="display: none;">

            <span class="jive-userbar-login-username">
                <label for="login-username">
Username:                </label>
                <a href="docs/forgot-username!input.jspa" title="I forgot my username ">(?)</a>
                <input type="text" name="username" size="20" maxlength="150" value="" tabindex="1"
                               id="login-username" />
            </span>

            <span class="jive-userbar-login-password">
                <label for="login-password">
Password:                </label>
                <a href="docs/emailPasswordToken!input.jspa" title="I forgot my password ">(?)</a>
                <input type="password" name="password" size="20" maxlength="150" value="" tabindex="2"
                               id="login-password" />
            </span>

            <span class="jive-userbar-login-auto">
                <input type="checkbox" name="autoLogin" id="login-auto" value="true" tabindex="3" />
                <label for="login-auto">Remember Me</label>
            </span>

            <span class="jive-userbar-login-submit">
                <input type="submit" name="login" value="Login" tabindex="4"
                       class="jive-login-button" />
                <input type="reset" name="doCancel" value="Cancel" tabindex="5"
                               class="jive-cancel-button" onclick="jivetoggleLogin();" />
            </span>
        </span>

    </form>
</div>        <div id="jive-userbar-right">

    <div id="jive-userbar-search">
    <form action="search.jspa" method="get" id="jive-userbar-search-form">
        <input type="hidden" name="peopleEnabled" value="true"/>

        <input type="hidden" name="userID"/>
        <input type="hidden" name="containerType"/>
        <input type="hidden" name="container"/>
        <input type="hidden" name="spotlight" value="false"/>
        <label for="jive-query"
               class="j-508-label">Search for:</label>
        <input type="text" id="jive-query" name="q" value="" accesskey="4" class="searchbar jive-userbar-search-field"
               autocomplete="off"/>
    </form>

    <div id="jive-spotlight-search-container"></div>
</div>

        </div>
    </div>

</div>
<!-- END user bar -->

            <div id="jive-body">

<!-- BEGIN breadcrumb -->
<div id="jive-breadcrumb">

    <span>
                <a href="../index.jspa.html">
            Zenoss Community</a> &gt; 
                <a href="community/zenpacks">
            ZenPacks</a> &gt; 

        <a class='jive-breadcrumb-last' href="community/zenpacks?view=documents">Documents</a></span>
</div>
<!-- END breadcrumb -->

            

    <form id="documentRestoreForm" method="post" action='docs/DOC-12972/restore'>
        <input type="hidden" name="version" value="2" />
        <input type="hidden" name="jive.token.name" value="document.restore.DOC-12972"/>
        <input type="hidden" name="document.restore.DOC-12972" value="1394835165520-3BR9IAJBUA1RV8NN0T4Q4J1H1PDPN0MO"/>
    </form>

    <form id="documentDeleteForm" method="post" action='docs/DOC-12972/delete'>
        <input type="hidden" name="jive.token.name" value="document.delete.DOC-12972"/>
        <input type="hidden" name="document.delete.DOC-12972" value="1394835165527-GNUCW1ILNX48H6QE697KOI575NKF2073"/>
    </form>

    <form id="documentPublishForm" method="post" action='doc-publish.jspa'>
        <input type="hidden" name="jive.token.name" value="document.publish.DOC-12972"/>
        <input type="hidden" name="document.publish.DOC-12972" value="1394835165532-M447TUIRQRVF6WPD4KRTKGBKBE4E06R0"/>
        <input type="hidden" name="document" value="DOC-12972" />
    </form>


    <!-- BEGIN header & intro  -->
    <div id="jive-body-intro">
        <div id="jive-body-intro-content">
            
            <a href="community/zenpacks?view=documents"><span class="jive-icon-sml jive-icon-arrow-generic-up"></span>
                    Up to Documents in ZenPacks
            </a>

        </div>
    </div>
    <!-- END header & intro -->

    <!-- BEGIN main body -->
    <div id="jive-body-main">

        <!-- BEGIN main body column -->
        <div id="jive-body-maincol-container">

            <div id="jive-body-maincol">


                <div id="thread.watch.notify" class="jive-info-box" style="display:none"></div>

                <div id="content-featured-notify" class="jive-info-box" style="display:none"></div>








<!-- BEGIN document -->
<div class="jive-content clearfix">
    <div class="jive-content-header clearfix">
        <div class="jive-wiki-post-moderating jive-content-header-moderating">
            <span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated
        </div>
        <div class="jive-content-title">
            <h2><span class="jive-icon-big jive-icon-document"></span>Developing a Command Parser Based ZenPack</h2>
        </div>
        <div class="jive-content-header-version">
            VERSION 2&nbsp;
                <a href="docs/DOC-12972/diff?secondVersionNumber=2" title="Click to view document history"><img class="jive-icon-sml jive-icon-search" src="../4.5.6/images/transparent.png" alt="Click to view document history" /></a>


        </div>
        <div class="jive-content-header-details">

Created on: Dec 19, 2011 9:12 AM by
<a href="../people/dpetzel.html"
data-externalId=""
data-username="dpetzel"
data-avatarId="1504"
id="jive-998132886549630085757"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 9981, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>dpetzel</a>            <span>-</span>
Last Modified:&nbsp;
Dec 21, 2011 9:57 AM
by <a href="../people/dpetzel.html"
data-externalId=""
data-username="dpetzel"
data-avatarId="1504"
id="jive-998132886549630621925"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 9981, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>dpetzel</a>        </div>

        <div class="jive-content-rating clearfix" data-guid="G6WXW5X9Q6OUPD1BV12H75C773U8L4UM">

<script type='text/javascript'>
    $j(document).ready(function() {

        var i18n = {
            avgUserRatingTitlei18n : "Average User Rating",
            avgUserRatingLabeli18n : "Average User Rating",
            rateRatingLabel : "rating",
            myRatingLabel : "My Rating:",
            rateRatingsLabel : "ratings",
            ratingSavingText : "Saving...",
            rateSavedText : "Saved.",
            rateRatingSaved : "Rating Saved!",
            writeAReview : "Write a review",
            commentOnRating : "Comment on your rating",
            formSubmitPleaseWait:'Please Wait ...'
        };

        new jive.Rate(14, 2163, 102, 12972, 'doc', i18n, true, 'G6WXW5X9Q6OUPD1BV12H75C773U8L4UM');
    });

</script>

        </div>
    </div>

    <div class="jive-content-body">


<!-- [DocumentBodyStart:c162f5fd-3030-4309-adb4-e9d1d305f792] --><div class="jive-rendered-content"><div class="contents topic" id="contents"><p><span style="font-size: 21px;"><strong><div class="toc" style="border: 1px dashed black; padding: 10px;"><ul><li>
<a class="jive-link-anchor-small" href="DOC-12972.html#Inspiration">Inspiration</a>
</li>
<li>
<a class="jive-link-anchor-small" href="DOC-12972.html#Conventions_and_Assumptions">Conventions and Assumptions</a>
</li>
<li>
<a class="jive-link-anchor-small" href="DOC-12972.html#Lets_Get_To_It">Lets Get To It</a>
</li>
<ul><li>
<a class="jive-link-anchor-small" href="DOC-12972.html#Create_Your_Empty_ZenPack_Shell">Create Your Empty ZenPack Shell</a>
</li>
<li>
<a class="jive-link-anchor-small" href="DOC-12972.html#Initialize_a_new_GIT_Repo_in_your_ZenPack_Folder">Initialize a new GIT Repo in your ZenPack Folder</a>
</li>
<li>
<a class="jive-link-anchor-small" href="DOC-12972.html#Identifying_The_Pieces">Identifying The Pieces</a>
</li>
<ul><li>
<a class="jive-link-anchor-small" href="DOC-12972.html#Command_Parser">Command Parser</a>
</li>
<li>
<a class="jive-link-anchor-small" href="DOC-12972.html#Monitoring_Template">Monitoring Template</a>
</li>
</ul><li>
<a class="jive-link-anchor-small" href="DOC-12972.html#Building_The_Pieces">Building The Pieces</a>
</li>
<ul><li>
<a class="jive-link-anchor-small" href="DOC-12972.html#The_Command_Parser">The Command Parser</a>
</li>
<li>
<a class="jive-link-anchor-small" href="DOC-12972.html#The_Monitoring_Template">The Monitoring Template</a>
</li>
</ul><li>
<a class="jive-link-anchor-small" href="DOC-12972.html#Pulling_It_All_Together">Pulling It All Together</a>
</li>
</ul></ul></div><br/></strong></span></p></div><div class="section" id="inspiration"><h1 id="Inspiration">Inspiration</h1><p>I still consider myself a relative newb with Zenoss as well as Python development. A while back I set out to write a custom <a class="jive-link-external-small" href="http://github.com/dpetzel/ZenPacks.community.f5">ZenPack for use with F5 LTMs</a>. I never would have been able to figure this out without the assistance of a great guide written by Jane Curry. Her outstanding document can be found on the Zenoss community site: <a class="jive-link-wiki-small" href="DOC-10268.html">docs/DOC-10268</a></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>I recently had a need for a ZenPack to interact with a couple of Varnish 3.x servers. I scoured the net of course hoping someone had already done the work for me, but no such luck. I did come across a few solutions for 2.x, but from what I&rsquo;ve been able to gather the interface to get these stats has changed some (no more fetching stats over the management port). So I set out to write my own.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>I of course cracked Jane&rsquo;s document open, but I quickly realized that it was very SNMP-centric. This was perfect for the F5 pack as the device supports SNMP. However, in this case SNMP is not an option. I&rsquo;ve done enough research to know that what I wanted to do is a custom Command Parser. The good news is that most of the concepts from Jane&rsquo;s doc still applied, the bad news is that the mechanics were going to be very different.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>I searched around a bit and I was able to find a few other ZenPacks that had taken this approach, but I couldn&rsquo;t find any &ldquo;how-to&#8221; style documentation. As I mentioned before I don&rsquo;t consider myself a seasoned Python developer so for me reverse-engineering someone&rsquo;s else&rsquo;s ZenPack would be a challenge. There is a small snippet of information in the <a class="jive-link-community-small" href="community/documentation/official_documentation/zenoss-dev-guide">Zenoss Developer&rsquo;s Guide</a>, but its far from a walk-through or step-by-step guide like Jane&rsquo;s document.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>So I came to the sad realization that the approach was going to have to be looking at what others had already done. So I figured I should probably document the process and make it available to others in case they find themselves in a similar situation.</p></div><div class="section" id="conventions-and-assumptions"><h1 id="Conventions_and_Assumptions">Conventions and Assumptions</h1><p>Throughout this document I hope to link to existing documentation where it exists so for things that are already covered elsewhere I will try and link to them, rather than recreate similar documentation.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Nearly everything done from the command line on a Zenoss server should be done while logged in as the Zenoss user (as opposed to root). Whenever I say <em>as the zenoss user</em>that means:</p></div><blockquote class="jive-quote"><div class="section" id="conventions-and-assumptions"><p>ssh root@your_zenoss_server</p><p>su - zenoss</p></div></blockquote><div class="section" id="conventions-and-assumptions"><p>When it comes to breaking down code, I&rsquo;m going to try and display the minimal amount of code to make my point. Some of the files might have alot of extra code that has nothing to do with the effort of writing a command parser. An example of this would be all of the code needed to parse the output of <em>varnishstat</em>. The mechanics of parsing the data and how its laid out is not within the scope of this document. Its more important that we identify how we get to the point of being able to parse the output, as well as how to take the parsed output and use it to graph data. Since all the files we talk about are open source and part of the ZenPack, it would be redundant to fully copy the contents of files into this guide.</p></div><div class="section" id="lets-get-to-it"><h1 id="Lets_Get_To_It">Lets Get To It</h1><div class="section" id="create-your-empty-zenpack-shell"><h2 id="Create_Your_Empty_ZenPack_Shell">Create Your Empty ZenPack Shell</h2><p>Creating an empty ZenPack is covered in numerous locations so I won&rsquo;t dive into the details here. If you don&rsquo;t know how to create an empty shell, refer to section 3.2 of the <a class="jive-link-community-small" href="community/documentation/official_documentation/zenoss-dev-guide">Zenoss Developer&rsquo;s Guide</a>. Additionally Jane&rsquo;s <a class="jive-link-wiki-small" href="DOC-10268.html">Creating Zenoss ZenPacks for Zenoss 3</a> covers it in section 2.1. In this case we will be creating <strong>ZenPacks.community.Varnish3</strong>.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Once the empty shell is created, you will certainly want to move it <em>out</em> of the main ZenPack directory and into a seperate folder which we will put under source control. My Zenoss development instance is running on a Virtual Box VM and I store the files in a shared folder. This is personal preference, feel free to put the files anywhere you want, just remember that every time I reference &#8216;/media/zenpack_git_sources/ZenPacks.community.Varnish3/&rsquo; you should replace that with whatever folder you copied your pack out to. Here is what I ran <em>as the zenoss user</em>:</p></div><blockquote class="jive-quote"><div class="section" id="create-your-empty-zenpack-shell"><p>cp -R $ZENHOME/ZenPacks/ZenPacks.community.Varnish3 /media/zenpack_git_sources/ZenPacks.community.Varnish3</p><p>zenpack --link --install=/media/zenpack_git_sources/ZenPacks.community.Varnish3</p><p>zenoss restart</p></div></blockquote><div class="section" id="create-your-empty-zenpack-shell"><p>The full restart is arguably overkill, but I find knowing which situations require restarting which daemons to be inconsistent so while it takes longer, I usually just do a full restart rather than pick and choose which daemons to restart.</p></div><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><h2 id="Initialize_a_new_GIT_Repo_in_your_ZenPack_Folder">Initialize a new GIT Repo in your ZenPack Folder</h2><p>As Zenoss seems to be making the move to GitHub as outlined in <a class="jive-link-wiki-small" href="DOC-8495.html">ZenPack Development Process</a>we are going to cooperate with that effort <img height="16px" src="../4.5.6/images/emoticons/happy.gif" width="16px"/> The <a class="jive-link-wiki-small" href="DOC-8495.html">ZenPack Development Process</a>document does a good job already of providing both abbreviated as well as in-depth explanation of the process. For me I&rsquo;ve got the GIT client on my Zenoss VM, rather than my host PC, but since we are using shared folders it should work equally well from either. Here is what I ran <em>as the zenoss user</em> to initialize the new repo:</p></div><blockquote class="jive-quote"><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><p>cd /media/zenpack_git_sources/ZenPacks.community.Varnish3</p><p>git init</p></div></blockquote><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><p>If this is the first time using git under the zenoss user login you need probably need to setup your user name and email:</p></div><blockquote class="jive-quote"><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><p>git config --global user.name "Firstname Lastname"</p><p>git config --global user.email "<a class="jive-link-email-small" href="mailto:your_email@youremail.com">your_email@youremail.com</a>"</p></div></blockquote><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><p>Next I grabbed the &#8216;master&rsquo; .gitignore file. Still <em>as the zenoss user</em>:</p></div><blockquote class="jive-quote"><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><p>cd /media/zenpack_git_sources/ZenPacks.community.Varnish3</p><p>wget <a class="jive-link-external-small" href="https://raw.github.com/zenoss/Community-ZenPacks-SubModules/master/.gitignore">https://raw.github.com/zenoss/Community-ZenPacks-SubModules/master/.gitignore</a></p></div></blockquote><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><p>Additionally I use Eclipse with the pydev module on my PC as my IDE. As a result there are a couple of extra files we will want to add to the .gitignore file. If you use some other IDE (or none at all) you can skip the following lines. Still <em>as the zenoss user</em>:</p></div><blockquote class="jive-quote"><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><p>cd /media/zenpack_git_sources/ZenPacks.community.Varnish3</p><p>echo .pydevproject &gt;&gt; .gitignore</p><p>echo .project &gt;&gt; .gitignore</p></div></blockquote><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><p>Now add everything and do a commit. You should note that this commit does <strong>not</strong>push anything up to GitHub, it simply commits the files into your local repo. Once again, run the following <em>as the zenoss user</em>:</p></div><blockquote class="jive-quote"><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><p>git add -A</p><p>git status</p><p>git commit -m 'Commiting the initial empty shell'</p></div></blockquote><div class="section" id="initialize-a-new-git-repo-in-your-zenpack-folder"><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>At this point we&rsquo;ve done the following:</p><ul class="simple"><li>Created the empty ZenPack shell</li><li>We&rsquo;ve relocated it outside of Zenoss installation directory</li><li>We&rsquo;ve initialized a new <em>local</em> GIT repository</li><li>Added a few IDE specific files that should be ignored from source control</li><li>Committed everything.</li></ul><p>Now comes the fun part... figuring out how to actually write this crazy thing:)</p></div><div class="section" id="identifying-the-pieces"><h2 id="Identifying_The_Pieces">Identifying The Pieces</h2><p>Before we get to far, its important to understand what items we want to include in this ZenPack. This is where it starts to get dicey if you don&rsquo;t know some of the inner workings of Zenoss. I&rsquo;ll do my best to explain or link to other documentation on each item.</p><h3 id="Command_Parser">Command Parser</h3><p class="section">The whole reason for this document...... We&rsquo;ll be running the <em>varnishstat</em>command over SSH and parsing the output to get all the data to graph. The <a class="jive-link-community-small" href="community/documentation/official_documentation/zenoss-dev-guide">Zenoss Developer&rsquo;s Guide</a> talks about this in section 12.5.2. Its not very newb friendly so thats where I hope to bridge the gap.</p><h3 id="Monitoring_Template">Monitoring Template</h3><p>Monitoring Templates, also called RRD Templates, are the real meat to getting your performance data displayed. We will be creating one monitoring template. This template will be used to trend various performance metrics.</p><div class="section" id="command-parser"><h3></h3><h2 id="Building_The_Pieces">Building The Pieces</h2><div class="section" id="the-command-parser"><h3 id="The_Command_Parser">The Command Parser</h3><p>Lets create the file that will hold our new command parser:</p></div><blockquote class="jive-quote"><div class="section" id="the-command-parser"><p><span class="n">mkdir</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">zenpack_git_sources</span><span class="o">/</span><span class="n">ZenPacks</span><span class="o">.</span><span class="n">community</span><span class="o">.</span><span class="n">Varnish3</span><span class="o">/</span><span class="n">ZenPacks</span><span class="o">/</span><span class="n">community</span><span class="o">/</span><span class="n">Varnish3</span><span class="o">/</span><span class="n">parsers</span></p><p><span class="n">touch</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">zenpack_git_sources</span><span class="o">/</span><span class="n">ZenPacks</span><span class="o">.</span><span class="n">community</span><span class="o">.</span><span class="n">Varnish3</span><span class="o">/</span><span class="n">ZenPacks</span><span class="o">/</span><span class="n">community</span><span class="o">/</span><span class="n">Varnish3</span><span class="o">/</span><span class="n">parsers</span><span class="o">/</span><span class="n">VarnishStat</span><span class="o">.</span><span class="n">py</span></p></div></blockquote><div class="section" id="the-command-parser"><p>The contents of my VarnishStat.py contain a good bit more than what I am showing below, however most of the code in that file is used for the actual parsing of the varnishstat output and has nothing to do with creating a command parser. The number of items actually required in the command parser is actually much smaller than I thought would be required when I started out.</p><p>First we start with the necessary imports. There is really only one required:</p><blockquote class="jive-quote"><p><span class="kn">from</span> <span class="nn">Products.ZenRRD.CommandParser</span> <span class="kn">import</span> <span class="n">CommandParser</span></p></blockquote><p>Setup logging. This is technically not required, but Python makes logging so easy its really a crime to not use it:</p><blockquote class="jive-quote"><p><span class="kn">import</span> <span class="nn">logging</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">'zen'</span><span class="p">,</span> <span class="n">__name__</span><span class="p">]))</span></p></blockquote><p>The &ldquo;logger =&#8221; line warrants a little explanation. The Python logging module works some magic with name spaces so an application (in this case ZenCommand) can decide on a logging namespace. In this case Zenoss uses the zen.* name space. This means any loggers we create that start with &ldquo;zen.&#8221; will automatically inherit the logging settings already defined by ZenCommand helping us to ensure a consistent look and feel. The &ldquo;__name__&#8221; piece simply appends the module name onto the logger name. I like to do this so it is crystal clear what module a log entry came from.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Next we need to create our new command parser class as such:</p><blockquote class="jive-quote"><p>class VarnishStat(CommandParser):</p></blockquote><p>One thing I found the hard way is that it appears <strong>Zenoss makes some assumptions that the class name match the module name</strong> (including case). So as you can see in this example we&rsquo;ve created class <strong>VarnishStat</strong> inside of file <strong>VarnishStat.py</strong>. Notice the matching names and case. Additionally the class should extend the <em>CommandParser</em> class we imported above.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Now we need to define our single <em>required</em> method:</p><blockquote class="jive-quote"><p>def processResults(self, cmd, result):</p></blockquote><p>On the surface it looks simple enough, but there is actually alot of magic going on here. First the method <strong>has</strong> to be called <em>processResults</em>. Additionally it should accept <em>cmd</em> and <em>result</em> as input paramaters. The two input parameters which are passed automatically by ZenCommand when it invokes your processResults method are the keys to success here. I&rsquo;ll do my best to describe the important parts (that I am aware of).</p><ul><li><p class="first"><strong>cmd</strong> is an instance of the Products.ZenRRD.zencommand.Cmd object.</p><ul><li><p class="first"><em>cmd.command</em>: This will contain the command line that was executed. This is useful if you have a command line that might change, or if you need to validate that proper flags were used.</p></li><li><p class="first"><em>cmd.points</em>: This is a list of the datapoints being requested from your monitoring template. This one took me a few minutes to get my head around so I&rsquo;ll go into a bit of detail. I&rsquo;ll show you a visual when we talk about the monitoring template, but for now. Assume our monitoring template is named <em>Varnish3</em> and our datasource is named <em>Varnish3Stats</em> . We will have only one datasource, but we will have multiple datapoints (one for each stat). Lets say we defined two datapoints named <em>cache_hit</em> and <em>cache_miss</em>.</p><p>When our <em>processResults</em> is invoked cmd.points will contain two Datapoint <strong>objects</strong>. If printed they look like: [({}, &#8216;cache_hit&rsquo;), ({}, &#8216;cache_miss&rsquo;)] Its important to understand that these are Datapoint objects, and not simply strings representing the names of the Datapoints.</p></li><li><p class="first"><em>cmd.result</em>: Is an object instance which contains additional information about the results of the executed command.</p><ul class="simple"><li><em>cmd.result.output</em>: This is the text that was returned from the invoked command. <strong>*This is what you want to parse*</strong>.</li><li><em>cmd.result.exitCode</em>: This the return code from the invoked command. There is a good chance you want to levarage this and only attempting parsing on a valid return code.</li></ul></li></ul></li><li><p class="first"><strong>results</strong> is a ParsedResults object which at the time your method is called contains two empty lists: <em>events</em> and <em>values</em>. These will be populated by your <em>processResults</em> method. The results object is discussed a bit in section 12.5.2 of the <a class="jive-link-community-small" href="community/documentation/official_documentation/zenoss-dev-guide">Zenoss Developer&rsquo;s Guide</a></p><ul><li><p class="first"><em>result.events</em>: This is a list which will have the end result of creating events which will show up in the event console. As you may or may not use them, I&rsquo;m not going to go into alot of detail, but you can see an example usage in the <em>_errors_found</em> method of the VarnishStat parser.</p></li><li><p class="first"><em>result.values</em>: This is the list you&rsquo;ll use to return values for each datapoint which will end up in the actual RRD files. This ends up being a list of tuples, where each tuple is a datapoint, value pairing. In this context the datapoint is the actual datapoint object, and not the string representation of the datapoint name. A very contrived example of this would look like:</p><blockquote class="jive-quote"><p><span class="k">for</span> <span class="n">dp</span> <span class="ow">in</span> <span class="n">cmd</span><span class="o">.</span><span class="n">points</span><span class="p">:</span>&#160;&#160; <span class="n">result</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">dp</span><span class="p">,</span> <span class="mi">12345</span><span class="p">))</span></p></blockquote></li></ul></li></ul><p class="first">This example is fairly stupid but it illustrates the concept. If you recall the earlier contents of cmd.points, this would end up assigning the value &ldquo;12345&#8221; to the <em>cache_hit</em> as well as <em>cache_miss</em> datapoints.</p></div></div></div><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>In the real world &ldquo;12345&#8221; would be replaced with the value of the actual datapoint and not a static value. You can see this in action toward the tail end of the <em>processResults</em> method in the <em>VarnishStat</em> parser.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>So the simpliest, working version of the parser could look like this:</p></div><blockquote class="jive-quote"><div class="section" id="lets-get-to-it"><p>from Products.ZenRRD.CommandParser import CommandParser</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>class VarnishStat(CommandParser):</p><p>&#160;&#160;&#160; def processResults(self, cmd, result):</p><p>&#160;&#160;&#160;&#160;&#160; #Do Some Parsing Code</p><p>&#160;&#160;&#160;&#160;&#160; #....</p><p>&#160;&#160;&#160;&#160;&#160; for dp in cmd.points:</p><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; result.values.append((dp, 12345)</p></div></blockquote><div class="section" id="lets-get-to-it"><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Obviously you&rsquo;ll want to fill in the parsing code section with real code and add error checking, but that minimal amount of code could actually do the trick</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p></div><div class="section" id="the-monitoring-template"><h3 id="The_Monitoring_Template">The Monitoring Template</h3><p>At this point we&rsquo;ve got the bare essentials around the command parser. The second half to making this all work is creating the monitoring template.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p class="first" style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p class="first">Start by logging into your Zenoss server UI and navigate to <em>Monitoring Templates</em> section of the GUI: &#8216;<a class="jive-link-external-small" href="http://YourServer:8080/zport/dmd/template">http://YourServer:8080/zport/dmd/template</a>&#8216;</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p class="first" style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p class="first">Next hit the &#8216;+&rsquo; icon in the lower left corner of your screen. This will open the <em>Add Template</em> dialogue box. Give your template a name, I called mine <em>Varnish3</em>. Next decide which device class to target. I&rsquo;d suggest targeting the highest level device class that the software you are parsing could run on. As an example I&rsquo;m targeting Varnish3 at <em>/Server/Linux</em>.</p><a href="../servlet/JiveServlet/showImage/10938/AddTemplate.PNG"><img alt="AddTemplate.PNG" class="jive-image" src="../servlet/JiveServlet/downloadImage/10938/AddTemplate.PNG"/></a><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p class="first">Now you have an empty template. Click the &#8216;+&rsquo; icon right under where it says &#8216;Data Sources&rsquo;. This is <strong>not</strong> the same &#8216;+&rsquo; you just clicked. This will open the &#8216;Add Data Source&rsquo; dialogue window.</p><a href="../servlet/JiveServlet/showImage/10939/AddDataSourceButton.PNG"><img alt="AddDataSourceButton.PNG" class="jive-image" src="../servlet/JiveServlet/downloadImage/10939/AddDataSourceButton.PNG"/></a> <br/><a href="../servlet/JiveServlet/showImage/10940/AddDataSource.PNG"><img alt="AddDataSource.PNG" class="jive-image" src="../servlet/JiveServlet/downloadImage/10940/AddDataSource.PNG"/></a></div><div class="section">You will now see your new datasource listed in the &#8216;Data Sources&rsquo; column. Double click the newly created data source to enter &#8216;Edit Data Source&rsquo; dialogue window. There are two critical things to complete in this window:<br/><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p></div><li><ul><li>First, you need to be certain you select the new parser you just created. In my case this is<em>ZenPacks.community.Varnish3.parsers.Varnish3Stat</em></li><li>Second, you want to populate the &#8216;Command Template&rsquo; field with the actual command you want to run. Its worth mentioning again, <strong>this is the actual command that will get executed</strong>. In this case its <em>/usr/bin/varnishstat -x</em></li><li>One more option to consider is the &#8216;Use SSH&rsquo; checkbox. Depending on where you intend the command to be run, you may or may not want to enable this. In my case I want the <em>varnishstat</em> command to be executed on the remote host, so I need to enable that option</li></ul><p class="first"><a href="../servlet/JiveServlet/showImage/10941/EditDataSource.PNG"><img alt="EditDataSource.PNG" class="jive-image-thumbnail jive-image" src="../servlet/JiveServlet/downloadImage/10941/EditDataSource.PNG" style="border-style: initial; border-color: initial; font-family: 'Lucida Grande', Arial, Helvetica, sans-serif; background-color: #ffffff;" width="620"/></a></p><p class="first" style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p class="first">Once that is saved you will want to hit the small gear icon just about your newly created datasource and select &#8216;Add Data Point&rsquo;. <strong>The name you enter should exactly match the name of the stat you want to collect</strong>. Repeat this step for <em>each</em> stat you want to collect. Going back to our earlier example we would add one datapoint named <em>cache_hit</em> and a second datapoint named <em>cache_miss</em>. If you recall, these datapoints you are creating here are what is passed as <em>cmd.points</em> to your <em>processResults</em> method.</p><p class="first" style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p class="first">There is quite a bit to understand about datapoints which are outside the scope of this document. At a high level you should understand what the different types of datapoints do, and when one type is appropriate over another. Be sure to review section 6.2 of the <a class="jive-link-community-small" href="community/documentation/official_documentation/zenoss-guide">Zenoss Administration</a> guide as it goes into good details about datapoint types.</p><p class="first" style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p class="first">You will also want to setup Graph Definitions at this time. This is another topic that is covered in section 6.2.8 of the <a class="jive-link-community-small" href="community/documentation/official_documentation/zenoss-guide">Zenoss Administration</a> guide so I won&rsquo;t re-hash it. Here is sample of what my completed template looks like:</p><p class="first"><a href="../servlet/JiveServlet/showImage/10944/CompletedExample.PNG"><img alt="CompletedExample.PNG" class="jive-image-thumbnail jive-image" onclick="" src="../servlet/JiveServlet/downloadImage/10944/CompletedExample.PNG" width="620"/></a></p><p class="first" style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p class="first">Once you have everything to your liking, we need to add this template to the ZenPack so it gets exported along with the command parser code we wrote. Using the gear menu in the lower left of your screen, select &#8216;Add to ZenPack&rsquo;. You will be prompted with a list of ZenPacks that are currently in development mode (allowing updates). Select the ZenPack you created earlier in this document. In my case that is <em>ZenPacks.community.Varnish3</em>.</p><p class="first" style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p class="first"><a href="../servlet/JiveServlet/showImage/10945/AddToZenPack.PNG"><img alt="AddToZenPack.PNG" class="jive-image" src="../servlet/JiveServlet/downloadImage/10945/AddToZenPack.PNG"/></a></p></li><div class="section" id="pulling-it-all-together"><h2 id="Pulling_It_All_Together">Pulling It All Together</h2><p>So at this point you have a working command parser. This command parser is referenced by your new super-cool monitoring template and life is good. At this point you could bind your monitoring template to a device or device class and assuming you&rsquo;ve got things configured correctly, begin collecting the metrics you&rsquo;ve defined in your monitoring template.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>However, your command parser and template are probably too cool to keep to yourself so you should really share it with the rest of the Zenoss community. At this point you need to export your ZenPack. This will result in all your custom code and template(s) being pulled together into a single redistributable file commonly referred to as an &ldquo;EGG&#8221; file. The EGG file is what users (who are not interested in the source code) will download and install into their own Zenoss installations.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Follow the section &#8216;Install and Test ZenPack in Zenoss&rsquo; in <a class="jive-link-wiki-small" href="DOC-8495.html">ZenPack Development Process</a> to export your EGG and get your new ZenPack uploaded to GitHub.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Thats IT!!!. I know there is a lot of information we only briefly touched on but the reality is Zenoss is a complex beast. No single document can give you all the information you need, but my hope is that this document is enough information for those that are familiar with Zenoss to get started writing a custom command parser.</p></div></div><!-- [DocumentBodyEnd:c162f5fd-3030-4309-adb4-e9d1d305f792] -->

<!-- BEGIN attachments -->
<!-- END attachments -->
    </div>
    <div class="jive-content-footer clearfix">


    <!-- BEGIN content details -->
        <span class="jive-content-footer-item jive-content-footer-acclaim">

<div id="acclaim-container-102-12972-" class="acclaim-container">
    <div id="jive-acclaim-like-container-102-12972-" data-uniqueKey="102-12972-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="DOC-12972.html#" id="jive-acclaim-likedlink-102-12972-"  class=" jive-acclaim-likedlink">0</a>)
    </div>
</div>        </span>

     
        <span class="jive-content-footer-item">
            5136&nbsp;Views
        </span>

        



    <!-- BEGIN view/add/edit tags -->
    <span class="jive-content-footer-item jive-content-footer-tags">
    </span>
    <!-- END view/add/edit tags -->
<!-- END content -->

    </div>
</div>
<!-- END document -->





    
    <script>
    </script>






    <link rel="stylesheet" type="text/css" href="../4.5.6/styles/tiny_mce3/plugins/inlinepopups/skins/clearlooks2/window.css" />




    




        <a name="comments"></a>

        <!-- BEGIN tabs -->
        <div class="jive-body-tabbar">

                <span id="jive-comments-tab" class="jive-body-tab jive-body-tabcurrent">
                    <strong class="font-color-normal">
                        Comments (<span id="jive-comments-count">5</span>)
                    </strong>
                </span>

        </div>
        <!-- END tabs -->

            <div class="jive-box clearfix" id="jive-comments" ></div>

        <div style="display:none;" id="jive-comment-post-block">
            <form method="post" action="javascript:void(0);" name="jive-comment-post-form">

                <p class="jive-error-text" id="jive-comment-error" style="display:none"></p>

                    <div class="jive-comment-post-anonymous">
                        <div>
                            <input id="comment-author" name="commentGuestName" />
                            <label for="comment-author">Name</label>
                        </div>
                        <div>
                            <input id="comment-email" name="commentGuestEmail"  />
                            <label for="comment-email">Email Address</label>
                        </div>
                        <div>
                            <input id="comment-url" name="commentGuestUrl" />
                            <label for="comment-url">Website Address</label>
                        </div>
                    </div>

                <div>
                    <textarea name="commentBody" id="wysiwygtext" rows="10" class="jive-comment-textarea"></textarea>
                </div>

                <div style="display:none;" id="jive-blog-comment-preview" class="jive-blog-comment-preview"></div>


                <div class="jive-form-buttons">
                    <input type="submit" name="post" value="Add Comment" />
                    <input type="button" name="cancel" value="Cancel" />
                </div>

            </form>
        </div>

        <div style="display:none;"  id="jive-comment-edit-block">
            <form method="post" action="javascript:void(0);" name="jive-comment-edit-form">
                <p class="jive-error-text" id="jive-comment-error" style="display:none"></p>
                <div class="jive-comment-post-anonymous">
                    <div>
                        <input name="name" value="" />
                        <label for="name">Name
                            <span>(required)</span></label>
                    </div>
                    <div>
                        <input name="email" value="" />
                        <label for="email">Email Address
                            <span>(required, will not be published)</span></label>
                    </div>
                    <div>
                        <input name="url" value=""/>
                        <label for="url">Website Address</label>
                    </div>
                </div>
                <div>
                    <textarea name="commentBody" id="wysiwygtext" rows="10" class="jive-comment-textarea"><%= commentBody %></textarea>
                </div>

                <div style="display:none;" id="jive-blog-comment-preview" class="jive-blog-comment-preview"></div>

                <div class="jive-form-buttons">
                    <input type="button" name="post" value="Save" />
                    <input type="button" name="cancel" value="Cancel" />
                </div>

            </form>
        </div>




            </div>
        </div>
        <!-- END main body column -->


        <!-- BEGIN sidebar column -->
        <div id="jive-body-sidebarcol-container">

            <div id="jive-body-sidebarcol">


<div id="jive-action-sidebar" class="jive-sidebar jive-box jive-sidebar-actions jive-box-actions">


    <div class="jive-box-header">
        <h4 id="jive-action-sidebar-tab-header_document-actions-tab">Actions</h4>
    </div>
    <div id="jive-action-sidebar-body" class="jive-sidebar-body jive-sidebar-body-actions jive-box-body">

        <div id="jive-action-sidebar-tab-_document-actions-tab"
             class="jive-action-sidebar-tab-first"
 >



            <ul id="jive-action-sidebar-tab-list_document-actions-tab" class=" jive-icon-list">
















                <li id="jive-link-thread-print" style=""
                        ><a href="DOC-12972%3Fdecorator=print.html"
rel="nofollow"
onclick=""
title="">
<span class="jive-icon-med jive-icon-print-preview"></span>
View print preview
</a></li>



            </ul>
        </div> <!-- /#jive-action-sidebar-tab-_id -->
    </div>

</div>




    <!-- BEGIN sidebar box 'More Like This' -->

    <div class="jive-box jive-sidebar">
        <div class="jive-box-header jive-sidebar-header">
            <h4>More Like This</h4>
        </div>
        <div class="jive-box-body jive-sidebar-body jive-sidebar-body-morelikethis">
            <ul class="jive-icon-list" id="jive-more-like-this-102-12972">
                <li><span>Retrieving data ...</span></li>
            </ul>
        </div>
    </div>

    <!-- END sidebar box 'More Like This' -->

    
    

        
        
        
        
        

<!-- BEGIN sidebar box 'User Content' -->
<div class="jive-box jive-sidebar">
    <div class="jive-box-header jive-sidebar-header">
        <h4>More by dpetzel</h4>
    </div>
    <div class="jive-box-body jive-sidebar-body jive-sidebar-body-usercontent">
        <ul class="jive-icon-list">
                    <li>
                        <a href="DOC-11352.html"
                        ><span class="jive-icon-med jive-icon-document"></span>F5 BIG-IP</a>
                    </li>
                    <li>
                        <a href="DOC-12963.html"
                        ><span class="jive-icon-med jive-icon-document"></span>ZenPacks.community.Varnish3</a>
                    </li>
        </ul>
        <div class="jive-sidebar-viewall">
            <a href="../people/dpetzel.html" class="font-color-meta j-link-viewall"><strong>View dpetzel's profile</strong></a>
        </div>
    </div>
</div>
<!-- END sidebar box 'User Content' -->


            </div>

        </div>
        <!-- END sidebar column -->


    </div>



        </div>

<div class="clear"></div>
        </div>
        <!-- MAIN CONTENT END -->
     <!-- END CONTENT -->

</div>
<!-- END MIDDLE CONTENT -->

<!-- START FOOTER -->
<div id="footer">
 <table cellpadding="0" cellspacing="0" border="0">
   <tr valign="top">
      <td rowspan="2" style="padding-left:10px;padding-right:10px;">
        <ul id="socialmedia">
        <li><a href="http://feeds.feedburner.com/ZenossBlog" class="rss" target="_blank"><span>rss</span></a></li>
           <li><a href="http://twitter.com/zenoss" class="twitter" target="_blank"><span>twitter</span></a></li>
           <li><a href="http://slashdot.org/bookmark.pl" class="slashdot" target="_blank"><span>slashdot</span></a></li>
           <li><a href="http://www.reddit.com/" class="reddit" target="_blank"><span>reddit</span></a></li>
           <li><a href="http://delicious.com/save" class="del" target="_blank"><span>delicious</span></a></li>
           <li><a href="http://technorati.com/" class="tech" target="_blank"><span>technorati</span></a></li>
       </ul> 
     </td>
     <td rowspan="2" style="padding-left:10px;padding-right:10px;">
        <a href="http://twitter.com/zenoss" title="Follow us on Twitter">Follow Us On Twitter &raquo;</a>
       <ul id="twitter_update_list"> </ul>
     </td>
     <td rowspan="2" style="padding-right:10px;">
        <a href="../blogs/zenossblog.html" title="Latest from the Zenoss blog">Latest from the Zenoss Blog &raquo;</a>
       <script language="JavaScript" src="http://feed2js.org//feed2js.php?src=http%3A%2F%2Ffeeds.feedburner.com%2FZenossBlog%3Fformat%3Dxml&amp;num=3&amp;desc=85&amp;targ=y" type="text/javascript"></script>
       <noscript><a href="http://feed2js.org//feed2js.php?src=http%3A%2F%2Ffeeds.feedburner.com%2FZenossBlog%3Fformat%3Dxml&amp;num=3&amp;desc=85&amp;targ=y&amp;html=y">View RSS feed</a></noscript>
     </td>
     <td rowspan="2" valign="middle" style="padding-right:20px;">
        <img src="../themes/userbar-disabled/images/tableborder.png" alt="" />
     </td>
     <td>
        Community
       <ul class="sitemap">
        <li><a href="../index.jspa.html" title="Home">Home</a></li>
           <li><a href="community/documentation" title="Documentation">Documentation</a></li>
           <li><a href="community/developers" title="Code">Code</a></li> 
           <li><a href="community/zenpacks" title="ZenPacks">ZenPacks</a></li> 
           <li><a href="community/forums" title="Discussion">Discussion</a></li> 
           <li><a href="community/partners" title="Get Involved">Get Involved</a></li> 
           <li><a href="../people.1.html" title="Membership">Membership</a></li>
       </ul>
     </td>
     <td>
        Products
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/solution/overview" title="Overview">Overview</a></li>
                        <li><a href="http://www.zenoss.com/solution/virtualization-monitoring" title="Virtualization Monitoring">Virtualization Monitoring</a></li>
                        <li><a href="http://www.zenoss.com/solution/cloud-monitoring" title="Cloud Monitoring">Cloud Monitoring</a></li>
                        <li><a href="http://www.zenoss.com/solution/cisco-ucs-management" title="Cisco UCS Management">Cisco UCS Management</a></li>
                        <li><a href="http://www.zenoss.com/solution/server-monitoring" title="Server Monitoring">Server Monitoring</a></li>
                        <li><a href="http://www.zenoss.com/solution/network" title="Network Monitoring">Network Monitoring</a></li>
       </ul>
     </td>
     <td>
        Services
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/support/index" title="Support Overview">Overview</a></li>
                        <li><a href="http://www.zenoss.com/support/consulting" title="Consulting">Consulting</a></li>
                        <li><a href="http://www.zenoss.com/support/customer-support" title="Support">Customer Support</a></li>
                        <li><a href="http://www.zenoss.com/support/training" title="Training">Training</a></li>        
       </ul>
       Resources
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/resources/demo" title="Resources">Resource Center</a></li>
       </ul>
     </td>
     <td>
       Customers
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/customers/index" title="Customers Overview">Overview</a></li>
                        <li><a href="http://www.zenoss.com/customers/case-studies/case-studies" title="Case Studies">Case Studies</a></li>
                        <li><a href="http://www.zenoss.com/customers/by-industry" title="Case Studies">Customers by Industry</a></li>
                        <li><a href="http://www.zenoss.com/customers/industries/index" title="Industries"><span>Industries</span></a></li>
       </ul>


       Partners
       <ul class="sitemap">
            <li><a href="http://www.zenoss.com/partners/open-source-network-management-solutions" title="Current Partners">Current Partners</a></li>
            <li><a href="http://www.zenoss.com/partners/contact" title="Become a Partner">Become a Partner</a></li>
       </ul>
     </td>
     <td style="padding-right:0px;">
        About Us
       <ul class="sitemap">
        <li><a href="http://www.zenoss.com/about/index" title="Overview">Overview</a></li> 
           <li><a href="http://www.zenoss.com/about/awards" title="Awards">Awards</a></li> 
           <li><a href="http://www.zenoss.com/about/team" title="Team">Team</a></li> 
           <li><a href="http://www.zenoss.com/about/news" title="News">News</a></li> 
           <li><a href="http://www.zenoss.com/about/news/events" title="Events">Events</a></li> 
           <li><a href="http://www.zenoss.com/about/jobs" title="Careers">Careers</a></li> 
           <li><a href="http://www.zenoss.com/about/contact" title="Contact">Contact</a></li>
       </ul>
     </td>
   </tr>
   <tr valign="middle">
     <td align="right">
        <a href="http://sourceforge.net/projects/zenoss" target="_blank" title="SourceForge"><img width="120" height="30" alt="Get Zenoss Core - Enterprise IT Monitoring at SourceForge.net. Fast, secure and Free Open Source software downloads" src="http://sflogo.sourceforge.net/sflogo.php?group_id=163126&amp;type=11"></a>
     </td>
     <td align="right">
        <a href="../index.html" title="Monitored by Zenoss"><img src="../themes/userbar-disabled/images/logo-monitoredby_ZEN.png" alt="Monitored By Zenoss" /></a>
     </td>
      <td colspan="3" align="right" >
        <a href="../index.html" title="Zenoss Home"><img src="../themes/userbar-disabled/images/new-logo-zenoss-footer_ZEN.gif" /></a>
       <div id="copyright" class="right">Copyright &copy; 2005-2011 Zenoss, Inc.</div>
     </td>
   </tr>
   <tr valign="top">
     <td colspan="9" align="right">&nbsp;</td>
   </tr>
 </table>
</div>
<!-- END FOOTER -->

 <!-- BEGIN SCRIPTS --> 

   <!-- END -->

    <!-- TOP NAV DROP DOWN NAVIGATION - IE6 -->
   <!-- END DROP DOWN -->       

   <!-- TWITTER SCRIPTS -->

<!-- END GOOGLE ANALYTICS CODE -->

<!-- Pardot tracking code, async version -->
<!-- END Pardot tracking code, async version -->




<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-73372470-1','auto');ga('send','pageview');</script></body>
</html>

