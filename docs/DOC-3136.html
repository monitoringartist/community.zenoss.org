<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>
        2.3 Programming Techniques - Open Source Network Monitoring and Systems Management
        
        
    </title>

    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" /> 


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="en-US" />
<meta name="keywords" content=""/>
<!-- 2.3 Programming Techniques -->
<meta property="og:image" content="servlet/JiveServlet/downloadImage/73-2574-13230/share-zenoss-logo.jpg" />

<link rel="search"
    href="../opensearch.xml"
    title="Zenoss Community"
    type="application/opensearchdescription+xml"/>


<link rel="shortcut icon" href="../themes/userbar-disabled/images/favicon.ico" />

    





    
      
      
     




    



    
    





    <link rel="stylesheet" href="../styles/jive-global.css" type="text/css" media="all" />
    <!-- <link rel="stylesheet" href="/styles/jive-icons-legacy.css" type="text/css" media="all" /> -->
    <link rel="stylesheet" href="../styles/jive-icons.css" type="text/css" media="all" />

    <link rel="stylesheet" href="../themes/userbar-disabled/styles/theme.css" type="text/css" media="all" />
    <link rel="stylesheet" href="../themes/userbar-disabled/styles/community.css" type="text/css" media="all" />
    <link rel="stylesheet" href="../themes/userbar-disabled/styles/sifr.css" type="text/css" media="all" />


    <!--[if IE 6]>
    <style type="text/css">
    /* hack for IE6's lack of alpha PNG support */
    * html #jive-wrapper .ie6png,
    * html #jive-wrapper #jive-global-header *.ie6png,
    * html #jive-wrapper #user-bar-wrapper *.ie6png,
    * html #jive-wrapper #jive-body *.ie6png,
    * html #jive-wrapper #jive-footer *.ie6png {
        background-image: expression(
        this.runtimeStyle.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src=" +
        (this.tagName=='IMG' ? this.src : this.currentStyle.backgroundImage.split('\"')[1]) + ")",
        this.runtimeStyle.backgroundImage = "none",
        this.src = "/images/transparent.png"
        );
        }
    </style>

    <link rel="stylesheet" href="/styles/jive-icons-ie.css" type="text/css" media="all" />
    <![endif]-->





    
    

	<link rel="stylesheet" href="../4.5.6/styles/jive-content.css" type="text/css" media="all" />

        <link rel="alternate" type="application/rss+xml"
            title="2.3 Programming Techniques Version History Feed"
            href="../community/feeds/document-history/DOC-3136" />

        <link rel="alternate" type="application/rss+xml"
            title="2.3 Programming Techniques Comments Feed"
            href="../community/feeds/document-comments/DOC-3136" />

    
        




    <!-- BEGIN action bar, only for non-binary documents -->

    

    <!-- END action bar -->




    <style type="text/css">/* Rating bar on documents */
.jive-content .jive-content-header .jive-content-rating {margin-bottom: 3px;}
.j-rating { padding: 0 10px; }
.jive-content-avgrating {height: 53px;}
/* END Rating bar on documents */

/* Userbar */
#jive-userbar-right {right: 50px;}
/* END Userbar */

/* Download links page */
table.download-links-table {background-color: #ffffff; width: 100%;}
table.download-links-table tbody td { text-align: center; vertical-align: middle;}
table.download-links-table thead th {text-align: center;}
table.download-links-table td, table.download-links-table th {border: 1px solid #EEEEEE !important;}

/* Provides indentation for official doc ToC items */
div.toc dl dt {margin-left: 20px;}
div.toc dl dd dl dt {margin-left: 40px;}
div.toc dl dd dl dd dl dt {margin-left: 60px;}
div.toc dl dd dl dd dl dd dl dt {margin-left: 80px;}
div.toc dl dd dl dd dl dd dl dd dl dt {margin-left: 100px;}
/* END docs items */


/* Blog posts */
div.social-button-spacer {height: 10px;}

div#social-button-cont {
margin-right:10px; 
padding:5px; 
text-align: center; 
float: right;
}

div#comment-indicator {
    float: left;
    left: 12px;
    right: inherit;
    top: 55px;
}

div#comment-indicator div.jive-reply {margin-left: 0px;}

.jive-blog-post-subject {padding-bottom: 0px;}
/* END Blog posts */


/* Community download survey */
form#core-usage-survey label.aligned {float: left; width: 120px;}
form#core-usage-survey span.required_field {color: red;}
form#core-usage-survey label.survey-small-label {display:inline;}
form#core-usage-survey div.survey-checkbox-set {width:82%;}
form#core-usage-survey div.border {border:1px solid #ACACAC; padding:5px;}

form#core-usage-survey label.survey-resource_type {font-style:italic;}
form#core-usage-survey label {
color:#333333;
display:block;
font-size:12px;
font-weight:bold;
}
/* END Community download survey */

</style>
    <style type="text/css">/* custom-css-container */</style>


</head>
<body class="jive-body-content jive-body-content-document" >


<a href="DOC-3136.html#jive-body" class="jive-skip-nav">Skip navigation</a>

    <div id="jive-compliance" class=""style="display:none">
        <span class="jive-icon-med "></span>
        
    </div>

    <div id="jive-wrapper" class="clearfix">

    <!-- Load search for guests -->

    <div id="jive-userbar-search">
    <form action="search.jspa" method="get" id="jive-userbar-search-form">
        <input type="hidden" name="peopleEnabled" value="true"/>

        <input type="hidden" name="userID"/>
        <input type="hidden" name="containerType"/>
        <input type="hidden" name="container"/>
        <input type="hidden" name="spotlight" value="false"/>
        <label for="jive-query"
               class="j-508-label">Search for:</label>
        <input type="text" id="jive-query" name="q" value="" accesskey="4" class="searchbar jive-userbar-search-field"
               autocomplete="off"/>
    </form>

    <div id="jive-spotlight-search-container"></div>
</div>

    <!-- END anon search -->

<!-- SKIP NAV FOR ACCESSIBILITY -->
<a href="DOC-3136.html#skipnav"></a>
<!-- END -->

<div id="header">

    <!-- START TOP NAVIGATION -->
    <div id="navcontainer">
        <table cellpadding="0" cellspacing="0" width="100%" border="0">
          <tr valign="bottom">
            <td rowspan="2">
                <a href="../index.html" title="Zenoss Open Source IT Management"><img src="../themes/userbar-disabled/images/zenoss-logo-reversed-web.png" style="width:254px; margin: 0 0px 25px;" alt="Zenoss Open Enterprise Management" /></a>
            </td>
            <td height="45" colspan="2">
                <div id="zenoss-panel">
                    <div style="width: 200px;" id="cpanel-lt"></div>
                    <ul id="subnav-rt" class="png_fix">
                        <li><a href="http://www.zenoss.com/" title="Zenoss.Inc Home" class="none">Zenoss, Inc.</a></li>
                        <!--<li><a href="/community/feedback" title="Feedback" class="none">Feedback</a></li>-->
                        <!--<li><a href="http://www.zenoss.com/support" title="Support" class="none">Support</a></li>-->
                    </ul>
                </div>
            </td>
          </tr>
          <tr valign="middle">
            <td colspan="2" height="80">
                <ul id="navlist">
                    <li><a href="community/documentation" title="DOCS" class="nav1"><span>DOCS</span></a></li>
                    <li><a href="community/forums" title="FORUMS" class="nav2"><span>FORUMS</span></a></li>        
                    <!--<li><a href="/community/zenpacks" title="ZENPACKS" class="nav3"><span>ZENPACKS</span></a></li>-->
                    <li><a href="http://wiki.zenoss.org/Category:ZenPacks" title="ZENPACKS" class="nav3"><span>ZENPACKS</span></a></li>        
                    <li><a href="community/partners" title="PARTNERS" class="nav4"><span>PARTNERS</span></a></li>      
                    <li><a href="community/about" title="ABOUT" class="nav4"><span>ABOUT</span></a></li>   
                    <li><a href="../blogs/zenossblog.html" title="BLOG" class="nav5"><span>BLOG</span></a></li>
                    <li><a href="community/testing" title="TESTING" class="nav5"><span>TESTING</span></a></li> 
                    <li><a href="community/developers" title="DEVELOPERS" class="nav6"><span>DEVELOPMENT</span></a></li>
                    <li><a href="../community/download.html" title="DOWNLOADS" class="nav7 png_fix"><span>DOWNLOAD</span></a></li>
                </ul>
            </td>
          </tr>
        </table>
    </div>
    <!-- END TOP NAV -->

</div>

<!-- START MID COL -->
<div id="middle">

    <!-- SKIPNAV ADDED FOR ACCESSIBILITY -->
    <a name="skipnav"></a>
    <!-- SKIPNAV END -->
        
      <!-- START CONTENT -->
      
        <!-- MAIN CONTENT START -->
        <!-- CHANGE CLASS ACCORDING TO SUB SECTION FOR PROPER TOP BANNER -->


        <div id="subcontent">




<!-- BEGIN user bar -->
<div id="user-bar-wrapper">
    <div id="jive-userbar">
<div id="jive-userbar-login">
    <form action="https://community.zenoss.org/cs_login"
          method="post" name="loginform" autocomplete="off">
        
        

        <span class="jive-userbar-login-welcome" id="jiveLoginWelcome">
            <span class="jive-userbar-login-guest">
            Welcome, Guest
            </span>

            <span class="jive-userbar-login-loginlink">
                <a href="DOC-3136.html#" onClick="jivetoggleLogin(); return false;">Login</a>
            </span>

            <span class="jive-userbar-login-new">
                <a href="../login!input.jspa%3FregisterOnly=true.html">Register</a>
            </span>
        </span>

        <span class="jive-userbar-login-form" id="jiveLoginForm" style="display: none;">

            <span class="jive-userbar-login-username">
                <label for="login-username">
Username:                </label>
                <a href="docs/forgot-username!input.jspa" title="I forgot my username ">(?)</a>
                <input type="text" name="username" size="20" maxlength="150" value="" tabindex="1"
                               id="login-username" />
            </span>

            <span class="jive-userbar-login-password">
                <label for="login-password">
Password:                </label>
                <a href="docs/emailPasswordToken!input.jspa" title="I forgot my password ">(?)</a>
                <input type="password" name="password" size="20" maxlength="150" value="" tabindex="2"
                               id="login-password" />
            </span>

            <span class="jive-userbar-login-auto">
                <input type="checkbox" name="autoLogin" id="login-auto" value="true" tabindex="3" />
                <label for="login-auto">Remember Me</label>
            </span>

            <span class="jive-userbar-login-submit">
                <input type="submit" name="login" value="Login" tabindex="4"
                       class="jive-login-button" />
                <input type="reset" name="doCancel" value="Cancel" tabindex="5"
                               class="jive-cancel-button" onclick="jivetoggleLogin();" />
            </span>
        </span>

    </form>
</div>        <div id="jive-userbar-right">

    <div id="jive-userbar-search">
    <form action="search.jspa" method="get" id="jive-userbar-search-form">
        <input type="hidden" name="peopleEnabled" value="true"/>

        <input type="hidden" name="userID"/>
        <input type="hidden" name="containerType"/>
        <input type="hidden" name="container"/>
        <input type="hidden" name="spotlight" value="false"/>
        <label for="jive-query"
               class="j-508-label">Search for:</label>
        <input type="text" id="jive-query" name="q" value="" accesskey="4" class="searchbar jive-userbar-search-field"
               autocomplete="off"/>
    </form>

    <div id="jive-spotlight-search-container"></div>
</div>

        </div>
    </div>

</div>
<!-- END user bar -->

            <div id="jive-body">

<!-- BEGIN breadcrumb -->
<div id="jive-breadcrumb">

    <span>
                <a href="../index.jspa.html">
            Zenoss Community</a> &gt; 
                <a href="community/documentation">
            Documentation</a> &gt; 
                <a href="community/documentation/official_documentation">
            Zenoss Core Product Documentation</a> &gt; 
                <a href="community/documentation/official_documentation/zenoss-dev-guide">
            Zenoss Developer's Guide</a> &gt; 
                <a href="../community/documentation/official_documentation/zenoss-dev-guide/2.4.2">
            2.4.2</a> &gt; 

        <a class='jive-breadcrumb-last' href="../community/documentation/official_documentation/zenoss-dev-guide/2.4.2%3Fview=documents">Documents</a></span>
</div>
<!-- END breadcrumb -->

            

    <form id="documentRestoreForm" method="post" action='docs/DOC-3136/restore'>
        <input type="hidden" name="version" value="1" />
        <input type="hidden" name="jive.token.name" value="document.restore.DOC-3136"/>
        <input type="hidden" name="document.restore.DOC-3136" value="1394830662334-55JKW32FHX9ZT1LEH8DHDRCH0FC3VYZM"/>
    </form>

    <form id="documentDeleteForm" method="post" action='docs/DOC-3136/delete'>
        <input type="hidden" name="jive.token.name" value="document.delete.DOC-3136"/>
        <input type="hidden" name="document.delete.DOC-3136" value="1394830662340-46TU8ZWQ82OACVWHG6EM3254WFG1STNV"/>
    </form>

    <form id="documentPublishForm" method="post" action='doc-publish.jspa'>
        <input type="hidden" name="jive.token.name" value="document.publish.DOC-3136"/>
        <input type="hidden" name="document.publish.DOC-3136" value="1394830662348-HFQ39EKXTINEIEQ5CZCPHUTVHO8RG384"/>
        <input type="hidden" name="document" value="DOC-3136" />
    </form>


    <!-- BEGIN header & intro  -->
    <div id="jive-body-intro">
        <div id="jive-body-intro-content">
            
            <a href="../community/documentation/official_documentation/zenoss-dev-guide/2.4.2%3Fview=documents"><span class="jive-icon-sml jive-icon-arrow-generic-up"></span>
                    Up to Documents in 2.4.2
            </a>

        </div>
    </div>
    <!-- END header & intro -->

    <!-- BEGIN main body -->
    <div id="jive-body-main">

        <!-- BEGIN main body column -->
        <div id="jive-body-maincol-container">

            <div id="jive-body-maincol">


                <div id="thread.watch.notify" class="jive-info-box" style="display:none"></div>

                <div id="content-featured-notify" class="jive-info-box" style="display:none"></div>








<!-- BEGIN document -->
<div class="jive-content clearfix">
    <div class="jive-content-header clearfix">
        <div class="jive-wiki-post-moderating jive-content-header-moderating">
            <span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated
        </div>
        <div class="jive-content-title">
            <h2><span class="jive-icon-big jive-icon-document"></span>2.3 Programming Techniques</h2>
        </div>
        <div class="jive-content-header-version">
            VERSION 1&nbsp;


        </div>
        <div class="jive-content-header-details">

Created on: Sep 14, 2009 11:46 AM by
<a href="../people/zenoss_api.html"
data-externalId=""
data-username="zenoss_api"
data-avatarId="-1"
id="jive-692632882065426221481"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 6926, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>Zenoss API</a>            <span>-</span>
Last Modified:&nbsp;
Sep 14, 2009 11:46 AM
by <a href="../people/zenoss_api.html"
data-externalId=""
data-username="zenoss_api"
data-avatarId="-1"
id="jive-692632882065426741705"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 6926, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>Zenoss API</a>        </div>

        <div class="jive-content-rating clearfix" data-guid="RD9JDT18K58YA97B8X157A9UHV72CGH">

<script type='text/javascript'>
    $j(document).ready(function() {

        var i18n = {
            avgUserRatingTitlei18n : "Average User Rating",
            avgUserRatingLabeli18n : "Average User Rating",
            rateRatingLabel : "rating",
            myRatingLabel : "My Rating:",
            rateRatingsLabel : "ratings",
            ratingSavingText : "Saving...",
            rateSavedText : "Saved.",
            rateRatingSaved : "Rating Saved!",
            writeAReview : "Write a review",
            commentOnRating : "Comment on your rating",
            formSubmitPleaseWait:'Please Wait ...'
        };

        new jive.Rate(14, 2159, 102, 3136, 'doc', i18n, true, 'RD9JDT18K58YA97B8X157A9UHV72CGH');
    });

</script>

        </div>
    </div>

    <div class="jive-content-body">


<!-- [DocumentBodyStart:84b1d0a0-3e7e-407c-bd2e-1680f2868994] --><div class="jive-rendered-content"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3" style=";">3.&#160;Programming Techniques</th></tr><tr><td align="left" style=";" width="20%"><a class="jive-link-external-small" href="zenoss-dev-guide/2.4.2/ch02s02.html">Prev</a>&#160;</td><th align="center" style=";" width="60%">Chapter&#160;2.&#160;Getting Started</th><td align="right" style=";" width="20%">&#160;<a class="jive-link-external-small" href="zenoss-dev-guide/2.4.2/ch02s04.html">Next</a></td></tr></table><hr/></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both;"><a class="jive-link-anchor-small" name="techniques">#</a>3.&#160;Programming Techniques</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a class="jive-link-anchor-small" name="technique_using_rest">#</a>3.1.&#160;Calling Methods Using REST</h3></div></div></div><p>REpresentational State Transfer (REST) is a method of marshaling data types and calling functions using HTTP. Zope supports a number of different Remote Procedure Call (RPC) mechanisms, including REST.</p><p>This section describes some more advanced Zenoss concepts that we have encountered as the product has rolled out. Some may be appropriate for your environment. Usually they require at least a little coding experience, but they are really not that hard.</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a class="jive-link-anchor-small" name="d4e405">#</a>3.1.1.&#160;How to Call Methods Using REST</h4></div></div></div><p>Zenoss' Web interface will let you run any method of any object by using a simple URL. Callas are in the following format:</p><p><span class="emphasis"><em>USERNAME</em></span>:<span class="emphasis"><em>PASSWORD</em></span>@<span class="emphasis"><em>MY_ZENOSS_HOST</em></span>:8080/<span class="emphasis"><em>PATH_TO_OBJECT</em></span>/<span class="emphasis"><em>METHOD_NAME</em></span>?<span class="emphasis"><em>ARG</em></span>=<span class="emphasis"><em>VAL</em></span></p><p>where:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="emphasis"><em>USERNAME</em></span> is the user with rights to view this information.</p></li><li><p><span class="emphasis"><em>PASSWORD</em></span> is the user's password.</p></li><li><p><span class="emphasis"><em>MY_ZENOSS_HOST</em></span> is the hostname or IP address of your Zenoss instance</p></li><li><p><span class="emphasis"><em>PATH_TO_OBJECT</em></span> is the full path of the object you want to access</p></li><li><p><span class="emphasis"><em>METHOD_NAME</em></span> is the object's method you want to run</p></li><li><p><span class="emphasis"><em>ARG</em></span> is the method's parameter name</p></li><li><p><span class="emphasis"><em>VAL</em></span> is the method's parameter value</p></li></ul></div><p>The following example provides the most recent load average of a Linux server:</p><p><a class="jive-link-external-small" href="http://USERNAME:PASSWORD@MY_ZENOSS_HOST:8080/zport/dmd/Devices/Server/Linux/devices/angel/getRRDValue?dsname=laLoadInt5_laLoadInt5">http://USERNAME:PASSWORD@MY_ZENOSS_HOST:8080/zport/dmd/Devices/Server/Linux/devices/angel/getRRDValue?dsname=laLoadInt5_laLoadInt5</a></p><p>Note these things about this URL:</p><div class="itemizedlist"><ul type="disc"><li><p>/zport/dmd/Devices/Server/Linux/devices/angle is the full path to the object you want to access.</p></li><li><p>getRRDValue is the method in the Device object you want to run.</p></li><li><p>dsname is a parameter to the getRRDValue method.</p></li><li><p>laLoadInt5_laLoadInt5 is the value of dsname, which is the name of the data source we are interested in</p></li></ul></div><p>Watching the URLs as you browse the Web interface can give you a place to start searching.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a class="jive-link-anchor-small" name="technique_sending_an_event">#</a>3.1.2.&#160;Sending an Event</h4></div></div></div><p>Events can be sent to Zenoss through the web interface as well as through using <span class="command"><strong>zensendevent</strong></span>, but also through a programmatic interface.</p><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a class="jive-link-anchor-small" name="technique_using_rest_call">#</a>3.1.2.1.&#160;Using a REST Call</h5></div></div></div><p>Sending an event through a rest call can be done by a simple web get. In this example we will use wget to send an event. If you use wget don't for get to escape the "&amp;" or wrap the URL in single quotes.</p><p><span>[zenos@zenoss $] wget '</span><a class="jive-link-external-small" href="http://admin:zenoss@MYHOST:8080/zport/dmd/ZenEventManager/manage_addEvent?device=MYDEVICE&amp;component=MYCOMPONENT&amp;summary=MYSUMMARY&amp;severity=4&amp;eventclass=EVENTCLASS">http://admin:zenoss@MYHOST:8080/zport/dmd/ZenEventManager/manage_addEvent?device=MYDEVICE&amp;component=MYCOMPONENT&amp;summary=MYSUMMARY&amp;severity=4&amp;eventclass=EVENTCLASS</a><span>'</span></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a class="jive-link-anchor-small" name="technique_using_xml_rpc">#</a>3.1.2.2.&#160;Using XML-RPC</h5></div></div></div><p>To send an event to Zenoss using XML-RPC you will first need to create a dictionary (in Perl a hash) that will represent the event. Zenoss will need at a minimum the following fields:</p><div class="variablelist"><p class="title"><strong>Event fields</strong></p><dl><dt><span class="term"><span class="property">device</span></span></dt><dd><p>the name of the device from which this event originates</p></dd><dt><span class="term"><span class="property">component</span></span></dt><dd><p>the sub-component of the device (for instance eth0, http, etc)</p></dd><dt><span class="term"><span class="property">summary</span></span></dt><dd><p>the text message of the event</p></dd><dt><span class="term"><span class="property">severity</span></span></dt><dd><p>an integer between 0 and 5 with higher numbers being higher severity. Zero is clear.</p></dd></dl></div><p>You can send an event to Zenoss via an interactive session with the Python interpreter as follows:</p><pre class="programlisting"><span>&gt;&gt;&gt; from xmlrpclib import ServerProxy
&gt;&gt;&gt; myurl= '</span><a class="jive-link-external-small" href="http://admin:zenoss@MYHOST:8080/zport/dmd/ZenEventManager">http://admin:zenoss@MYHOST:8080/zport/dmd/ZenEventManager</a><span>'
&gt;&gt;&gt; serv = ServerProxy( myurl )
&gt;&gt;&gt; evt = {'device':'mydevice', 'component':'eth0',
... 'summary':'eth0 is down','severity':4, 'eventClass':'/Net'}
&gt;&gt;&gt; serv.sendEvent(evt)</span></pre><p>See below for examples in other languages.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a class="jive-link-anchor-small" name="technique_sending_an_event_other_languages">#</a>3.1.2.3.&#160;Example Usage in Other Languages</h5></div></div></div><p>Please note that we are a Python shop and may not be able to answer specific questions about XML-RPC clients written in other languages.</p><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a class="jive-link-anchor-small" name="technique_sending_an_event_other_languages_perl">#</a>3.1.2.3.1.&#160;Perl</h6></div></div></div><p>Send an event via Perl using RPC::XML::Client</p><pre class="programlisting"><span>require RPC::XML;
require RPC::XML::Client;

$serv = RPC::XML::Client-&gt;new('</span><a class="jive-link-external-small" href="http://YOURZENOSS:8081/');">http://YOURZENOSS:8081/');</a><span>
%evt = ('device' =&gt; 'mydevice2', 'component' =&gt; 'eth1',
&#160;&#160;&#160;&#160;&#160;&#160;&#160; 'summary' =&gt; 'eth1 is down', 'severity' =&gt; 4);
$args = RPC::XML::struct-&gt;new(%evt);
$serv-&gt;simple_request('sendEvent', $args);
</span></pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a class="jive-link-anchor-small" name="d4e495">#</a>3.1.2.3.2.&#160;Ruby</h6></div></div></div><p>This is an example of an Interactive Ruby (IRB) session (the returns have been omitted for the sake of clarity). Note, however, that the Ruby standard library is under active development in general, and specifically, the XML-RPC lib in Ruby is not stable. As of Feb 2007, there is a great deal of on-going discussion regarding XML-RPC in Ruby by Ruby developers and contributors. The following is known to work in previous versions of Ruby:</p><pre class="programlisting"><span>require "xmlrpc/client"
url='user:pass@</span><a class="jive-link-external-small" href="http://YOURZENOSS:8080/zport/dmd/DeviceLoader">http://YOURZENOSS:8080/zport/dmd/DeviceLoader</a><span>')
server = XMLRPC::Client.new2( url )

evt = {'device' =&gt; 'mydevice3', 'component' =&gt; 'eth2',
&#160;&#160;&#160;&#160;&#160; 'summary' =&gt; 'eth2 is down', 'severity' =&gt; 4}
server.call('sendEvent', evt)
</span></pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a class="jive-link-anchor-small" name="d4e500">#</a>3.1.2.3.3.&#160;PHP</h6></div></div></div><pre class="programlisting">&lt;?php

include("xmlrpc.inc");

function ifInOutBps($host, $port, $user, $pass, $device, $interface) {

&#160;&#160;&#160; $ifInOctets = 'ifInOctets_ifInOctets';
&#160;&#160;&#160; $ifOutOctets = 'ifOutOctets_ifOutOctets';

&#160;&#160;&#160; # base url $url = '/zport/dmd/Devices';

&#160;&#160;&#160; # message $msg = new xmlrpcmsg(

&#160;&#160;&#160;&#160;&#160;&#160;&#160; $device.'.os.interfaces.'.$interface.'.getRRDValues', array());

&#160;&#160;&#160; $xifInOctets = new xmlrpcVal($ifInOctets);
&#160;&#160;&#160; $xifOutOctets = new xmlrpcVal($ifOutOctets);
&#160;&#160;&#160; $xifOctets = new xmlrpcVal(array($xifInOctets, $xifOutOctets), 'array');
&#160;&#160;&#160; $msg-&gt;addParam($xifOctets);

&#160;&#160;&#160; # client $clt = new xmlrpc_client($url, $host, $port);
&#160;&#160;&#160; # $clt-&gt;setCredentials($user, $pass);

&#160;&#160;&#160; # get response $rsp = $clt-&gt;send($msg);

&#160;&#160;&#160; # any error? if ($rsp-&gt;faultCode()) {

&#160;&#160;&#160;&#160;&#160;&#160;&#160; die('ifInOutBps - Send error: '.$rsp-&gt;faultString().'

'); }

&#160;&#160;&#160; # convert to data structure $dst = xmlrpc_decode($rsp-&gt;serialize());

&#160;&#160;&#160; return(array('in'=&gt;$dst[$ifInOctets]*8, 'out'=&gt;$dst[$ifOutOctets]*8));

}

?&gt;
</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a class="jive-link-anchor-small" name="d4e503">#</a>3.1.2.3.4.&#160;Java</h6></div></div></div><p>This example uses the <a class="jive-link-external-small" href="http://ws.apache.org/xmlrpc/index.html">Apache XML-RPC library</a> and Java 6 to send an event to the Zenoss server.</p><p>Required <code class="filename">jars</code> on the classpath (all available from the Apache download):</p><div class="itemizedlist"><ul type="disc"><li><p><code class="filename">xmlrpc-client-3.1.jar</code></p></li><li><p><code class="filename">ws-commons-util-1.0.2.jar</code></p></li><li><p><code class="filename">xmlrpc-common-3.1.jar</code></p></li></ul></div><pre class="programlisting"><span>import java.net.URL;
import java.util.HashMap;

import org.apache.xmlrpc.client.XmlRpcClient;
import org.apache.xmlrpc.client.XmlRpcClientConfigImpl;

public class JavaRPCExample {

&#160; public static void main(String[] args) throws Exception {
&#160;&#160;&#160;&#160;&#160; XmlRpcClientConfigImpl config = new XmlRpcClientConfigImpl();
&#160;&#160;&#160;&#160;&#160; url= "</span><a class="jive-link-external-small" href="http://MYHOST:8080/zport/dmd/ZenEventManager">http://MYHOST:8080/zport/dmd/ZenEventManager</a><span>"
&#160;&#160;&#160;&#160;&#160; config.setServerURL(new URL(url));
&#160;&#160;&#160;&#160;&#160; config.setBasicUserName("admin");
&#160;&#160;&#160;&#160;&#160; config.setBasicPassword("zenoss");

&#160;&#160;&#160;&#160;&#160; XmlRpcClient client = new XmlRpcClient();
&#160;&#160;&#160;&#160;&#160; client.setConfig(config);

&#160;&#160;&#160;&#160;&#160; HashMap&lt;String,Object&gt; params = new HashMap&lt;String,Object&gt;();

&#160;&#160;&#160;&#160;&#160; params.put("device", "mydevice");
&#160;&#160;&#160;&#160;&#160; params.put("component", "eth0");
&#160;&#160;&#160;&#160;&#160; params.put("summary", "eth0 is down");
&#160;&#160;&#160;&#160;&#160; params.put("severity", 4);
&#160;&#160;&#160;&#160;&#160; params.put("eventClass", "/Net");

&#160;&#160;&#160;&#160;&#160; client.execute("sendEvent", new Object[]{params});
&#160; }
}
</span></pre></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a class="jive-link-anchor-small" name="d4e520">#</a>3.2.&#160;Miscellaneous Notes</h3></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a class="jive-link-anchor-small" name="d4e522">#</a>3.2.1.&#160;pkg_resources</h4></div></div></div><p>Should one need to use <code class="function">pkg_resources</code>, it would normally be imported like this:</p><pre class="programlisting">import pkg_resources</pre><p>To avoid the mysterious warning</p><pre class="screen">_xmlplus UserWarning</pre><p>use the following <code class="function">import</code> line:</p><pre class="programlisting">import Products.ZenUtils.PkgResources</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a class="jive-link-anchor-small" name="d4e532">#</a>3.2.2.&#160;<code class="classname">urllib2</code> Workarounds</h4></div></div></div><p>There is a bug in the standard Python <code class="classname">urllib2</code> library that prevents HTTPS requests through a proxy from working. This affects ZenWebTx and any other Python code that might attempt to make HTTPS calls. Zenoss installs a Python egg named <code class="classname">httpsproxy_urllib2-1.0</code> which provides modified versions of the Python <code class="classname">httplib</code> and <code class="classname">urllib2</code> modules. These replacement modules are used anytime Zenoss code imports <code class="classname">httplib</code> or <code class="classname">urllib2</code>. More information regarding this module is available at <a class="jive-link-external-small" href="http://pypi.python.org/pypi/httpsproxy_urllib2">PyPi</a></p><p>Directions for configuring your environment to use an HTTP and HTTPS proxy are available in <span class="emphasis"><em>Zenoss Extended Monitoring </em></span>in the chapter on ZenWebTX.</p></div></div></div><div class="navfooter"><hr/><table summary="Navigation footer" width="100%"><tr><td align="left" style=";" width="40%"><a class="jive-link-external-small" href="zenoss-dev-guide/2.4.2/ch02s02.html">Prev</a>&#160;</td><td align="center" style=";" width="20%"><a class="jive-link-external-small" href="zenoss-dev-guide/2.4.2/ch02.html">Up</a></td><td align="right" style=";" width="40%">&#160;<a class="jive-link-external-small" href="zenoss-dev-guide/2.4.2/ch02s04.html">Next</a></td></tr><tr><td align="left" style=";" valign="top" width="40%">2.&#160;Development Toolchain Requirements&#160;</td><td align="center" style=";" width="20%"><a class="jive-link-external-small" href="zenoss-dev-guide/2.4.2/index.html">Home</a></td><td align="right" style=";" valign="top" width="40%">&#160;4.&#160;zendmd: Command-line Access to the Device Management Database (DMD)</td></tr></table></div></div><!-- [DocumentBodyEnd:84b1d0a0-3e7e-407c-bd2e-1680f2868994] -->

<!-- BEGIN attachments -->
<!-- END attachments -->
    </div>
    <div class="jive-content-footer clearfix">


    <!-- BEGIN content details -->
        <span class="jive-content-footer-item jive-content-footer-acclaim">

<div id="acclaim-container-102-3136-" class="acclaim-container">
    <div id="jive-acclaim-like-container-102-3136-" data-uniqueKey="102-3136-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="DOC-3136.html#" id="jive-acclaim-likedlink-102-3136-"  class=" jive-acclaim-likedlink">0</a>)
    </div>
</div>        </span>

     
        <span class="jive-content-footer-item">
            13970&nbsp;Views
        </span>

        



    <!-- BEGIN view/add/edit tags -->
    <span class="jive-content-footer-item jive-content-footer-tags">
    </span>
    <!-- END view/add/edit tags -->
<!-- END content -->

    </div>
</div>
<!-- END document -->





    
    <script>
    </script>






    <link rel="stylesheet" type="text/css" href="../4.5.6/styles/tiny_mce3/plugins/inlinepopups/skins/clearlooks2/window.css" />




    




        <a name="comments"></a>

        <!-- BEGIN tabs -->
        <div class="jive-body-tabbar">

                <span id="jive-comments-tab" class="jive-body-tab jive-body-tabcurrent">
                    <strong class="font-color-normal">
                        Comments (<span id="jive-comments-count">0</span>)
                    </strong>
                </span>

        </div>
        <!-- END tabs -->

            <div class="jive-box clearfix" id="jive-comments" ></div>

        <div style="display:none;" id="jive-comment-post-block">
            <form method="post" action="javascript:void(0);" name="jive-comment-post-form">

                <p class="jive-error-text" id="jive-comment-error" style="display:none"></p>

                    <div class="jive-comment-post-anonymous">
                        <div>
                            <input id="comment-author" name="commentGuestName" />
                            <label for="comment-author">Name</label>
                        </div>
                        <div>
                            <input id="comment-email" name="commentGuestEmail"  />
                            <label for="comment-email">Email Address</label>
                        </div>
                        <div>
                            <input id="comment-url" name="commentGuestUrl" />
                            <label for="comment-url">Website Address</label>
                        </div>
                    </div>

                <div>
                    <textarea name="commentBody" id="wysiwygtext" rows="10" class="jive-comment-textarea"></textarea>
                </div>

                <div style="display:none;" id="jive-blog-comment-preview" class="jive-blog-comment-preview"></div>


                <div class="jive-form-buttons">
                    <input type="submit" name="post" value="Add Comment" />
                    <input type="button" name="cancel" value="Cancel" />
                </div>

            </form>
        </div>

        <div style="display:none;"  id="jive-comment-edit-block">
            <form method="post" action="javascript:void(0);" name="jive-comment-edit-form">
                <p class="jive-error-text" id="jive-comment-error" style="display:none"></p>
                <div class="jive-comment-post-anonymous">
                    <div>
                        <input name="name" value="" />
                        <label for="name">Name
                            <span>(required)</span></label>
                    </div>
                    <div>
                        <input name="email" value="" />
                        <label for="email">Email Address
                            <span>(required, will not be published)</span></label>
                    </div>
                    <div>
                        <input name="url" value=""/>
                        <label for="url">Website Address</label>
                    </div>
                </div>
                <div>
                    <textarea name="commentBody" id="wysiwygtext" rows="10" class="jive-comment-textarea"><%= commentBody %></textarea>
                </div>

                <div style="display:none;" id="jive-blog-comment-preview" class="jive-blog-comment-preview"></div>

                <div class="jive-form-buttons">
                    <input type="button" name="post" value="Save" />
                    <input type="button" name="cancel" value="Cancel" />
                </div>

            </form>
        </div>




            </div>
        </div>
        <!-- END main body column -->


        <!-- BEGIN sidebar column -->
        <div id="jive-body-sidebarcol-container">

            <div id="jive-body-sidebarcol">


<div id="jive-action-sidebar" class="jive-sidebar jive-box jive-sidebar-actions jive-box-actions">


    <div class="jive-box-header">
        <h4 id="jive-action-sidebar-tab-header_document-actions-tab">Actions</h4>
    </div>
    <div id="jive-action-sidebar-body" class="jive-sidebar-body jive-sidebar-body-actions jive-box-body">

        <div id="jive-action-sidebar-tab-_document-actions-tab"
             class="jive-action-sidebar-tab-first"
 >



            <ul id="jive-action-sidebar-tab-list_document-actions-tab" class=" jive-icon-list">
















                <li id="jive-link-thread-print" style=""
                        ><a href="DOC-3136%3Fdecorator=print.html"
rel="nofollow"
onclick=""
title="">
<span class="jive-icon-med jive-icon-print-preview"></span>
View print preview
</a></li>



            </ul>
        </div> <!-- /#jive-action-sidebar-tab-_id -->
    </div>

</div>




    <!-- BEGIN sidebar box 'More Like This' -->

    <div class="jive-box jive-sidebar">
        <div class="jive-box-header jive-sidebar-header">
            <h4>More Like This</h4>
        </div>
        <div class="jive-box-body jive-sidebar-body jive-sidebar-body-morelikethis">
            <ul class="jive-icon-list" id="jive-more-like-this-102-3136">
                <li><span>Retrieving data ...</span></li>
            </ul>
        </div>
    </div>

    <!-- END sidebar box 'More Like This' -->

    
    

<!-- BEGIN sidebar box 'Incoming Links' -->
<div class="jive-box jive-sidebar">
    <div class="jive-box-header jive-sidebar-header">
        <h4>Incoming Links</h4>
    </div>
    <div class="jive-box-body jive-sidebar-body jive-sidebar-body-incominglinks">
        <ul class="jive-icon-list">
                        <li>
                            <a href="../message/54068.html#54068">
                            <span class="jive-icon-med jive-icon-discussion-question"></span>
                                getDeviceList - XMLRPC Javasample needed
                            </a>
                        </li>
        </ul>
    </div>
</div>
<!-- END sidebar box 'Incoming Links' -->


        
        
        
        
        

<!-- BEGIN sidebar box 'User Content' -->
<div class="jive-box jive-sidebar">
    <div class="jive-box-header jive-sidebar-header">
        <h4>More by Zenoss API</h4>
    </div>
    <div class="jive-box-body jive-sidebar-body jive-sidebar-body-usercontent">
        <ul class="jive-icon-list">
                    <li>
                        <a href="DOC-3211.html"
                        ><span class="jive-icon-med jive-icon-document"></span>2.5 Programming Documentation</a>
                    </li>
                    <li>
                        <a href="DOC-3157.html"
                        ><span class="jive-icon-med jive-icon-document"></span>3.3 ZenPack Structure and Contents</a>
                    </li>
                    <li>
                        <a href="DOC-3180.html"
                        ><span class="jive-icon-med jive-icon-document"></span>9.2 One-to-Many (1:N) Relationships</a>
                    </li>
                    <li>
                        <a href="DOC-3177.html"
                        ><span class="jive-icon-med jive-icon-document"></span>9.1 Add a ZenModel Relationship</a>
                    </li>
                    <li>
                        <a href="DOC-3184.html"
                        ><span class="jive-icon-med jive-icon-document"></span>Zenoss Developer's Guide for 2.4</a>
                    </li>
        </ul>
        <div class="jive-sidebar-viewall">
            <a href="../people/zenoss_api.html" class="font-color-meta j-link-viewall"><strong>View Zenoss API's profile</strong></a>
        </div>
    </div>
</div>
<!-- END sidebar box 'User Content' -->


            </div>

        </div>
        <!-- END sidebar column -->


    </div>



        </div>

<div class="clear"></div>
        </div>
        <!-- MAIN CONTENT END -->
     <!-- END CONTENT -->

</div>
<!-- END MIDDLE CONTENT -->

<!-- START FOOTER -->
<div id="footer">
 <table cellpadding="0" cellspacing="0" border="0">
   <tr valign="top">
      <td rowspan="2" style="padding-left:10px;padding-right:10px;">
        <ul id="socialmedia">
        <li><a href="http://feeds.feedburner.com/ZenossBlog" class="rss" target="_blank"><span>rss</span></a></li>
           <li><a href="http://twitter.com/zenoss" class="twitter" target="_blank"><span>twitter</span></a></li>
           <li><a href="http://slashdot.org/bookmark.pl" class="slashdot" target="_blank"><span>slashdot</span></a></li>
           <li><a href="http://www.reddit.com/" class="reddit" target="_blank"><span>reddit</span></a></li>
           <li><a href="http://delicious.com/save" class="del" target="_blank"><span>delicious</span></a></li>
           <li><a href="http://technorati.com/" class="tech" target="_blank"><span>technorati</span></a></li>
       </ul> 
     </td>
     <td rowspan="2" style="padding-left:10px;padding-right:10px;">
        <a href="http://twitter.com/zenoss" title="Follow us on Twitter">Follow Us On Twitter &raquo;</a>
       <ul id="twitter_update_list"> </ul>
     </td>
     <td rowspan="2" style="padding-right:10px;">
        <a href="../blogs/zenossblog.html" title="Latest from the Zenoss blog">Latest from the Zenoss Blog &raquo;</a>
       <script language="JavaScript" src="http://feed2js.org//feed2js.php?src=http%3A%2F%2Ffeeds.feedburner.com%2FZenossBlog%3Fformat%3Dxml&amp;num=3&amp;desc=85&amp;targ=y" type="text/javascript"></script>
       <noscript><a href="http://feed2js.org//feed2js.php?src=http%3A%2F%2Ffeeds.feedburner.com%2FZenossBlog%3Fformat%3Dxml&amp;num=3&amp;desc=85&amp;targ=y&amp;html=y">View RSS feed</a></noscript>
     </td>
     <td rowspan="2" valign="middle" style="padding-right:20px;">
        <img src="../themes/userbar-disabled/images/tableborder.png" alt="" />
     </td>
     <td>
        Community
       <ul class="sitemap">
        <li><a href="../index.jspa.html" title="Home">Home</a></li>
           <li><a href="community/documentation" title="Documentation">Documentation</a></li>
           <li><a href="community/developers" title="Code">Code</a></li> 
           <li><a href="community/zenpacks" title="ZenPacks">ZenPacks</a></li> 
           <li><a href="community/forums" title="Discussion">Discussion</a></li> 
           <li><a href="community/partners" title="Get Involved">Get Involved</a></li> 
           <li><a href="../people.1.html" title="Membership">Membership</a></li>
       </ul>
     </td>
     <td>
        Products
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/solution/overview" title="Overview">Overview</a></li>
                        <li><a href="http://www.zenoss.com/solution/virtualization-monitoring" title="Virtualization Monitoring">Virtualization Monitoring</a></li>
                        <li><a href="http://www.zenoss.com/solution/cloud-monitoring" title="Cloud Monitoring">Cloud Monitoring</a></li>
                        <li><a href="http://www.zenoss.com/solution/cisco-ucs-management" title="Cisco UCS Management">Cisco UCS Management</a></li>
                        <li><a href="http://www.zenoss.com/solution/server-monitoring" title="Server Monitoring">Server Monitoring</a></li>
                        <li><a href="http://www.zenoss.com/solution/network" title="Network Monitoring">Network Monitoring</a></li>
       </ul>
     </td>
     <td>
        Services
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/support/index" title="Support Overview">Overview</a></li>
                        <li><a href="http://www.zenoss.com/support/consulting" title="Consulting">Consulting</a></li>
                        <li><a href="http://www.zenoss.com/support/customer-support" title="Support">Customer Support</a></li>
                        <li><a href="http://www.zenoss.com/support/training" title="Training">Training</a></li>        
       </ul>
       Resources
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/resources/demo" title="Resources">Resource Center</a></li>
       </ul>
     </td>
     <td>
       Customers
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/customers/index" title="Customers Overview">Overview</a></li>
                        <li><a href="http://www.zenoss.com/customers/case-studies/case-studies" title="Case Studies">Case Studies</a></li>
                        <li><a href="http://www.zenoss.com/customers/by-industry" title="Case Studies">Customers by Industry</a></li>
                        <li><a href="http://www.zenoss.com/customers/industries/index" title="Industries"><span>Industries</span></a></li>
       </ul>


       Partners
       <ul class="sitemap">
            <li><a href="http://www.zenoss.com/partners/open-source-network-management-solutions" title="Current Partners">Current Partners</a></li>
            <li><a href="http://www.zenoss.com/partners/contact" title="Become a Partner">Become a Partner</a></li>
       </ul>
     </td>
     <td style="padding-right:0px;">
        About Us
       <ul class="sitemap">
        <li><a href="http://www.zenoss.com/about/index" title="Overview">Overview</a></li> 
           <li><a href="http://www.zenoss.com/about/awards" title="Awards">Awards</a></li> 
           <li><a href="http://www.zenoss.com/about/team" title="Team">Team</a></li> 
           <li><a href="http://www.zenoss.com/about/news" title="News">News</a></li> 
           <li><a href="http://www.zenoss.com/about/news/events" title="Events">Events</a></li> 
           <li><a href="http://www.zenoss.com/about/jobs" title="Careers">Careers</a></li> 
           <li><a href="http://www.zenoss.com/about/contact" title="Contact">Contact</a></li>
       </ul>
     </td>
   </tr>
   <tr valign="middle">
     <td align="right">
        <a href="http://sourceforge.net/projects/zenoss" target="_blank" title="SourceForge"><img width="120" height="30" alt="Get Zenoss Core - Enterprise IT Monitoring at SourceForge.net. Fast, secure and Free Open Source software downloads" src="http://sflogo.sourceforge.net/sflogo.php?group_id=163126&amp;type=11"></a>
     </td>
     <td align="right">
        <a href="../index.html" title="Monitored by Zenoss"><img src="../themes/userbar-disabled/images/logo-monitoredby_ZEN.png" alt="Monitored By Zenoss" /></a>
     </td>
      <td colspan="3" align="right" >
        <a href="../index.html" title="Zenoss Home"><img src="../themes/userbar-disabled/images/new-logo-zenoss-footer_ZEN.gif" /></a>
       <div id="copyright" class="right">Copyright &copy; 2005-2011 Zenoss, Inc.</div>
     </td>
   </tr>
   <tr valign="top">
     <td colspan="9" align="right">&nbsp;</td>
   </tr>
 </table>
</div>
<!-- END FOOTER -->

 <!-- BEGIN SCRIPTS --> 

   <!-- END -->

    <!-- TOP NAV DROP DOWN NAVIGATION - IE6 -->
   <!-- END DROP DOWN -->       

   <!-- TWITTER SCRIPTS -->

<!-- END GOOGLE ANALYTICS CODE -->

<!-- Pardot tracking code, async version -->
<!-- END Pardot tracking code, async version -->




<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-73372470-1','auto');ga('send','pageview');</script></body>
</html>

