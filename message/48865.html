<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>
        Adding interface description to an event - Open Source Network Monitoring and Systems Management
        
        
    </title>

    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" /> 


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="en-US" />
<meta name="keywords" content=""/>
<!-- Adding interface description to an event -->
<meta property="og:image" content="servlet/JiveServlet/downloadImage/73-2574-13230/share-zenoss-logo.jpg" />

<link rel="search"
    href="../opensearch.xml"
    title="Zenoss Community"
    type="application/opensearchdescription+xml"/>


<link rel="shortcut icon" href="../themes/userbar-disabled/images/favicon.ico" />

    





    
      
      
     




    



    
    





    <link rel="stylesheet" href="../styles/jive-global.css" type="text/css" media="all" />
    <!-- <link rel="stylesheet" href="/styles/jive-icons-legacy.css" type="text/css" media="all" /> -->
    <link rel="stylesheet" href="../styles/jive-icons.css" type="text/css" media="all" />

    <link rel="stylesheet" href="../themes/userbar-disabled/styles/theme.css" type="text/css" media="all" />
    <link rel="stylesheet" href="../themes/userbar-disabled/styles/community.css" type="text/css" media="all" />
    <link rel="stylesheet" href="../themes/userbar-disabled/styles/sifr.css" type="text/css" media="all" />


    <!--[if IE 6]>
    <style type="text/css">
    /* hack for IE6's lack of alpha PNG support */
    * html #jive-wrapper .ie6png,
    * html #jive-wrapper #jive-global-header *.ie6png,
    * html #jive-wrapper #user-bar-wrapper *.ie6png,
    * html #jive-wrapper #jive-body *.ie6png,
    * html #jive-wrapper #jive-footer *.ie6png {
        background-image: expression(
        this.runtimeStyle.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src=" +
        (this.tagName=='IMG' ? this.src : this.currentStyle.backgroundImage.split('\"')[1]) + ")",
        this.runtimeStyle.backgroundImage = "none",
        this.src = "/images/transparent.png"
        );
        }
    </style>

    <link rel="stylesheet" href="/styles/jive-icons-ie.css" type="text/css" media="all" />
    <![endif]-->





    


	<link rel="stylesheet" href="../4.5.6/styles/jive-content.css" type="text/css" media="all" />
    

            <link rel="alternate" type="application/rss+xml"
                title=" zenoss-users Discussions Feed"
                href="community/feeds/threads?community=2003">

        <link rel="alternate" type="application/rss+xml"
            title="Messages in 'Adding interface description to an event' Discussion Feed"
            href="community/feeds/messages?thread=13522">







    

    <!-- BEGIN action bar -->

    

    <!-- END action bar -->


        <link rel="canonical" href="../thread/13522%3Fstart=0&amp;tstart=0.html#48865"/>   



    <!--[if IE 6]>
        <style type="text/css">
            .jive-modal-scrollto-container
            {
                width: 500px;
            }
        </style>
    <![endif]-->




    <style type="text/css">/* Rating bar on documents */
.jive-content .jive-content-header .jive-content-rating {margin-bottom: 3px;}
.j-rating { padding: 0 10px; }
.jive-content-avgrating {height: 53px;}
/* END Rating bar on documents */

/* Userbar */
#jive-userbar-right {right: 50px;}
/* END Userbar */

/* Download links page */
table.download-links-table {background-color: #ffffff; width: 100%;}
table.download-links-table tbody td { text-align: center; vertical-align: middle;}
table.download-links-table thead th {text-align: center;}
table.download-links-table td, table.download-links-table th {border: 1px solid #EEEEEE !important;}

/* Provides indentation for official doc ToC items */
div.toc dl dt {margin-left: 20px;}
div.toc dl dd dl dt {margin-left: 40px;}
div.toc dl dd dl dd dl dt {margin-left: 60px;}
div.toc dl dd dl dd dl dd dl dt {margin-left: 80px;}
div.toc dl dd dl dd dl dd dl dd dl dt {margin-left: 100px;}
/* END docs items */


/* Blog posts */
div.social-button-spacer {height: 10px;}

div#social-button-cont {
margin-right:10px; 
padding:5px; 
text-align: center; 
float: right;
}

div#comment-indicator {
    float: left;
    left: 12px;
    right: inherit;
    top: 55px;
}

div#comment-indicator div.jive-reply {margin-left: 0px;}

.jive-blog-post-subject {padding-bottom: 0px;}
/* END Blog posts */


/* Community download survey */
form#core-usage-survey label.aligned {float: left; width: 120px;}
form#core-usage-survey span.required_field {color: red;}
form#core-usage-survey label.survey-small-label {display:inline;}
form#core-usage-survey div.survey-checkbox-set {width:82%;}
form#core-usage-survey div.border {border:1px solid #ACACAC; padding:5px;}

form#core-usage-survey label.survey-resource_type {font-style:italic;}
form#core-usage-survey label {
color:#333333;
display:block;
font-size:12px;
font-weight:bold;
}
/* END Community download survey */

</style>
    <style type="text/css">/* custom-css-container */</style>


</head>
<body class="jive-body-home" ><div style="width:100%;background-color:white;float:left;position:fixed;z-index:3000;top:0;right:0;border-bottom:2px solid gray;"><div style="width:1006px;font-weight:bold;margin:12px auto 12px auto;font-size:18px;"><div style="float: left; margin: 0;">Archived community.zenoss.org | full text search <form style="display: inline;" target="_blank" action="https://github.com/monitoringartist/community.zenoss.org/search" method="get"><input type="text" name="q"><input type="submit" value="Search"></form> </div><div style="float: right;"><a href="https://www.monitoringartist.com" title="Maintained by Monitoring Artist - DevOps / Docker / Kubernetes / Zabbix / Zenoss / Monitoring"><img src="/community.zenoss.org/assests-monitoringartist/Monitoring-Artist-logo.png" /></a></div></div></div>


<a href="48865.html#jive-body" class="jive-skip-nav">Skip navigation</a>

    <div id="jive-compliance" class=""style="display:none">
        <span class="jive-icon-med "></span>
        
    </div>

    <div id="jive-wrapper" class="clearfix">

    <!-- Load search for guests -->

    <div id="jive-userbar-search">
    <form action="search.jspa" method="get" id="jive-userbar-search-form">
        <input type="hidden" name="peopleEnabled" value="true"/>

        <input type="hidden" name="userID"/>
        <input type="hidden" name="containerType"/>
        <input type="hidden" name="container"/>
        <input type="hidden" name="spotlight" value="false"/>
        <label for="jive-query"
               class="j-508-label">Search for:</label>
        <input type="text" id="jive-query" name="q" value="" accesskey="4" class="searchbar jive-userbar-search-field"
               autocomplete="off"/>
    </form>

    <div id="jive-spotlight-search-container"></div>
</div>

    <!-- END anon search -->

<!-- SKIP NAV FOR ACCESSIBILITY -->
<a href="48865.html#skipnav"></a>
<!-- END -->

<div id="header">

    <!-- START TOP NAVIGATION -->
    <div id="navcontainer">
        <table cellpadding="0" cellspacing="0" width="100%" border="0">
          <tr valign="bottom">
            <td rowspan="2">
                <a href="../index.html" title="Zenoss Open Source IT Management"><img src="../themes/userbar-disabled/images/zenoss-logo-reversed-web.png" style="width:254px; margin: 0 0px 25px;" alt="Zenoss Open Enterprise Management" /></a>
            </td>
            <td height="45" colspan="2">
                <div id="zenoss-panel">
                    <div style="width: 200px;" id="cpanel-lt"></div>
                    <ul id="subnav-rt" class="png_fix">
                        <li><a href="http://www.zenoss.com/" title="Zenoss.Inc Home" class="none">Zenoss, Inc.</a></li>
                        <!--<li><a href="/community/feedback" title="Feedback" class="none">Feedback</a></li>-->
                        <!--<li><a href="http://www.zenoss.com/support" title="Support" class="none">Support</a></li>-->
                    </ul>
                </div>
            </td>
          </tr>
          <tr valign="middle">
            <td colspan="2" height="80">
                <ul id="navlist">
                    <li><a href="community/documentation" title="DOCS" class="nav1"><span>DOCS</span></a></li>
                    <li><a href="community/forums" title="FORUMS" class="nav2"><span>FORUMS</span></a></li>        
                    <!--<li><a href="/community/zenpacks" title="ZENPACKS" class="nav3"><span>ZENPACKS</span></a></li>-->
                    <li><a href="http://wiki.zenoss.org/Category:ZenPacks" title="ZENPACKS" class="nav3"><span>ZENPACKS</span></a></li>        
                    <li><a href="community/partners" title="PARTNERS" class="nav4"><span>PARTNERS</span></a></li>      
                    <li><a href="community/about" title="ABOUT" class="nav4"><span>ABOUT</span></a></li>   
                    <li><a href="../blogs/zenossblog.html" title="BLOG" class="nav5"><span>BLOG</span></a></li>
                    <li><a href="community/testing" title="TESTING" class="nav5"><span>TESTING</span></a></li> 
                    <li><a href="community/developers" title="DEVELOPERS" class="nav6"><span>DEVELOPMENT</span></a></li>
                    <li><a href="../community/download.html" title="DOWNLOADS" class="nav7 png_fix"><span>DOWNLOAD</span></a></li>
                </ul>
            </td>
          </tr>
        </table>
    </div>
    <!-- END TOP NAV -->

</div>

<!-- START MID COL -->
<div id="middle">

    <!-- SKIPNAV ADDED FOR ACCESSIBILITY -->
    <a name="skipnav"></a>
    <!-- SKIPNAV END -->
        
      <!-- START CONTENT -->
      
        <!-- MAIN CONTENT START -->
        <!-- CHANGE CLASS ACCORDING TO SUB SECTION FOR PROPER TOP BANNER -->


        <div id="subcontent">




<!-- BEGIN user bar -->
<div id="user-bar-wrapper">
    <div id="jive-userbar">
<div id="jive-userbar-login">
    <form action="https://community.zenoss.org/cs_login"
          method="post" name="loginform" autocomplete="off">
        
        

        <span class="jive-userbar-login-welcome" id="jiveLoginWelcome">
            <span class="jive-userbar-login-guest">
            Welcome, Guest
            </span>

            <span class="jive-userbar-login-loginlink">
                <a href="48865.html#" onClick="jivetoggleLogin(); return false;">Login</a>
            </span>

            <span class="jive-userbar-login-new">
                <a href="../login!input.jspa%3FregisterOnly=true.html">Register</a>
            </span>
        </span>

        <span class="jive-userbar-login-form" id="jiveLoginForm" style="display: none;">

            <span class="jive-userbar-login-username">
                <label for="login-username">
Username:                </label>
                <a href="forgot-username!input.jspa.html" title="I forgot my username ">(?)</a>
                <input type="text" name="username" size="20" maxlength="150" value="" tabindex="1"
                               id="login-username" />
            </span>

            <span class="jive-userbar-login-password">
                <label for="login-password">
Password:                </label>
                <a href="emailPasswordToken!input.jspa.html" title="I forgot my password ">(?)</a>
                <input type="password" name="password" size="20" maxlength="150" value="" tabindex="2"
                               id="login-password" />
            </span>

            <span class="jive-userbar-login-auto">
                <input type="checkbox" name="autoLogin" id="login-auto" value="true" tabindex="3" />
                <label for="login-auto">Remember Me</label>
            </span>

            <span class="jive-userbar-login-submit">
                <input type="submit" name="login" value="Login" tabindex="4"
                       class="jive-login-button" />
                <input type="reset" name="doCancel" value="Cancel" tabindex="5"
                               class="jive-cancel-button" onclick="jivetoggleLogin();" />
            </span>
        </span>

    </form>
</div>        <div id="jive-userbar-right">

    <div id="jive-userbar-search">
    <form action="search.jspa" method="get" id="jive-userbar-search-form">
        <input type="hidden" name="peopleEnabled" value="true"/>

        <input type="hidden" name="userID"/>
        <input type="hidden" name="containerType"/>
        <input type="hidden" name="container"/>
        <input type="hidden" name="spotlight" value="false"/>
        <label for="jive-query"
               class="j-508-label">Search for:</label>
        <input type="text" id="jive-query" name="q" value="" accesskey="4" class="searchbar jive-userbar-search-field"
               autocomplete="off"/>
    </form>

    <div id="jive-spotlight-search-container"></div>
</div>

        </div>
    </div>

</div>
<!-- END user bar -->

            <div id="jive-body">

<!-- BEGIN breadcrumb -->
<div id="jive-breadcrumb">

    <span>
                <a href="../index.jspa.html">
            Zenoss Community</a> &gt; 
                <a href="community/forums">
            Forums</a> &gt; 
                <a href="../community/forums/zenoss-users.html">
            zenoss-users</a> &gt; 


        <a class='jive-breadcrumb-last' href="../community/forums/zenoss-users%3Fview=discussions.html">Discussions</a></span>
</div>
<!-- END breadcrumb -->

                                                                       



    
    <script>
        window._jive_images_enabled = true;
    </script>






    <link rel="stylesheet" type="text/css" href="../4.5.6/styles/tiny_mce3/plugins/inlinepopups/skins/clearlooks2/window.css" />




    <div id="rte-template" style="display:none;">
        <input type="hidden" name="jive.token.name" value="message.post.13522"/>
        <input type="hidden" name="message.post.13522" value="[placeholder]"/>


	<form action="post.jspa?container=2003&amp;containerType=14&amp;thread=13522&amp;message=48865&amp;reply=true" method="post" name="isInline" id="postform" >
	<input type="hidden" name="containerType" value="14">
	<input type="hidden" name="container" value="2003">

		<input type="hidden" name="thread" value="13522">

		<input type="hidden" name="reply" value="true">
        <input type="hidden" name="message" value="">
        <input type="hidden" name="inlinePost" value="true">
	<input type="hidden" name="postedFromGUIEditor" id="postTypeFlag" value="false" />

	<div class="jive-error-message jive-error-box" id="dwr-error-table" style="display:none;">
		<div>
			<span class="jive-icon-med jive-icon-redalert"></span>
			<span class="jive-error-text" id="dwr-error-text"></span>
		</div>
	</div>



	<div class="jive-error-message jive-error-box" id="post-error-table" style="display:none;">
		<div id="post-error-subject" style="display:none;">
Please enter a title.		</div>
		<div id="post-error-body" style="display:none;">
You can not post a blank message. Please type your message and try again.		</div>
	</div>
	<input type="hidden" name="subject" size="75" maxlength="255"  id="subject01" value="Re: Adding interface description to an event"/>


    <textarea name="body"rows="10" class="jive-comment-textarea"></textarea>


	<div>
		<input type="submit" name="post" class="jive-form-button-save" value="Add Reply" />
		<input type="button" name="cancel" class="jive-form-button-cancel" value="Cancel" />
	</div>
	</form>
</div>



<!-- BEGIN header & intro  -->
<div id="jive-body-intro">

    <div id="jive-body-intro-content">

        <a href="../community/forums/zenoss-users%3Fview=discussions&amp;start=0.html"><span class="jive-icon-sml jive-icon-arrow-generic-up"></span>
                Up to Discussions in&nbsp;zenoss-users
        </a>
    </div>
</div>
<!-- END header & intro -->


<!-- BEGIN main body -->
<div id="jive-body-main">

    <!-- BEGIN main body column -->
    <div id="jive-body-maincol-container">
        <div id="jive-body-maincol">
            <!-- moderation feedback message -->

            <!-- hidden div used in parsing of ajax response to indicate that we have a moderated message -->
            
            <div id="success-moderation-edit" class="jive-success-box" style="display:none"></div>

            <div id="thread.watch.notify" class="jive-info-box" style="display:none"></div>

            <div id="content-featured-notify" class="jive-info-box" style="display:none"></div>





            <!-- BEGIN thread messages -->
            <div id="jive-thread-messages-container" class="jive-thread-messages">



                <!-- BEGIN thread info -->
                <div class="jive-thread-info font-color-meta clearfix">

                    <strong>     
        
            22249&nbsp;Views
        

</strong>
                        <strong>12 Replies</strong>
                    <a href="48930%3Ftstart=0.html#48930" >Latest reply</a>:
                    May 18, 2010 10:16 AM by
terrys                        <span><a href="community/feeds/messages?thread=13522"><img class="jive-icon-sml jive-icon-rss" src="../4.5.6/images/transparent.png" alt="RSS" /></a></span>




                </div>
                <!-- END thread info -->

                <!-- BEGIN original thread post -->
                 

                    <div class="jive-thread-post">

                        <a name="13522"></a><a name="48723"></a>
                        <div class="jive-thread-post-body">

                            <div class="jive-author">

                                    <span class="jive-author-avatar-container">


<a href="../people/terrys.html"
   data-externalId=""
   data-username="terrys"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/terrys/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="terrys"
            /><span username="terrys" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                                    </span>

                                    <div class="jive-username-link-wrapper">
<a href="../people/terrys.html"
data-externalId=""
data-username="terrys"
data-avatarId="-1"
id="jive-782932931766736217659"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>terrys</a>                                    </div>
                                    <em>62 posts since <br/>Nov 27, 2009</em>
                            </div>

                            <div class="jive-thread-post-body-container">
                                <div class="jive-thread-post-subject">
                                    <div class="jive-thread-post-subject-content">
                                        <div class="jive-social-actions clearfix">
                                        </div>

                                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                                        <h3>May 13, 2010 2:37 PM</h3>
                                        <h2><a href="48723.html#48723">Adding interface description to an event</a></h2>
                                    </div>
                                </div>

                                <div class="jive-thread-post-message">
                                    <!-- [DocumentBodyStart:36fa8c96-0a63-4dbe-85c3-5c2e250c9a67] --><div class="jive-rendered-content"><p><span>I've tried two mechanisms that are described in the forum for adding an interface description to an event summary and am not getting anything to work.&#160; The two things I've tried are from the Event Transforms and Examples blog (</span><a class="jive-link-external-small" href="../docs/DOC-2554.html">docs/DOC-2554</a><span>). </span></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>What I get now is below and contains a bunch of redundant&#160; information:</p><p>Router001&#160; GigabitEthernet0/1&#160; /Net/Link&#160;&#160;&#160; Interface&#160; GigabitEthernet0/1, changed state to down</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>What I'd like is to have interface down events display&#160; something like this:</p><p>Router001&#160; GigabitEthernet0/1&#160; /Net/Link&#160;&#160;&#160;&#160; DOWN: Link to Router002 Gig0/2</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>The first thing I tried was the section titled "Modify event down to specify which interface is down".&#160; It runs, but the resulting event says "No description", which is the text I used to denote that an interface had no description.&#160; I print the Index value and it is zero, which it shouldn't be for the interface in question.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>The second thing I tried was in the section titled "Event Mapping based on Interface Description".&#160; It turns red when I enter it into the Transform section of editing a class, so I'm guessing that something has changed since this transform was first built.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Can I print things from within a Transform and see the output somewhere?&#160; Jane's paper on transforms says to look at zenaction.log, but it doesn't contain anything useful when debug is enabled.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Thanks!</p></div><!-- [DocumentBodyEnd:36fa8c96-0a63-4dbe-85c3-5c2e250c9a67] -->


                                </div>

                            <!-- BEGIN content details -->
                            <div id="discussion-action-div-baseDiscussionForm" class="jive-thread-post-details clearfix">

                            	<ul>
                                    <li class="discussion-thread-acclaim">
<div id="acclaim-container-2-48723-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48723-" data-uniqueKey="2-48723-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48723-"  class=" jive-acclaim-likedlink">0</a>)
    </div>
</div></li>
                            	</ul>


    <!-- BEGIN view/add/edit tags -->
    <span class="jive-content-footer-item jive-content-footer-tags">
    </span>
    <!-- END view/add/edit tags -->
                                </div>
                                <!-- END content details -->

                            </div>
                        </div>
                        <div class="jive-thread-ratings clearfix">
                        </div>
                    </div>
                <!-- END original thread post -->


    <!-- BEGIN reply -->


    <ul class="jive-discussion-replies jive-discussion-flat jive-discussion-indent-0">
    <li class="reply" id="discussion-48726">


        <div id="thread-message-48726" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-alt  clearfix">

            <div class="jive-thread-reply-body" id="48726">
                <a name="48726"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/jalapeno.html"
   data-externalId=""
   data-username="jalapeno"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7283, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/jalapeno/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="jalapeno"
            /><span username="jalapeno" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/jalapeno.html"
data-externalId=""
data-username="jalapeno"
data-avatarId="-1"
id="jive-728332931766740890465"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7283, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>jalapeno</a>                        </div>
                        <em>5 posts since <br/>Oct 6, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48726.html#48726" title="Link to reply #1" class="jive-thread-reply-num font-color-meta-light">1.</a>
                        <span>May 13, 2010 3:51 PM</span>
                            (<a href="48723.html#48723" title="Go to message" class="font-color-meta-light " >in response to terrys</a>)
                        </div>

                        <strong>
                        <a href="48726.html#48726">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:8d54fca8-f244-4b60-99de-7ffc783861c8] --><div class="jive-rendered-content"><p>When the Transform section turns red if means there is an error with the text/code in there.&#160; It needs to be Python I believe (i'm still learning).&#160; I have a working transform as follows that may help some.</p><p>evt.summary = 'LINK DOWN - Module: %s Port: %s to %s' % (evt.mcModulInx, evt.mcPortPortInx, evt.mcPortPortDesc)</p><p>which transforms like 'LINK DOWN - Module: 4 Port 2 to SwitchWhatever'</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>evt.xxxx are values pulled from the Trap, which will be a bunch of numbers if the Mibs are not installed for that device. So the above evt.xxx will not be the same for your device.&#160; These should work evt.device for the device name and evt.ifDescr may be description but thats a guess.&#160; I am sure that there are other programmatic statements you could use in the transform area but I am not that savy yet.</p></div><!-- [DocumentBodyEnd:8d54fca8-f244-4b60-99de-7ffc783861c8] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48726" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48726&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48726-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48726-" data-uniqueKey="2-48726-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48726-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48746">


        <div id="thread-message-48746" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-postauthor  clearfix">

            <div class="jive-thread-reply-body" id="48746">
                <a name="48746"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/terrys.html"
   data-externalId=""
   data-username="terrys"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/terrys/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="terrys"
            /><span username="terrys" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/terrys.html"
data-externalId=""
data-username="terrys"
data-avatarId="-1"
id="jive-782932931766744096357"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>terrys</a>                        </div>
                        <em>62 posts since <br/>Nov 27, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48746.html#48746" title="Link to reply #2" class="jive-thread-reply-num font-color-meta-light">2.</a>
                        <span>May 13, 2010 5:46 PM</span>
                            (<a href="48726.html#48726" title="Go to message" class="font-color-meta-light " >in response to jalapeno</a>)
                        </div>

                        <strong>
                        <a href="48746.html#48746">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:7e61b53a-c959-4a2b-a329-1e19b1fe5316] --><div class="jive-rendered-content"><p>Thanks for the example with a trap.&#160; I'm keying off syslog messages.&#160; I think there may be a way to use the interface name and walk through all interfaces on a device to find the matching interface and look up its description.&#160; The example in the Transform blog uses the index, which is zero in test I've done. </p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Hmm.&#160; Maybe that's a hint that the transform example is for a trap and not a syslog and I need to think of using syslog data.&#160; Syslog only includes the interface name, not index.</p></div><!-- [DocumentBodyEnd:7e61b53a-c959-4a2b-a329-1e19b1fe5316] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48746" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48746&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48746-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48746-" data-uniqueKey="2-48746-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48746-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48789">


        <div id="thread-message-48789" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-alt jive-thread-reply-postauthor  clearfix">

            <div class="jive-thread-reply-body" id="48789">
                <a name="48789"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/terrys.html"
   data-externalId=""
   data-username="terrys"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/terrys/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="terrys"
            /><span username="terrys" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/terrys.html"
data-externalId=""
data-username="terrys"
data-avatarId="-1"
id="jive-782932931766747083172"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>terrys</a>                        </div>
                        <em>62 posts since <br/>Nov 27, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48789.html#48789" title="Link to reply #3" class="jive-thread-reply-num font-color-meta-light">3.</a>
                        <span>May 14, 2010 10:40 AM</span>
                            (<a href="48746.html#48746" title="Go to message" class="font-color-meta-light " >in response to terrys</a>)
                        </div>

                        <strong>
                        <a href="48789.html#48789">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:1395147b-f6a4-4b70-b637-793026f04094] --><div class="jive-rendered-content"><p>I'm not having much success in getting the interface description into the event summary for a syslog event.&#160; Is there a way to print some diag info into a log file from within a transform so that I can figure out what's happening?&#160; Thanks!</p></div><!-- [DocumentBodyEnd:1395147b-f6a4-4b70-b637-793026f04094] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48789" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48789&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48789-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48789-" data-uniqueKey="2-48789-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48789-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48830">


        <div id="thread-message-48830" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-postauthor  clearfix">

            <div class="jive-thread-reply-body" id="48830">
                <a name="48830"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/terrys.html"
   data-externalId=""
   data-username="terrys"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/terrys/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="terrys"
            /><span username="terrys" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/terrys.html"
data-externalId=""
data-username="terrys"
data-avatarId="-1"
id="jive-782932931766749955811"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>terrys</a>                        </div>
                        <em>62 posts since <br/>Nov 27, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48830.html#48830" title="Link to reply #4" class="jive-thread-reply-num font-color-meta-light">4.</a>
                        <span>May 15, 2010 9:15 AM</span>
                            (<a href="48789.html#48789" title="Go to message" class="font-color-meta-light " >in response to terrys</a>)
                        </div>

                        <strong>
                        <a href="48830.html#48830">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:42826e9f-d5e2-479e-97b1-98e55d12df44] --><div class="jive-rendered-content"><p>I used the following transform to start to debug why it isn't working.&#160; It modifies the Summary field and I use that as my print output.&#160; Crude and not very flexible for output formatting.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>descr = '|'<br/>if device:<br/>&#160;&#160;&#160; for iface in device.os.interfaces():<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; descr = descr + iface.description + '|'</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>evt.summary = '%s DOWN: %s' % (device,descr)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>It produced the output:</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>summary&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; None DOWN: |</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>So now I see that the variable 'device' isn't being set.&#160; Why that's not being set is a new challenge.</p></div><!-- [DocumentBodyEnd:42826e9f-d5e2-479e-97b1-98e55d12df44] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48830" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48830&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48830-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48830-" data-uniqueKey="2-48830-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48830-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48864">


        <div id="thread-message-48864" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-alt  clearfix">

            <div class="jive-thread-reply-body" id="48864">
                <a name="48864"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/jalapeno.html"
   data-externalId=""
   data-username="jalapeno"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7283, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/jalapeno/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="jalapeno"
            /><span username="jalapeno" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/jalapeno.html"
data-externalId=""
data-username="jalapeno"
data-avatarId="-1"
id="jive-728332931766752831052"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7283, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>jalapeno</a>                        </div>
                        <em>5 posts since <br/>Oct 6, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48864.html#48864" title="Link to reply #5" class="jive-thread-reply-num font-color-meta-light">5.</a>
                        <span>May 17, 2010 8:24 AM</span>
                            (<a href="48830.html#48830" title="Go to message" class="font-color-meta-light " >in response to terrys</a>)
                        </div>

                        <strong>
                        <a href="48864.html#48864">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:c0f8fa19-083f-418d-ac0b-6085de15d1ff] --><div class="jive-rendered-content"><p>try evt.device it should give you the device the event is linked to</p></div><!-- [DocumentBodyEnd:c0f8fa19-083f-418d-ac0b-6085de15d1ff] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48864" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48864&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48864-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48864-" data-uniqueKey="2-48864-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48864-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48865">


        <div id="thread-message-48865" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-postauthor  clearfix">

            <div class="jive-thread-reply-body" id="48865">
                <a name="48865"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/terrys.html"
   data-externalId=""
   data-username="terrys"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/terrys/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="terrys"
            /><span username="terrys" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/terrys.html"
data-externalId=""
data-username="terrys"
data-avatarId="-1"
id="jive-782932931766756052064"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>terrys</a>                        </div>
                        <em>62 posts since <br/>Nov 27, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48865.html#48865" title="Link to reply #6" class="jive-thread-reply-num font-color-meta-light">6.</a>
                        <span>May 17, 2010 10:17 AM</span>
                            (<a href="48864.html#48864" title="Go to message" class="font-color-meta-light " >in response to jalapeno</a>)
                        </div>

                        <strong>
                        <a href="48865.html#48865">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:54cc781b-7c22-47bb-8f3e-c2e54dd3c225] --><div class="jive-rendered-content"><p>I already tried using 'evt.device'.&#160; It is a text string, not a device object, so there's no way to reference evt.device.os.interfaces(), which is what I need to identify the interface.&#160; So I need to learn how to lookup the device object if I know the device name.&#160; Once I have the device object, I should be able to iterate through the interfaces to find the one that matches the interface name in the syslog message.&#160; I can then lookup the interface description.</p></div><!-- [DocumentBodyEnd:54cc781b-7c22-47bb-8f3e-c2e54dd3c225] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48865" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48865&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48865-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48865-" data-uniqueKey="2-48865-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48865-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48866">


        <div id="thread-message-48866" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-alt  clearfix">

            <div class="jive-thread-reply-body" id="48866">
                <a name="48866"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/jalapeno.html"
   data-externalId=""
   data-username="jalapeno"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7283, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/jalapeno/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="jalapeno"
            /><span username="jalapeno" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/jalapeno.html"
data-externalId=""
data-username="jalapeno"
data-avatarId="-1"
id="jive-728332931766758984793"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7283, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>jalapeno</a>                        </div>
                        <em>5 posts since <br/>Oct 6, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48866.html#48866" title="Link to reply #7" class="jive-thread-reply-num font-color-meta-light">7.</a>
                        <span>May 17, 2010 10:43 AM</span>
                            (<a href="48865.html#48865" title="Go to message" class="font-color-meta-light " >in response to terrys</a>)
                        </div>

                        <strong>
                        <a href="48866.html#48866">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:9c790197-4aba-4ab2-a52d-0517e777f603] --><div class="jive-rendered-content"><p>here is something I found that looks through the interfaces to match an index.&#160; Maybe it will work if you replace ifindex with interfaceName or description.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>for obj in device.os.interfaces.objectItems():</p><p>&#160;&#160;&#160; if obj[1].ifindex == index:</p><p>&#160;&#160;&#160;&#160;&#160;&#160; blah blah...</p></div><!-- [DocumentBodyEnd:9c790197-4aba-4ab2-a52d-0517e777f603] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48866" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48866&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48866-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48866-" data-uniqueKey="2-48866-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48866-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48874">


        <div id="thread-message-48874" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-postauthor  clearfix">

            <div class="jive-thread-reply-body" id="48874">
                <a name="48874"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/terrys.html"
   data-externalId=""
   data-username="terrys"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/terrys/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="terrys"
            /><span username="terrys" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/terrys.html"
data-externalId=""
data-username="terrys"
data-avatarId="-1"
id="jive-782932931766761981792"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>terrys</a>                        </div>
                        <em>62 posts since <br/>Nov 27, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48874.html#48874" title="Link to reply #8" class="jive-thread-reply-num font-color-meta-light">8.</a>
                        <span>May 17, 2010 1:18 PM</span>
                            (<a href="48866.html#48866" title="Go to message" class="font-color-meta-light " >in response to jalapeno</a>)
                        </div>

                        <strong>
                        <a href="48874.html#48874">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:8ff9a811-fe98-4f1e-b576-bf78fd08dc1c] --><div class="jive-rendered-content"><p>The sub-reference helps some.&#160; Here's what I have, which works in zendmd, but not in a transform:</p><p>&gt;&gt;&gt; devname = '406-router-01'</p><p>&gt;&gt;&gt; intname = 'GigabitEthernet0/1'</p><p>&gt;&gt;&gt;</p><p>&gt;&gt;&gt; descr = ''</p><p>&gt;&gt;&gt; dev=device.findDevice(devname)</p><p>&gt;&gt;&gt; for iface in dev.os.interfaces.objectItems():</p><p>...&#160;&#160;&#160;&#160; if iface[1].name() == intname:</p><p>...&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; descr = iface[1].description</p><p>...</p><p>&gt;&gt;&gt; summary = 'DOWN: %s Int: %s (%s)' % (devname, intname, descr)</p><p>&gt;&gt;&gt; print summary</p><p>DOWN: 406-router-01 Int: GigabitEthernet0/1 (Lab testing)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>In a transform, I get the following error in zenhub.log:</p><p>2010-05-17 13:11:33,047 INFO zen.ZenHub: Worker reports 2010-05-17 13:11:33,045 ERROR zen.Events: Error processing transform/mapping on Event Class /zport/dmd/Events/Net/Link/instances/LINK-3-UPDOWN<br/>Traceback (most recent call last):<br/>&#160; File "/opt/zenoss/zenoss/Products/ZenEvents/EventClassInst.py", line 96, in applyTransform<br/>&#160;&#160;&#160; exec(eventclass.transform, variables_and_funcs)<br/>&#160; File "&lt;string&gt;", line 5, in ?<br/>NameError: name 'findDevice' is not defined</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>I need a way to lookup the device object given the device name.&#160; I guess I could have it walk the list of all devices (for dev in devices...), but it would be much better to have a lookup that does it more efficiently, if such a thing exists.</p></div><!-- [DocumentBodyEnd:8ff9a811-fe98-4f1e-b576-bf78fd08dc1c] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48874" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48874&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48874-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48874-" data-uniqueKey="2-48874-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48874-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48906">


        <div id="thread-message-48906" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-alt jive-thread-reply-postauthor  clearfix">

            <div class="jive-thread-reply-body" id="48906">
                <a name="48906"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/terrys.html"
   data-externalId=""
   data-username="terrys"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/terrys/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="terrys"
            /><span username="terrys" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/terrys.html"
data-externalId=""
data-username="terrys"
data-avatarId="-1"
id="jive-782932931766764922817"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>terrys</a>                        </div>
                        <em>62 posts since <br/>Nov 27, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48906.html#48906" title="Link to reply #9" class="jive-thread-reply-num font-color-meta-light">9.</a>
                        <span>May 17, 2010 3:47 PM</span>
                            (<a href="48874.html#48874" title="Go to message" class="font-color-meta-light " >in response to terrys</a>)
                        </div>

                        <strong>
                        <a href="48906.html#48906">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:f026ada3-9329-4130-8273-095b037fb8b2] --><div class="jive-rendered-content"><p>The problem seems to be that an SNMP event has the object 'device' defined, so a transform that uses:</p><p>dev = device.findDevice(evt.device)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>will work correctly.&#160; However, for syslog messages, it looks to me like 'device' is a string that contains the device name, so the object method 'findDevice()' doesn't exist. That's why the error:</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>2010-05-17 15:45:44,556 INFO zen.ZenHub: Worker reports 2010-05-17 15:45:44,556 ERROR zen.Events: Error processing transform/mapping on Event Class /zport/dmd/Events/Net/Link/instances/LINK-3-UPDOWN<br/>Traceback (most recent call last):<br/>&#160; File "/opt/zenoss/zenoss/Products/ZenEvents/EventClassInst.py", line 96, in applyTransform<br/>&#160;&#160;&#160; exec(eventclass.transform, variables_and_funcs)<br/>&#160; File "&lt;string&gt;", line 2, in ?<br/>AttributeError: 'NoneType' object has no attribute 'findDevice'</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>on the transform:</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>descr = device<br/>dev = device.findDevice(evt.device)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>evt.summary = 'DOWN: %s\t%s\t(%s)' % (evt.device, evt.component, descr)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>It looks to me like the variable 'device' being a text string is a bug and that it should really be a device object.</p></div><!-- [DocumentBodyEnd:f026ada3-9329-4130-8273-095b037fb8b2] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48906" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48906&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48906-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48906-" data-uniqueKey="2-48906-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48906-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48907">


        <div id="thread-message-48907" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply  clearfix">

            <div class="jive-thread-reply-body" id="48907">
                <a name="48907"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/jalapeno.html"
   data-externalId=""
   data-username="jalapeno"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7283, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/jalapeno/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="jalapeno"
            /><span username="jalapeno" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/jalapeno.html"
data-externalId=""
data-username="jalapeno"
data-avatarId="-1"
id="jive-728332931766767974580"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7283, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>jalapeno</a>                        </div>
                        <em>5 posts since <br/>Oct 6, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48907.html#48907" title="Link to reply #10" class="jive-thread-reply-num font-color-meta-light">10.</a>
                        <span>May 17, 2010 4:05 PM</span>
                            (<a href="48906.html#48906" title="Go to message" class="font-color-meta-light " >in response to terrys</a>)
                        </div>

                        <strong>
                        <a href="48907.html#48907">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:4597fdb3-4a5e-4c27-973a-8b7ac504fc60] --><div class="jive-rendered-content"><p>Though I have not tested it.&#160; I had thought that using 'device' in an event transform always refered to the device in which the event was linked so you would not have to search for the device itself in the transform.&#160; If it is just a string and you are unable to use device.whatever it is certainly an inconvience.&#160; Wish I was more familier with the code to tell, but I would just take out the dev=device.findDevice statement and see if that works.&#160; If not there must be some other magic statement we have not found.</p></div><!-- [DocumentBodyEnd:4597fdb3-4a5e-4c27-973a-8b7ac504fc60] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48907" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48907&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48907-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48907-" data-uniqueKey="2-48907-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48907-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48910">


        <div id="thread-message-48910" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-alt jive-thread-reply-postauthor  clearfix">

            <div class="jive-thread-reply-body" id="48910">
                <a name="48910"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/terrys.html"
   data-externalId=""
   data-username="terrys"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/terrys/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="terrys"
            /><span username="terrys" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/terrys.html"
data-externalId=""
data-username="terrys"
data-avatarId="-1"
id="jive-782932931766771108735"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>terrys</a>                        </div>
                        <em>62 posts since <br/>Nov 27, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48910.html#48910" title="Link to reply #11" class="jive-thread-reply-num font-color-meta-light">11.</a>
                        <span>May 17, 2010 5:14 PM</span>
                            (<a href="48907.html#48907" title="Go to message" class="font-color-meta-light " >in response to jalapeno</a>)
                        </div>

                        <strong>
                        <a href="48910.html#48910">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:3e2c2058-d11c-4594-bfa8-f6015b74dd61] --><div class="jive-rendered-content"><p>Below is my analysis.&#160; It basically is a breakdown of what homework I've done.&#160; I agree that 'device' should reference the device info.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Well, the code in MySqlSendEvent.py contains the following, which looks to me like it should set 'device' to the device object which generated the event.&#160; The code in applyDeviceContext() below shows the device object's context being referenced.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p># Look for the device by name, then IP 'globally'<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; # and then from the /Network class<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; device = None<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; if getattr(evt, 'device', None):<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; device = devices.findDevice(evt.device)<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; if not device and getattr(evt, 'ipAddress', None):<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; device = devices.findDevice(evt.ipAddress)<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; if not device and getattr(evt, 'device', None):<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; device = self._findByIp(evt.device, networks)<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; if not device and getattr(evt, 'ipAddress', None):<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; device = self._findByIp(evt.ipAddress, networks)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160; if device:<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt.device = device.id<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; log.debug("Found device %s and adding device-specific"<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; " data", evt.device)<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt = self.applyDeviceContext(device, evt)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160; evtclass = events.lookup(evt, device)<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; if evtclass:<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt = evtclass.applyExtraction(evt)<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt = evtclass.applyValues(evt)<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt = evtclass.applyTransform(evt, device)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160; if evt._action == "drop":<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; log.debug("Dropping event")<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return None</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160; return evt</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p><br/>&#160;&#160;&#160; def applyDeviceContext(self, device, evt):<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; """<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Apply event attributes from device context.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160; @param device: device from DMD<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; @type device: device object<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; @param evt: event<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; @type evt: Event class<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; @return: updated event<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; @rtype: Event class<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; """<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; if not hasattr(evt, 'ipAddress'): evt.ipAddress = device.manageIp<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt.prodState = device.productionState<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt.Location = device.getLocationName()<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt.DeviceClass&#160; = device.getDeviceClassName()<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt.DeviceGroups = "|"+"|".join(device.getDeviceGroupNames())<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt.Systems = "|"+"|".join(device.getSystemNames())<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; evt.DevicePriority = device.getPriority()<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; return evt</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>But when I try it from within this transform:</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>devname = evt.device<br/>intname = evt.component<br/>dev = device<br/>for iface in dev.os.interfaces.objectItems():<br/>&#160;&#160;&#160; if iface[1].name() == intname:<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; descr = iface[1].description</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>summary = 'DOWN: %s\t%s\t(%s)' % (devname, intname, descr)<br/>evt.summary = summary</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>it generates the following error:</p><p>2010-05-17 17:06:05,352 INFO zen.ZenHub: Worker reports 2010-05-17 17:06:05,351 ERROR zen.Events: Error processing transform/mapping on Event Class /zport/dmd/Events/Net/Link/instances/LINK-3-UPDOWN<br/>Traceback (most recent call last):<br/>&#160; File "/opt/zenoss/zenoss/Products/ZenEvents/EventClassInst.py", line 96, in applyTransform<br/>&#160;&#160;&#160; exec(eventclass.transform, variables_and_funcs)<br/>&#160; File "&lt;string&gt;", line 4, in ?<br/>AttributeError: 'NoneType' object has no attribute 'os'</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>I'm interpreting this as 'device' is a 'NoneType' object (line 4 is "for iface in dev.os.interfaces.objectItems():") .</p><p>I enabled debugging to make sure that no other transforms were being applied in the class path to this transform.&#160; This is the only match.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>I'm running out of things to try.&#160; It just doesn't make sense to me, though I'm just learning Python, so there's a very good probability that I'm missing something subtle in the language.</p></div><!-- [DocumentBodyEnd:3e2c2058-d11c-4594-bfa8-f6015b74dd61] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48910" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48910&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48910-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48910-" data-uniqueKey="2-48910-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48910-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    
    <!-- END reply -->
                    
    <!-- BEGIN reply -->


    <li class="reply" id="discussion-48930">


        <div id="thread-message-48930" class="jive-thread-message clearfix">
            <div class="">

            <div class="jive-thread-reply jive-thread-reply-postauthor  clearfix">

            <div class="jive-thread-reply-body" id="48930">
                <a name="48930"></a>
                <div class="jive-author">

                        <span class="jive-author-avatar-container">


<a href="../people/terrys.html"
   data-externalId=""
   data-username="terrys"
   data-avatarId="-1"
   class="jiveTT-hover-user"
   onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
   onmouseout="quickuserprofile.cancelTooltip();"
        >
    <img
            class="jive-avatar"

            src="people/terrys/avatar/46.png?a=-1"
            border="0" height="46" width="46"
            alt="terrys"
            /><span username="terrys" style="display:none;"></span></a>
<span class="j-status-levels"><img src="../4.5.6/images/status/statusicon-08.gif"
           alt="Rank: White Belt" title="Rank: White Belt"/> </span>
                        </span>

                        <div class="jive-username-link-wrapper">
<a href="../people/terrys.html"
data-externalId=""
data-username="terrys"
data-avatarId="-1"
id="jive-782932931766774091730"
onmouseover="var presence = null; quickuserprofile.getUserProfileTooltip( 7829, presence );"
onmouseout="quickuserprofile.cancelTooltip();"
class="jiveTT-hover-user jive-username-link"
>terrys</a>                        </div>
                        <em>62 posts since <br/>Nov 27, 2009</em>
                </div>

                <div class="jive-thread-reply-body-container">

                    <div class="jive-thread-reply-subject font-color-meta">

                        <div class="jive-thread-post-moderating"><span class="jive-icon-med jive-icon-moderation"></span>Currently Being Moderated</div>
                        <div class="jive-thread-reply-date">
                            <a href="48930.html#48930" title="Link to reply #12" class="jive-thread-reply-num font-color-meta-light">12.</a>
                        <span>May 18, 2010 10:16 AM</span>
                            (<a href="48910.html#48910" title="Go to message" class="font-color-meta-light " >in response to terrys</a>)
                        </div>

                        <strong>
                        <a href="48930.html#48930">Re: Adding interface description to an event</a>
                        </strong>

                    </div>

                    <div class="jive-thread-reply-message">
                        <!-- [DocumentBodyStart:24fe065d-7eec-4437-9f3a-2808c19f56ec] --><div class="jive-rendered-content"><p>I finally have something working.&#160; Here's the transform.&#160; It could be condensed; I used several temporary variables to aid my troubleshooting process. The device object as well as the event object are both passed to the transform.&#160; If the device was not found by the zenhub processing, then 'device' will be None and the transform will fail and the result will be the default event summary message.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><pre>devname = evt.device<br/>intname = evt.component<br/>descr = ''<br/>log.debug('Transform= device:%s evt.device:%s' % (device, evt.device))<br/>for iface in device.os.interfaces.objectItems():<br/>&#160;&#160;&#160; if iface[1].name() == intname:<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; descr = iface[1].description<br/><br/>summary = 'DOWN: %s\t%s\t(%s)' % (devname, intname, descr)<br/>evt.summary = summary</pre><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>The event summary that results is:</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>DOWN: 406-router-06&#160;&#160;&#160;&#160; FastEthernet0/6&#160;&#160;&#160;&#160; (Netlink to 406-router-01)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>which I find more useful than the default summary:</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>Interface FastEthernet0/19, changed&#160; state to down</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>One of the problems I encountered was using the 'client.py' script to generate test syslog messages.&#160; The source IP address of the syslog is 'localhost', which confused zensyslog, even though I have the 'parsehost' setting enabled (set to True).&#160; Other messages that are being forwarded by our syslog-ng server are working.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>A more condensed version of the same transform:</p><pre><br/>descr = ''<br/>log.debug('Transform= device:%s evt.device:%s' % (device, evt.device))<br/>for iface in device.os.interfaces.objectItems():<br/>&#160;&#160;&#160; if iface[1].name() == evt.component:<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160; descr = iface[1].description<br/>evt.summary = 'DOWN: %s\t%s\t(%s)' % (evt.device, evt.component, descr)</pre><p style="min-height: 8pt; height: 8pt; padding: 0px;">&#160;</p><p>In the Event Console, it doesn't look like the tabs in the summary are of any benefit, so I may change them to a couple of spaces.&#160; I was hoping to get a more columnar display of device name, interface name, and description.</p></div><!-- [DocumentBodyEnd:24fe065d-7eec-4437-9f3a-2808c19f56ec] -->
                    </div>

                    <!-- BEGIN content details -->
                    <div id="discussion-action-div-48930" class="jive-content-controls clearfix">
                        <ul>

                                <li><a href="message-abuse!input.jspa?objectID=48930&amp;objectType=2"><span class="jive-icon-sml jive-icon-warn"></span>Report Abuse</a></li>

                            <li class="discussion-message-acclaim">
<div id="acclaim-container-2-48930-" class="acclaim-container">
    <div id="jive-acclaim-like-container-2-48930-" data-uniqueKey="2-48930-" data-ratingType="like" data-hasVoted="false" data-likes="0" class="acclaim-like-container">
         <span class="jive-icon-sml jive-icon-like"></span>Like
         (<a href="48865.html#" id="jive-acclaim-likedlink-2-48930-"  class="font-color-meta jive-acclaim-likedlink">0</a>)
    </div>
</div></li>

                        
                        </ul>
                    </div>
                    <!-- END content details-->

                </div>

            </div>
        </div>

        </div></div>






    </li>
    </ul>
    
    <!-- END reply -->
                    



                <div id="jive-thread-reply-footer" class="clearfix">
                        <a href="48865.html#13522" class="localScroll"><span class="jive-icon-sml jive-icon-arrow-top"></span>Go to original post</a>
                </div>



            </div>
            <!-- END messages -->

		</div>
    </div>
    <!-- END main body column -->

    <!-- BEGIN sidebar column container -->
    <div id="jive-body-sidebarcol-container">
        <!-- BEGIN sidebar column -->
        <div id="jive-body-sidebarcol">

<div id="jive-action-sidebar" class="jive-sidebar jive-box jive-sidebar-actions jive-box-actions">


    <div class="jive-box-header">
        <h4 id="jive-action-sidebar-tab-header_thread-actions-tab">Actions</h4>
    </div>
    <div id="jive-action-sidebar-body" class="jive-sidebar-body jive-sidebar-body-actions jive-box-body">

        <div id="jive-action-sidebar-tab-_thread-actions-tab"
             class="jive-action-sidebar-tab-first"
 >



            <ul id="jive-action-sidebar-tab-list_thread-actions-tab" class=" jive-icon-list">













                <li id="jive-link-thread-print" style=""
                        ><a href="../thread/13522%3Fdecorator=print&amp;displayFullThread=true.html"
rel="nofollow"
onclick=""
title="">
<span class="jive-icon-med jive-icon-print-preview"></span>
View print preview
</a></li>



            </ul>
        </div> <!-- /#jive-action-sidebar-tab-_id -->
    </div>

</div>

    <!-- BEGIN sidebar box 'More Like This' -->

    <div class="jive-box jive-sidebar">
        <div class="jive-box-header jive-sidebar-header">
            <h4>More Like This</h4>
        </div>
        <div class="jive-box-body jive-sidebar-body jive-sidebar-body-morelikethis">
            <ul class="jive-icon-list" id="jive-more-like-this-2-48723">
                <li><span>Retrieving data ...</span></li>
            </ul>
        </div>
    </div>

    <!-- END sidebar box 'More Like This' -->
        
            
            

		<!-- start jive social container -->
        <!-- end jive social container -->


          <div class="jive-box jive-sidebar jive-box-questionLegend">
              <div class="jive-box-header jive-sidebar-header">
                  <h4>Legend</h4>
              </div>
              <div class="jive-box-body jive-sidebar-body">
                  <ul class="jive-icon-list font-color-meta">
                      <li><span class="jive-icon-med jive-icon-discussion-correct"></span>
<strong class="jive-thread-reply-message-correct-label">Correct Answers</strong> - 4 points                      </li>
                      <li><span class="jive-icon-med jive-icon-discussion-helpful"></span>
<strong class="jive-thread-reply-message-helpful-label">Helpful Answers</strong> - 2 points                      </li>
                  </ul>
              </div>
          </div>
		


        </div>
        <!-- END sidebar column -->
    </div>
    <!-- END sidebar column container -->

    <!-- END main body -->

</div>
<!-- END main body -->



        </div>

<div class="clear"></div>
        </div>
        <!-- MAIN CONTENT END -->
     <!-- END CONTENT -->

</div>
<!-- END MIDDLE CONTENT -->

<!-- START FOOTER -->
<div id="footer">
 <table cellpadding="0" cellspacing="0" border="0">
   <tr valign="top">
      <td rowspan="2" style="padding-left:10px;padding-right:10px;">
        <ul id="socialmedia">
        <li><a href="http://feeds.feedburner.com/ZenossBlog" class="rss" target="_blank"><span>rss</span></a></li>
           <li><a href="http://twitter.com/zenoss" class="twitter" target="_blank"><span>twitter</span></a></li>
           <li><a href="http://slashdot.org/bookmark.pl" class="slashdot" target="_blank"><span>slashdot</span></a></li>
           <li><a href="http://www.reddit.com/" class="reddit" target="_blank"><span>reddit</span></a></li>
           <li><a href="http://delicious.com/save" class="del" target="_blank"><span>delicious</span></a></li>
           <li><a href="http://technorati.com/" class="tech" target="_blank"><span>technorati</span></a></li>
       </ul> 
     </td>
     <td rowspan="2" style="padding-left:10px;padding-right:10px;">
        <a href="http://twitter.com/zenoss" title="Follow us on Twitter">Follow Us On Twitter &raquo;</a>
       <ul id="twitter_update_list"> </ul>
     </td>
     <td rowspan="2" style="padding-right:10px;">
        <a href="../blogs/zenossblog.html" title="Latest from the Zenoss blog">Latest from the Zenoss Blog &raquo;</a>
       <script language="JavaScript" src="http://feed2js.org//feed2js.php?src=http%3A%2F%2Ffeeds.feedburner.com%2FZenossBlog%3Fformat%3Dxml&amp;num=3&amp;desc=85&amp;targ=y" type="text/javascript"></script>
       <noscript><a href="http://feed2js.org//feed2js.php?src=http%3A%2F%2Ffeeds.feedburner.com%2FZenossBlog%3Fformat%3Dxml&amp;num=3&amp;desc=85&amp;targ=y&amp;html=y">View RSS feed</a></noscript>
     </td>
     <td rowspan="2" valign="middle" style="padding-right:20px;">
        <img src="../themes/userbar-disabled/images/tableborder.png" alt="" />
     </td>
     <td>
        Community
       <ul class="sitemap">
        <li><a href="../index.jspa.html" title="Home">Home</a></li>
           <li><a href="community/documentation" title="Documentation">Documentation</a></li>
           <li><a href="community/developers" title="Code">Code</a></li> 
           <li><a href="community/zenpacks" title="ZenPacks">ZenPacks</a></li> 
           <li><a href="community/forums" title="Discussion">Discussion</a></li> 
           <li><a href="community/partners" title="Get Involved">Get Involved</a></li> 
           <li><a href="../people.1.html" title="Membership">Membership</a></li>
       </ul>
     </td>
     <td>
        Products
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/solution/overview" title="Overview">Overview</a></li>
                        <li><a href="http://www.zenoss.com/solution/virtualization-monitoring" title="Virtualization Monitoring">Virtualization Monitoring</a></li>
                        <li><a href="http://www.zenoss.com/solution/cloud-monitoring" title="Cloud Monitoring">Cloud Monitoring</a></li>
                        <li><a href="http://www.zenoss.com/solution/cisco-ucs-management" title="Cisco UCS Management">Cisco UCS Management</a></li>
                        <li><a href="http://www.zenoss.com/solution/server-monitoring" title="Server Monitoring">Server Monitoring</a></li>
                        <li><a href="http://www.zenoss.com/solution/network" title="Network Monitoring">Network Monitoring</a></li>
       </ul>
     </td>
     <td>
        Services
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/support/index" title="Support Overview">Overview</a></li>
                        <li><a href="http://www.zenoss.com/support/consulting" title="Consulting">Consulting</a></li>
                        <li><a href="http://www.zenoss.com/support/customer-support" title="Support">Customer Support</a></li>
                        <li><a href="http://www.zenoss.com/support/training" title="Training">Training</a></li>        
       </ul>
       Resources
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/resources/demo" title="Resources">Resource Center</a></li>
       </ul>
     </td>
     <td>
       Customers
       <ul class="sitemap">
                        <li><a href="http://www.zenoss.com/customers/index" title="Customers Overview">Overview</a></li>
                        <li><a href="http://www.zenoss.com/customers/case-studies/case-studies" title="Case Studies">Case Studies</a></li>
                        <li><a href="http://www.zenoss.com/customers/by-industry" title="Case Studies">Customers by Industry</a></li>
                        <li><a href="http://www.zenoss.com/customers/industries/index" title="Industries"><span>Industries</span></a></li>
       </ul>


       Partners
       <ul class="sitemap">
            <li><a href="http://www.zenoss.com/partners/open-source-network-management-solutions" title="Current Partners">Current Partners</a></li>
            <li><a href="http://www.zenoss.com/partners/contact" title="Become a Partner">Become a Partner</a></li>
       </ul>
     </td>
     <td style="padding-right:0px;">
        About Us
       <ul class="sitemap">
        <li><a href="http://www.zenoss.com/about/index" title="Overview">Overview</a></li> 
           <li><a href="http://www.zenoss.com/about/awards" title="Awards">Awards</a></li> 
           <li><a href="http://www.zenoss.com/about/team" title="Team">Team</a></li> 
           <li><a href="http://www.zenoss.com/about/news" title="News">News</a></li> 
           <li><a href="http://www.zenoss.com/about/news/events" title="Events">Events</a></li> 
           <li><a href="http://www.zenoss.com/about/jobs" title="Careers">Careers</a></li> 
           <li><a href="http://www.zenoss.com/about/contact" title="Contact">Contact</a></li>
       </ul>
     </td>
   </tr>
   <tr valign="middle">
     <td align="right">
        <a href="http://sourceforge.net/projects/zenoss" target="_blank" title="SourceForge"><img width="120" height="30" alt="Get Zenoss Core - Enterprise IT Monitoring at SourceForge.net. Fast, secure and Free Open Source software downloads" src="http://sflogo.sourceforge.net/sflogo.php?group_id=163126&amp;type=11"></a>
     </td>
     <td align="right">
        <a href="../index.html" title="Monitored by Zenoss"><img src="../themes/userbar-disabled/images/logo-monitoredby_ZEN.png" alt="Monitored By Zenoss" /></a>
     </td>
      <td colspan="3" align="right" >
        <a href="../index.html" title="Zenoss Home"><img src="../themes/userbar-disabled/images/new-logo-zenoss-footer_ZEN.gif" /></a>
       <div id="copyright" class="right">Copyright &copy; 2005-2011 Zenoss, Inc.</div>
     </td>
   </tr>
   <tr valign="top">
     <td colspan="9" align="right">&nbsp;</td>
   </tr>
 </table>
</div>
<!-- END FOOTER -->

 <!-- BEGIN SCRIPTS --> 

   <!-- END -->

    <!-- TOP NAV DROP DOWN NAVIGATION - IE6 -->
   <!-- END DROP DOWN -->       

   <!-- TWITTER SCRIPTS -->

<!-- END GOOGLE ANALYTICS CODE -->

<!-- Pardot tracking code, async version -->
<!-- END Pardot tracking code, async version -->




<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-73372470-1','auto');ga('send','pageview');</script></body>
</html>

